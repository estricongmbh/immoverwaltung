(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Hb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var md={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function qb(){if(c_)return cl;c_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return cl.Fragment=e,cl.jsx=n,cl.jsxs=n,cl}var h_;function Fb(){return h_||(h_=1,md.exports=qb()),md.exports}var R=Fb(),gd={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function Gb(){if(f_)return Qe;f_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function M(x){return x===null||typeof x!="object"?null:(x=D&&x[D]||x["@@iterator"],typeof x=="function"?x:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,he={};function re(x,U,X){this.props=x,this.context=U,this.refs=he,this.updater=X||Q}re.prototype.isReactComponent={},re.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},re.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Ee(){}Ee.prototype=re.prototype;function be(x,U,X){this.props=x,this.context=U,this.refs=he,this.updater=X||Q}var ge=be.prototype=new Ee;ge.constructor=be,ee(ge,re.prototype),ge.isPureReactComponent=!0;var Pe=Array.isArray,Se={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function k(x,U,X,V,K,ae){return X=ae.ref,{$$typeof:r,type:x,key:U,ref:X!==void 0?X:null,props:ae}}function E(x,U){return k(x.type,U,void 0,void 0,void 0,x.props)}function T(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function I(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(X){return U[X]})}var b=/\/+/g;function C(x,U){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):U.toString(36)}function N(){}function le(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(U){x.status==="pending"&&(x.status="fulfilled",x.value=U)},function(U){x.status==="pending"&&(x.status="rejected",x.reason=U)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Ue(x,U,X,V,K){var ae=typeof x;(ae==="undefined"||ae==="boolean")&&(x=null);var te=!1;if(x===null)te=!0;else switch(ae){case"bigint":case"string":case"number":te=!0;break;case"object":switch(x.$$typeof){case r:case e:te=!0;break;case A:return te=x._init,Ue(te(x._payload),U,X,V,K)}}if(te)return K=K(x),te=V===""?"."+C(x,0):V,Pe(K)?(X="",te!=null&&(X=te.replace(b,"$&/")+"/"),Ue(K,U,X,"",function(de){return de})):K!=null&&(T(K)&&(K=E(K,X+(K.key==null||x&&x.key===K.key?"":(""+K.key).replace(b,"$&/")+"/")+te)),U.push(K)),1;te=0;var me=V===""?".":V+":";if(Pe(x))for(var ce=0;ce<x.length;ce++)V=x[ce],ae=me+C(V,ce),te+=Ue(V,U,X,ae,K);else if(ce=M(x),typeof ce=="function")for(x=ce.call(x),ce=0;!(V=x.next()).done;)V=V.value,ae=me+C(V,ce++),te+=Ue(V,U,X,ae,K);else if(ae==="object"){if(typeof x.then=="function")return Ue(le(x),U,X,V,K);throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return te}function G(x,U,X){if(x==null)return x;var V=[],K=0;return Ue(x,V,"","",function(ae){return U.call(X,ae,K++)}),V}function Z(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(X){(x._status===0||x._status===-1)&&(x._status=1,x._result=X)},function(X){(x._status===0||x._status===-1)&&(x._status=2,x._result=X)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var z=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function W(){}return Qe.Children={map:G,forEach:function(x,U,X){G(x,function(){U.apply(this,arguments)},X)},count:function(x){var U=0;return G(x,function(){U++}),U},toArray:function(x){return G(x,function(U){return U})||[]},only:function(x){if(!T(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Qe.Component=re,Qe.Fragment=n,Qe.Profiler=l,Qe.PureComponent=be,Qe.StrictMode=s,Qe.Suspense=y,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Se.H.useMemoCache(x)}},Qe.cache=function(x){return function(){return x.apply(null,arguments)}},Qe.cloneElement=function(x,U,X){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var V=ee({},x.props),K=x.key,ae=void 0;if(U!=null)for(te in U.ref!==void 0&&(ae=void 0),U.key!==void 0&&(K=""+U.key),U)!Ae.call(U,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&U.ref===void 0||(V[te]=U[te]);var te=arguments.length-2;if(te===1)V.children=X;else if(1<te){for(var me=Array(te),ce=0;ce<te;ce++)me[ce]=arguments[ce+2];V.children=me}return k(x.type,K,void 0,void 0,ae,V)},Qe.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Qe.createElement=function(x,U,X){var V,K={},ae=null;if(U!=null)for(V in U.key!==void 0&&(ae=""+U.key),U)Ae.call(U,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(K[V]=U[V]);var te=arguments.length-2;if(te===1)K.children=X;else if(1<te){for(var me=Array(te),ce=0;ce<te;ce++)me[ce]=arguments[ce+2];K.children=me}if(x&&x.defaultProps)for(V in te=x.defaultProps,te)K[V]===void 0&&(K[V]=te[V]);return k(x,ae,void 0,void 0,null,K)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(x){return{$$typeof:g,render:x}},Qe.isValidElement=T,Qe.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:Z}},Qe.memo=function(x,U){return{$$typeof:p,type:x,compare:U===void 0?null:U}},Qe.startTransition=function(x){var U=Se.T,X={};Se.T=X;try{var V=x(),K=Se.S;K!==null&&K(X,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(W,z)}catch(ae){z(ae)}finally{Se.T=U}},Qe.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()},Qe.use=function(x){return Se.H.use(x)},Qe.useActionState=function(x,U,X){return Se.H.useActionState(x,U,X)},Qe.useCallback=function(x,U){return Se.H.useCallback(x,U)},Qe.useContext=function(x){return Se.H.useContext(x)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(x,U){return Se.H.useDeferredValue(x,U)},Qe.useEffect=function(x,U,X){var V=Se.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(x,U)},Qe.useId=function(){return Se.H.useId()},Qe.useImperativeHandle=function(x,U,X){return Se.H.useImperativeHandle(x,U,X)},Qe.useInsertionEffect=function(x,U){return Se.H.useInsertionEffect(x,U)},Qe.useLayoutEffect=function(x,U){return Se.H.useLayoutEffect(x,U)},Qe.useMemo=function(x,U){return Se.H.useMemo(x,U)},Qe.useOptimistic=function(x,U){return Se.H.useOptimistic(x,U)},Qe.useReducer=function(x,U,X){return Se.H.useReducer(x,U,X)},Qe.useRef=function(x){return Se.H.useRef(x)},Qe.useState=function(x){return Se.H.useState(x)},Qe.useSyncExternalStore=function(x,U,X){return Se.H.useSyncExternalStore(x,U,X)},Qe.useTransition=function(){return Se.H.useTransition()},Qe.version="19.1.0",Qe}var d_;function rm(){return d_||(d_=1,gd.exports=Gb()),gd.exports}var Ye=rm(),pd={exports:{}},hl={},yd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function Kb(){return m_||(m_=1,function(r){function e(G,Z){var z=G.length;G.push(Z);e:for(;0<z;){var W=z-1>>>1,x=G[W];if(0<l(x,Z))G[W]=Z,G[z]=x,z=W;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var Z=G[0],z=G.pop();if(z!==Z){G[0]=z;e:for(var W=0,x=G.length,U=x>>>1;W<U;){var X=2*(W+1)-1,V=G[X],K=X+1,ae=G[K];if(0>l(V,z))K<x&&0>l(ae,V)?(G[W]=ae,G[K]=z,W=K):(G[W]=V,G[X]=z,W=X);else if(K<x&&0>l(ae,z))G[W]=ae,G[K]=z,W=K;else break e}}return Z}function l(G,Z){var z=G.sortIndex-Z.sortIndex;return z!==0?z:G.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],A=1,D=null,M=3,Q=!1,ee=!1,he=!1,re=!1,Ee=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Pe(G){for(var Z=n(p);Z!==null;){if(Z.callback===null)s(p);else if(Z.startTime<=G)s(p),Z.sortIndex=Z.expirationTime,e(y,Z);else break;Z=n(p)}}function Se(G){if(he=!1,Pe(G),!ee)if(n(y)!==null)ee=!0,Ae||(Ae=!0,C());else{var Z=n(p);Z!==null&&Ue(Se,Z.startTime-G)}}var Ae=!1,k=-1,E=5,T=-1;function I(){return re?!0:!(r.unstable_now()-T<E)}function b(){if(re=!1,Ae){var G=r.unstable_now();T=G;var Z=!0;try{e:{ee=!1,he&&(he=!1,be(k),k=-1),Q=!0;var z=M;try{t:{for(Pe(G),D=n(y);D!==null&&!(D.expirationTime>G&&I());){var W=D.callback;if(typeof W=="function"){D.callback=null,M=D.priorityLevel;var x=W(D.expirationTime<=G);if(G=r.unstable_now(),typeof x=="function"){D.callback=x,Pe(G),Z=!0;break t}D===n(y)&&s(y),Pe(G)}else s(y);D=n(y)}if(D!==null)Z=!0;else{var U=n(p);U!==null&&Ue(Se,U.startTime-G),Z=!1}}break e}finally{D=null,M=z,Q=!1}Z=void 0}}finally{Z?C():Ae=!1}}}var C;if(typeof ge=="function")C=function(){ge(b)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,le=N.port2;N.port1.onmessage=b,C=function(){le.postMessage(null)}}else C=function(){Ee(b,0)};function Ue(G,Z){k=Ee(function(){G(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var Z=3;break;default:Z=M}var z=M;M=Z;try{return G()}finally{M=z}},r.unstable_requestPaint=function(){re=!0},r.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var z=M;M=G;try{return Z()}finally{M=z}},r.unstable_scheduleCallback=function(G,Z,z){var W=r.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,G){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=z+x,G={id:A++,callback:Z,priorityLevel:G,startTime:z,expirationTime:x,sortIndex:-1},z>W?(G.sortIndex=z,e(p,G),n(y)===null&&G===n(p)&&(he?(be(k),k=-1):he=!0,Ue(Se,z-W))):(G.sortIndex=x,e(y,G),ee||Q||(ee=!0,Ae||(Ae=!0,C()))),G},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(G){var Z=M;return function(){var z=M;M=Z;try{return G.apply(this,arguments)}finally{M=z}}}}(_d)),_d}var g_;function Qb(){return g_||(g_=1,yd.exports=Kb()),yd.exports}var vd={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function Yb(){if(p_)return fn;p_=1;var r=rm();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:D==null?null:""+D,children:y,containerInfo:p,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(y,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,A)},fn.flushSync=function(y){var p=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=A,s.d.f()}},fn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},fn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},fn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var A=p.as,D=g(A,p.crossOrigin),M=typeof p.integrity=="string"?p.integrity:void 0,Q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:D,integrity:M,fetchPriority:Q}):A==="script"&&s.d.X(y,{crossOrigin:D,integrity:M,fetchPriority:Q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},fn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,D=g(A,p.crossOrigin);s.d.L(y,A,{crossOrigin:D,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(y,p){if(typeof y=="string")if(p){var A=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},fn.requestFormReset=function(y){s.d.r(y)},fn.unstable_batchedUpdates=function(y,p){return y(p)},fn.useFormState=function(y,p,A){return d.H.useFormState(y,p,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var y_;function Xb(){if(y_)return vd.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vd.exports=Yb(),vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function $b(){if(__)return hl;__=1;var r=Qb(),e=rm(),n=Xb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,o=f;break}if(S===o){v=!0,o=h,a=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===a){v=!0,a=f,o=h;break}if(S===o){v=!0,o=f,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),be=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),b=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=b&&t[b]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case re:return"Profiler";case he:return"StrictMode";case Se:return"Suspense";case Ae:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ge:return(t.displayName||"Context")+".Provider";case be:return(t._context.displayName||"Context")+".Consumer";case Pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:le(t.type)||"Memo";case E:i=t._payload,t=t._init;try{return le(t(i))}catch{}}return null}var Ue=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},W=[],x=-1;function U(t){return{current:t}}function X(t){0>x||(t.current=W[x],W[x]=null,x--)}function V(t,i){x++,W[x]=t.current,t.current=i}var K=U(null),ae=U(null),te=U(null),me=U(null);function ce(t,i){switch(V(te,i),V(ae,t),V(K,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ly(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ly(i),t=Uy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(K),V(K,t)}function de(){X(K),X(ae),X(te)}function De(t){t.memoizedState!==null&&V(me,t);var i=K.current,a=Uy(i,t.type);i!==a&&(V(ae,t),V(K,a))}function oe(t){ae.current===t&&(X(K),X(ae)),me.current===t&&(X(me),sl._currentValue=z)}var ue=Object.prototype.hasOwnProperty,Ke=r.unstable_scheduleCallback,je=r.unstable_cancelCallback,xe=r.unstable_shouldYield,Ie=r.unstable_requestPaint,we=r.unstable_now,Te=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Be=r.unstable_UserBlockingPriority,Ge=r.unstable_NormalPriority,kt=r.unstable_LowPriority,Qt=r.unstable_IdlePriority,ze=r.log,bt=r.unstable_setDisableYieldValue,Me=null,ke=null;function vt(t){if(typeof ze=="function"&&bt(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Me,t)}catch{}}var At=Math.clz32?Math.clz32:Ct,di=Math.log,In=Math.LN2;function Ct(t){return t>>>=0,t===0?32:31-(di(t)/In|0)|0}var cn=256,Nn=4194304;function Tn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?h=Tn(o):(v&=S,v!==0?h=Tn(v):a||(a=S&~t,a!==0&&(h=Tn(a))))):(S=o&~f,S!==0?h=Tn(S):v!==0?h=Tn(v):a||(a=o&~t,a!==0&&(h=Tn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function mi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(){var t=cn;return cn<<=1,(cn&4194048)===0&&(cn=256),t}function yr(){var t=Nn;return Nn<<=1,(Nn&62914560)===0&&(Nn=4194304),t}function Un(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function jn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _r(t,i,a,o,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-At(a),ne=1<<$;S[$]=0,O[$]=-1;var q=H[$];if(q!==null)for(H[$]=null,$=0;$<q.length;$++){var F=q[$];F!==null&&(F.lane&=-536870913)}a&=~ne}o!==0&&Cn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Cn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-At(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function vr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-At(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function ni(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ii(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:r_(t.type))}function Bn(t,i){var a=Z.p;try{return Z.p=t,i()}finally{Z.p=a}}var yt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+yt,Vt="__reactProps$"+yt,Hn="__reactContainer$"+yt,uo="__reactEvents$"+yt,ph="__reactListeners$"+yt,Er="__reactHandles$"+yt,Hl="__reactResources$"+yt,hs="__reactMarker$"+yt;function Tr(t){delete t[Bt],delete t[Vt],delete t[uo],delete t[ph],delete t[Er]}function Li(t){var i=t[Bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Hn]||a[Bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=qy(t);t!==null;){if(a=t[Bt])return a;t=qy(t)}return i}t=a,a=t.parentNode}return null}function gi(t){if(t=t[Bt]||t[Hn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function pi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yn(t){var i=t[Hl];return i||(i=t[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(t){t[hs]=!0}var co=new Set,Zs={};function ri(t,i){Ui(t,i),Ui(t+"Capture",i)}function Ui(t,i){for(Zs[t]=i,t=0;t<i.length;t++)co.add(i[t])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},fs={};function Gl(t){return ue.call(fs,t)?!0:ue.call(Fl,t)?!1:ql.test(t)?fs[t]=!0:(Fl[t]=!0,!1)}function br(t,i,a){if(Gl(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function tn(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}var ds,Kl;function ji(t){if(ds===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ds=i&&i[1]||"",Kl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+t+Kl}var Ws=!1;function Js(t,i){if(!t||Ws)return"";Ws=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(F){var q=F}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(F){q=F}t.call(ne.prototype)}}else{try{throw Error()}catch(F){q=F}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var O=v.split(`
`),H=S.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===H.length)for(o=O.length-1,h=H.length-1;1<=o&&0<=h&&O[o]!==H[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==H[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==H[h]){var $=`
`+O[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{Ws=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ji(a):""}function ho(t){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Js(t.type,!1);case 11:return Js(t.type.render,!1);case 1:return Js(t.type,!0);case 31:return ji("Activity");default:return""}}function ea(t){try{var i="";do i+=ho(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yh(t){var i=fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ta(t){t._valueTracker||(t._valueTracker=yh(t))}function mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=fo(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _h=/[\n"\\]/g;function Pt(t){return t.replace(_h,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dn(t,i,a,o,h,f,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+_n(i)):t.value!==""+_n(i)&&(t.value=""+_n(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Sr(t,v,_n(i)):a!=null?Sr(t,v,_n(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+_n(S):t.removeAttribute("name")}function gs(t,i,a,o,h,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+_n(a):"",i=i!=null?""+_n(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Sr(t,i,a){i==="number"&&ms(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Bi(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+_n(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ft(t,i,a){if(i!=null&&(i=""+_n(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+_n(a):""}function ps(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ue(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=_n(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function qn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||ys.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Ql(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Ql(t,f,i[f])}function po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return Eh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Hi=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Fi=null;function yo(t){var i=gi(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(s(90));Dn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&mo(o)}break e;case"textarea":ft(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Bi(t,!!a.multiple,i,!1)}}}var _i=!1;function Yl(t,i,a){if(_i)return t(i,a);_i=!0;try{var o=t(i);return o}finally{if(_i=!1,(qi!==null||Fi!==null)&&(Bu(),qi&&(i=qi,t=Fi,Fi=qi=null,yo(i),t)))for(i=0;i<t.length;i++)yo(t[i])}}function _s(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(si)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Gn=!1}var vi=null,Ar=null,Gi=null;function _o(){if(Gi)return Gi;var t,i=Ar,a=i.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Gi=h.slice(t,1<o?1-o:void 0)}function Ei(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function vo(){return!1}function Yt(t){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ti:vo,this.isPropagationStopped=vo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),i}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Yt(lt),Es=A({},lt,{view:0,detail:0}),Xl=Yt(Es),ra,sa,bi,Ts=A({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(ra=t.screenX-bi.screenX,sa=t.screenY-bi.screenY):sa=ra=0,bi=t),ra)},movementY:function(t){return"movementY"in t?t.movementY:sa}}),Kn=Yt(Ts),$l=A({},Ts,{dataTransfer:0}),Th=Yt($l),bs=A({},Es,{relatedTarget:0}),aa=Yt(bs),Eo=A({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Yt(Eo),Zl=A({},lt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),la=Yt(Zl),bh=A({},lt,{data:0}),To=Yt(bh),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Jl[t])?!!i[t]:!1}function As(){return bo}var eu=A({},Es,{key:function(t){if(t.key){var i=Ss[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ua=Yt(eu),tu=A({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Yt(tu),Ki=A({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),nu=Yt(Ki),iu=A({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Yt(iu),su=A({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Yt(su),vn=A({},lt,{newState:0,oldState:0}),au=Yt(vn),ou=[9,13,27,32],Si=si&&"CompositionEvent"in window,c=null;si&&"documentMode"in document&&(c=document.documentMode);var m=si&&"TextEvent"in window&&!c,_=si&&(!Si||c&&8<c&&11>=c),w=" ",j=!1;function Y(t,i){switch(t){case"keyup":return ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nt=!1;function Ht(t,i){switch(t){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:(j=!0,w);case"textInput":return t=i.data,t===w&&j?null:t;default:return null}}function it(t,i){if(nt)return t==="compositionend"||!Si&&Y(t,i)?(t=_o(),Gi=Ar=vi=null,nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Xt[t.type]:i==="textarea"}function Qi(t,i,a,o){qi?Fi?Fi.push(o):Fi=[o]:qi=o,i=Qu(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var nn=null,Ai=null;function Ao(t){My(t,0)}function lu(t){var i=pi(t);if(mo(i))return t}function eg(t,i){if(t==="change")return i}var tg=!1;if(si){var Sh;if(si){var Ah="oninput"in document;if(!Ah){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Ah=typeof ng.oninput=="function"}Sh=Ah}else Sh=!1;tg=Sh&&(!document.documentMode||9<document.documentMode)}function ig(){nn&&(nn.detachEvent("onpropertychange",rg),Ai=nn=null)}function rg(t){if(t.propertyName==="value"&&lu(Ai)){var i=[];Qi(i,Ai,t,Fn(t)),Yl(Ao,i)}}function _T(t,i,a){t==="focusin"?(ig(),nn=i,Ai=a,nn.attachEvent("onpropertychange",rg)):t==="focusout"&&ig()}function vT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(Ai)}function ET(t,i){if(t==="click")return lu(i)}function TT(t,i){if(t==="input"||t==="change")return lu(i)}function bT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:bT;function wo(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ue.call(i,h)||!xn(t[h],i[h]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ag(t,i){var a=sg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sg(a)}}function og(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?og(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ms(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ms(t.document)}return i}function wh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ST=si&&"documentMode"in document&&11>=document.documentMode,ha=null,Rh=null,Ro=null,Ih=!1;function ug(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ih||ha==null||ha!==ms(o)||(o=ha,"selectionStart"in o&&wh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&wo(Ro,o)||(Ro=o,o=Qu(Rh,"onSelect"),0<o.length&&(i=new ia("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ha)))}function ws(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var fa={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Nh={},cg={};si&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Rs(t){if(Nh[t])return Nh[t];if(!fa[t])return t;var i=fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in cg)return Nh[t]=i[a];return t}var hg=Rs("animationend"),fg=Rs("animationiteration"),dg=Rs("animationstart"),AT=Rs("transitionrun"),wT=Rs("transitionstart"),RT=Rs("transitioncancel"),mg=Rs("transitionend"),gg=new Map,Ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ch.push("scrollEnd");function ai(t,i){gg.set(t,i),ri(i,[t])}var pg=new WeakMap;function Qn(t,i){if(typeof t=="object"&&t!==null){var a=pg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ea(i)},pg.set(t,i),i)}return{value:t,source:i,stack:ea(i)}}var Yn=[],da=0,Dh=0;function uu(){for(var t=da,i=Dh=da=0;i<t;){var a=Yn[i];Yn[i++]=null;var o=Yn[i];Yn[i++]=null;var h=Yn[i];Yn[i++]=null;var f=Yn[i];if(Yn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&yg(a,h,f)}}function cu(t,i,a,o){Yn[da++]=t,Yn[da++]=i,Yn[da++]=a,Yn[da++]=o,Dh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function xh(t,i,a,o){return cu(t,i,a,o),hu(t)}function ma(t,i){return cu(t,null,null,i),hu(t)}function yg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-At(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function hu(t){if(50<Zo)throw Zo=0,Lf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ga={};function IT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,a,o){return new IT(t,i,a,o)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=On(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _g(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fu(t,i,a,o,h,f){var v=0;if(o=t,typeof t=="function")Oh(t)&&(v=1);else if(typeof t=="string")v=Cb(t,a,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=On(31,a,i,h),t.elementType=T,t.lanes=f,t;case ee:return Is(a.children,h,f,i);case he:v=8,h|=24;break;case re:return t=On(12,a,i,h|2),t.elementType=re,t.lanes=f,t;case Se:return t=On(13,a,i,h),t.elementType=Se,t.lanes=f,t;case Ae:return t=On(19,a,i,h),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:case ge:v=10;break e;case be:v=9;break e;case Pe:v=11;break e;case k:v=14;break e;case E:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=On(v,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Is(t,i,a,o){return t=On(7,t,o,i),t.lanes=a,t}function Mh(t,i,a){return t=On(6,t,null,i),t.lanes=a,t}function kh(t,i,a){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var pa=[],ya=0,du=null,mu=0,Xn=[],$n=0,Ns=null,Xi=1,$i="";function Cs(t,i){pa[ya++]=mu,pa[ya++]=du,du=t,mu=i}function vg(t,i,a){Xn[$n++]=Xi,Xn[$n++]=$i,Xn[$n++]=Ns,Ns=t;var o=Xi;t=$i;var h=32-At(o)-1;o&=~(1<<h),a+=1;var f=32-At(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Xi=1<<32-At(i)+h|a<<h|o,$i=f+t}else Xi=1<<f|a<<h|o,$i=t}function Vh(t){t.return!==null&&(Cs(t,1),vg(t,1,0))}function Ph(t){for(;t===du;)du=pa[--ya],pa[ya]=null,mu=pa[--ya],pa[ya]=null;for(;t===Ns;)Ns=Xn[--$n],Xn[$n]=null,$i=Xn[--$n],Xn[$n]=null,Xi=Xn[--$n],Xn[$n]=null}var En=null,It=null,ot=!1,Ds=null,wi=!1,zh=Error(s(519));function xs(t){var i=Error(s(418,""));throw Co(Qn(i,t)),zh}function Eg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Bt]=t,i[Vt]=o,a){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(a=0;a<Jo.length;a++)Je(Jo[a],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),gs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ta(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),ps(i,o.value,o.defaultValue,o.children),ta(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||zy(i.textContent,a)?(o.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),o.onScroll!=null&&Je("scroll",i),o.onScrollEnd!=null&&Je("scrollend",i),o.onClick!=null&&(i.onclick=Yu),i=!0):i=!1,i||xs(t)}function Tg(t){for(En=t.return;En;)switch(En.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:En=En.return}}function Io(t){if(t!==En)return!1;if(!ot)return Tg(t),ot=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ed(t.type,t.memoizedProps)),a=!a),a&&It&&xs(t),Tg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){It=li(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}It=null}}else i===27?(i=It,jr(t.type)?(t=rd,rd=null,It=t):It=i):It=En?li(t.stateNode.nextSibling):null;return!0}function No(){It=En=null,ot=!1}function bg(){var t=Ds;return t!==null&&(An===null?An=t:An.push.apply(An,t),Ds=null),t}function Co(t){Ds===null?Ds=[t]:Ds.push(t)}var Lh=U(null),Os=null,Zi=null;function wr(t,i,a){V(Lh,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=Lh.current,X(Lh)}function Uh(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function jh(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Uh(f.return,a,t),o||(v=null);break e}f=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Uh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Do(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;xn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===me.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(sl):t=[sl])}h=h.return}t!==null&&jh(i,t,a,o),i.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Os=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function hn(t){return Sg(Os,t)}function pu(t,i){return Os===null&&Ms(t),Sg(t,i)}function Sg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var NT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},CT=r.unstable_scheduleCallback,DT=r.unstable_NormalPriority,Ft={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new NT,data:new Map,refCount:0}}function xo(t){t.refCount--,t.refCount===0&&CT(DT,function(){t.controller.abort()})}var Oo=null,Hh=0,_a=0,va=null;function xT(t,i){if(Oo===null){var a=Oo=[];Hh=0,_a=Gf(),va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Hh++,i.then(Ag,Ag),i}function Ag(){if(--Hh===0&&Oo!==null){va!==null&&(va.status="fulfilled");var t=Oo;Oo=null,_a=0,va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function OT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var wg=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&xT(t,i),wg!==null&&wg(t,i)};var ks=U(null);function qh(){var t=ks.current;return t!==null?t:Et.pooledCache}function yu(t,i){i===null?V(ks,ks.current):V(ks,i.pool)}function Rg(){var t=qh();return t===null?null:{parent:Ft._currentValue,pool:t}}var Mo=Error(s(460)),Ig=Error(s(474)),_u=Error(s(542)),Fh={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vu(){}function Cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(vu,vu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xg(t),t;default:if(typeof i.status=="string")i.then(vu,vu);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xg(t),t}throw ko=i,Mo}}var ko=null;function Dg(){if(ko===null)throw Error(s(459));var t=ko;return ko=null,t}function xg(t){if(t===Mo||t===_u)throw Error(s(483))}var Rr=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ct&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=hu(t),yg(t,null,a),i}return cu(t,o,i,a),hu(t)}function Vo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,vr(t,a)}}function Qh(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yh=!1;function Po(){if(Yh){var t=va;if(t!==null)throw t}}function zo(t,i,a,o){Yh=!1;var h=t.updateQueue;Rr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,H=O.next;O.next=null,v===null?f=H:v.next=H,v=O;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==v&&(S===null?$.firstBaseUpdate=H:S.next=H,$.lastBaseUpdate=O))}if(f!==null){var ne=h.baseState;v=0,$=H=O=null,S=f;do{var q=S.lane&-536870913,F=q!==S.lane;if(F?(rt&q)===q:(o&q)===q){q!==0&&q===_a&&(Yh=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Le=t,Ce=S;q=i;var gt=a;switch(Ce.tag){case 1:if(Le=Ce.payload,typeof Le=="function"){ne=Le.call(gt,ne,q);break e}ne=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ce.payload,q=typeof Le=="function"?Le.call(gt,ne,q):Le,q==null)break e;ne=A({},ne,q);break e;case 2:Rr=!0}}q=S.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(H=$=F,O=ne):$=$.next=F,v|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(O=ne),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),Pr|=v,t.lanes=v,t.memoizedState=ne}}function Og(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Mg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Og(a[t],i)}var Ea=U(null),Eu=U(0);function kg(t,i){t=sr,V(Eu,t),V(Ea,i),sr=t|i.baseLanes}function Xh(){V(Eu,sr),V(Ea,Ea.current)}function $h(){sr=Eu.current,X(Ea),X(Eu)}var Cr=0,Xe=null,dt=null,zt=null,Tu=!1,Ta=!1,Vs=!1,bu=0,Lo=0,ba=null,MT=0;function xt(){throw Error(s(321))}function Zh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function Wh(t,i,a,o,h,f){return Cr=f,Xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?yp:_p,Vs=!1,f=a(o,h),Vs=!1,Ta&&(f=Pg(i,a,o,h)),Vg(t),f}function Vg(t){G.H=Nu;var i=dt!==null&&dt.next!==null;if(Cr=0,zt=dt=Xe=null,Tu=!1,Lo=0,ba=null,i)throw Error(s(300));t===null||$t||(t=t.dependencies,t!==null&&gu(t)&&($t=!0))}function Pg(t,i,a,o){Xe=t;var h=0;do{if(Ta&&(ba=null),Lo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,zt=dt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=jT,f=i(a,o)}while(Ta);return f}function kT(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Uo(i):i,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Xe.flags|=1024),i}function Jh(){var t=bu!==0;return bu=0,t}function ef(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function tf(t){if(Tu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Tu=!1}Cr=0,zt=dt=Xe=null,Ta=!1,Lo=bu=0,ba=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Xe.memoizedState=zt=t:zt=zt.next=t,zt}function Lt(){if(dt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var i=zt===null?Xe.memoizedState:zt.next;if(i!==null)zt=i,dt=t;else{if(t===null)throw Xe.alternate===null?Error(s(467)):Error(s(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},zt===null?Xe.memoizedState=zt=t:zt=zt.next=t}return zt}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(t){var i=Lo;return Lo+=1,ba===null&&(ba=[]),t=Cg(ba,t,i),i=Xe,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?yp:_p),t}function Su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Uo(t);if(t.$$typeof===ge)return hn(t)}throw Error(s(438,String(t)))}function rf(t){var i=null,a=Xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nf(),Xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=I;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function Au(t){var i=Lt();return sf(i,dt,t)}function sf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var S=v=null,O=null,H=i,$=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(rt&ne)===ne:(Cr&ne)===ne){var q=H.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===_a&&($=!0);else if((Cr&q)===q){H=H.next,q===_a&&($=!0);continue}else ne={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=ne,v=f):O=O.next=ne,Xe.lanes|=q,Pr|=q;ne=H.action,Vs&&a(f,ne),f=H.hasEagerState?H.eagerState:a(f,ne)}else q={lane:ne,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=q,v=f):O=O.next=q,Xe.lanes|=ne,Pr|=ne;H=H.next}while(H!==null&&H!==i);if(O===null?v=f:O.next=S,!xn(f,t.memoizedState)&&($t=!0,$&&(a=va,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=O,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function af(t){var i=Lt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);xn(f,i.memoizedState)||($t=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function zg(t,i,a){var o=Xe,h=Lt(),f=ot;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!xn((dt||h).memoizedState,a);v&&(h.memoizedState=a,$t=!0),h=h.queue;var S=jg.bind(null,o,h,t);if(jo(2048,8,S,[t]),h.getSnapshot!==i||v||zt!==null&&zt.memoizedState.tag&1){if(o.flags|=2048,Sa(9,wu(),Ug.bind(null,o,h,a,i),null),Et===null)throw Error(s(349));f||(Cr&124)!==0||Lg(o,i,a)}return a}function Lg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Xe.updateQueue,i===null?(i=nf(),Xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ug(t,i,a,o){i.value=a,i.getSnapshot=o,Bg(i)&&Hg(t)}function jg(t,i,a){return a(function(){Bg(i)&&Hg(t)})}function Bg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function Hg(t){var i=ma(t,2);i!==null&&zn(i,t,2)}function of(t){var i=bn();if(typeof t=="function"){var a=t;if(t=a(),Vs){vt(!0);try{a()}finally{vt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function qg(t,i,a,o){return t.baseState=a,sf(t,dt,typeof o=="function"?o:Ji)}function VT(t,i,a,o,h){if(Iu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Fg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Fg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=G.T,v={};G.T=v;try{var S=a(h,o),O=G.S;O!==null&&O(v,S),Gg(t,i,S)}catch(H){lf(t,i,H)}finally{G.T=f}}else try{f=a(h,o),Gg(t,i,f)}catch(H){lf(t,i,H)}}function Gg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Kg(t,i,o)},function(o){return lf(t,i,o)}):Kg(t,i,a)}function Kg(t,i,a){i.status="fulfilled",i.value=a,Qg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Fg(t,a)))}function lf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Qg(i),i=i.next;while(i!==o)}t.action=null}function Qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yg(t,i){return i}function Xg(t,i){if(ot){var a=Et.formState;if(a!==null){e:{var o=Xe;if(ot){if(It){t:{for(var h=It,f=wi;h.nodeType!==8;){if(!f){h=null;break t}if(h=li(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){It=li(h.nextSibling),o=h.data==="F!";break e}}xs(o)}o=!1}o&&(i=a[0])}}return a=bn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=o,a=mp.bind(null,Xe,o),o.dispatch=a,o=of(!1),f=df.bind(null,Xe,!1,o.queue),o=bn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=VT.bind(null,Xe,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function $g(t){var i=Lt();return Zg(i,dt,t)}function Zg(t,i,a){if(i=sf(t,i,Yg)[0],t=Au(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Uo(i)}catch(v){throw v===Mo?_u:v}else o=i;i=Lt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Xe.flags|=2048,Sa(9,wu(),PT.bind(null,h,a),null)),[o,f,t]}function PT(t,i){t.action=i}function Wg(t){var i=Lt(),a=dt;if(a!==null)return Zg(i,a,t);Lt(),i=i.memoizedState,a=Lt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Sa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Xe.updateQueue,i===null&&(i=nf(),Xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function wu(){return{destroy:void 0,resource:void 0}}function Jg(){return Lt().memoizedState}function Ru(t,i,a,o){var h=bn();o=o===void 0?null:o,Xe.flags|=t,h.memoizedState=Sa(1|i,wu(),a,o)}function jo(t,i,a,o){var h=Lt();o=o===void 0?null:o;var f=h.memoizedState.inst;dt!==null&&o!==null&&Zh(o,dt.memoizedState.deps)?h.memoizedState=Sa(i,f,a,o):(Xe.flags|=t,h.memoizedState=Sa(1|i,f,a,o))}function ep(t,i){Ru(8390656,8,t,i)}function tp(t,i){jo(2048,8,t,i)}function np(t,i){return jo(4,2,t,i)}function ip(t,i){return jo(4,4,t,i)}function rp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function sp(t,i,a){a=a!=null?a.concat([t]):null,jo(4,4,rp.bind(null,i,t),a)}function uf(){}function ap(t,i){var a=Lt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Zh(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function op(t,i){var a=Lt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Zh(i,o[1]))return o[0];if(o=t(),Vs){vt(!0);try{t()}finally{vt(!1)}}return a.memoizedState=[o,i],o}function cf(t,i,a){return a===void 0||(Cr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=cy(),Xe.lanes|=t,Pr|=t,a)}function lp(t,i,a,o){return xn(a,i)?a:Ea.current!==null?(t=cf(t,a,o),xn(t,i)||($t=!0),t):(Cr&42)===0?($t=!0,t.memoizedState=a):(t=cy(),Xe.lanes|=t,Pr|=t,i)}function up(t,i,a,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var v=G.T,S={};G.T=S,df(t,!1,i,a);try{var O=h(),H=G.S;if(H!==null&&H(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=OT(O,o);Bo(t,i,$,Pn(t))}else Bo(t,i,o,Pn(t))}catch(ne){Bo(t,i,{then:function(){},status:"rejected",reason:ne},Pn())}finally{Z.p=f,G.T=v}}function zT(){}function hf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=cp(t).queue;up(t,h,i,z,a===null?zT:function(){return hp(t),a(o)})}function cp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:z},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function hp(t){var i=cp(t).next.queue;Bo(t,i,{},Pn())}function ff(){return hn(sl)}function fp(){return Lt().memoizedState}function dp(){return Lt().memoizedState}function LT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();t=Ir(a);var o=Nr(i,t,a);o!==null&&(zn(o,i,a),Vo(o,i,a)),i={cache:Bh()},t.payload=i;return}i=i.return}}function UT(t,i,a){var o=Pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(t)?gp(i,a):(a=xh(t,i,a,o),a!==null&&(zn(a,t,o),pp(a,i,o)))}function mp(t,i,a){var o=Pn();Bo(t,i,a,o)}function Bo(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(t))gp(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,S=f(v,a);if(h.hasEagerState=!0,h.eagerState=S,xn(S,v))return cu(t,i,h,0),Et===null&&uu(),!1}catch{}finally{}if(a=xh(t,i,h,o),a!==null)return zn(a,t,o),pp(a,i,o),!0}return!1}function df(t,i,a,o){if(o={lane:2,revertLane:Gf(),action:o,hasEagerState:!1,eagerState:null,next:null},Iu(t)){if(i)throw Error(s(479))}else i=xh(t,a,o,2),i!==null&&zn(i,t,2)}function Iu(t){var i=t.alternate;return t===Xe||i!==null&&i===Xe}function gp(t,i){Ta=Tu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function pp(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,vr(t,a)}}var Nu={readContext:hn,use:Su,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},yp={readContext:hn,use:Su,useCallback:function(t,i){return bn().memoizedState=[t,i===void 0?null:i],t},useContext:hn,useEffect:ep,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ru(4194308,4,rp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ru(4194308,4,t,i)},useInsertionEffect:function(t,i){Ru(4,2,t,i)},useMemo:function(t,i){var a=bn();i=i===void 0?null:i;var o=t();if(Vs){vt(!0);try{t()}finally{vt(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=bn();if(a!==void 0){var h=a(i);if(Vs){vt(!0);try{a(i)}finally{vt(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=UT.bind(null,Xe,t),[o.memoizedState,t]},useRef:function(t){var i=bn();return t={current:t},i.memoizedState=t},useState:function(t){t=of(t);var i=t.queue,a=mp.bind(null,Xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(t,i){var a=bn();return cf(a,t,i)},useTransition:function(){var t=of(!1);return t=up.bind(null,Xe,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Xe,h=bn();if(ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Et===null)throw Error(s(349));(rt&124)!==0||Lg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,ep(jg.bind(null,o,f,t),[t]),o.flags|=2048,Sa(9,wu(),Ug.bind(null,o,f,a,i),null),a},useId:function(){var t=bn(),i=Et.identifierPrefix;if(ot){var a=$i,o=Xi;a=(o&~(1<<32-At(o)-1)).toString(32)+a,i=""+i+"R"+a,a=bu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=MT++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:ff,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var i=bn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=df.bind(null,Xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:rf,useCacheRefresh:function(){return bn().memoizedState=LT.bind(null,Xe)}},_p={readContext:hn,use:Su,useCallback:ap,useContext:hn,useEffect:tp,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:op,useReducer:Au,useRef:Jg,useState:function(){return Au(Ji)},useDebugValue:uf,useDeferredValue:function(t,i){var a=Lt();return lp(a,dt.memoizedState,t,i)},useTransition:function(){var t=Au(Ji)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Uo(t),i]},useSyncExternalStore:zg,useId:fp,useHostTransitionStatus:ff,useFormState:$g,useActionState:$g,useOptimistic:function(t,i){var a=Lt();return qg(a,dt,t,i)},useMemoCache:rf,useCacheRefresh:dp},jT={readContext:hn,use:Su,useCallback:ap,useContext:hn,useEffect:tp,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:op,useReducer:af,useRef:Jg,useState:function(){return af(Ji)},useDebugValue:uf,useDeferredValue:function(t,i){var a=Lt();return dt===null?cf(a,t,i):lp(a,dt.memoizedState,t,i)},useTransition:function(){var t=af(Ji)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Uo(t),i]},useSyncExternalStore:zg,useId:fp,useHostTransitionStatus:ff,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=Lt();return dt!==null?qg(a,dt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rf,useCacheRefresh:dp},Aa=null,Ho=0;function Cu(t){var i=Ho;return Ho+=1,Aa===null&&(Aa=[]),Cg(Aa,t,i)}function qo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Du(t,i){throw i.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function vp(t){var i=t._init;return i(t._payload)}function Ep(t){function i(L,P){if(t){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function o(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Yi(L,P),L.index=0,L.sibling=null,L}function f(L,P,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=67108866,P):B):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,P,B,J){return P===null||P.tag!==6?(P=Mh(B,L.mode,J),P.return=L,P):(P=h(P,B),P.return=L,P)}function O(L,P,B,J){var ve=B.type;return ve===ee?$(L,P,B.props.children,J,B.key):P!==null&&(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===E&&vp(ve)===P.type)?(P=h(P,B.props),qo(P,B),P.return=L,P):(P=fu(B.type,B.key,B.props,null,L.mode,J),qo(P,B),P.return=L,P)}function H(L,P,B,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=kh(B,L.mode,J),P.return=L,P):(P=h(P,B.children||[]),P.return=L,P)}function $(L,P,B,J,ve){return P===null||P.tag!==7?(P=Is(B,L.mode,J,ve),P.return=L,P):(P=h(P,B),P.return=L,P)}function ne(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Mh(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case M:return B=fu(P.type,P.key,P.props,null,L.mode,B),qo(B,P),B.return=L,B;case Q:return P=kh(P,L.mode,B),P.return=L,P;case E:var J=P._init;return P=J(P._payload),ne(L,P,B)}if(Ue(P)||C(P))return P=Is(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return ne(L,Cu(P),B);if(P.$$typeof===ge)return ne(L,pu(L,P),B);Du(L,P)}return null}function q(L,P,B,J){var ve=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ve!==null?null:S(L,P,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===ve?O(L,P,B,J):null;case Q:return B.key===ve?H(L,P,B,J):null;case E:return ve=B._init,B=ve(B._payload),q(L,P,B,J)}if(Ue(B)||C(B))return ve!==null?null:$(L,P,B,J,null);if(typeof B.then=="function")return q(L,P,Cu(B),J);if(B.$$typeof===ge)return q(L,P,pu(L,B),J);Du(L,B)}return null}function F(L,P,B,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,S(P,L,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return L=L.get(J.key===null?B:J.key)||null,O(P,L,J,ve);case Q:return L=L.get(J.key===null?B:J.key)||null,H(P,L,J,ve);case E:var Ze=J._init;return J=Ze(J._payload),F(L,P,B,J,ve)}if(Ue(J)||C(J))return L=L.get(B)||null,$(P,L,J,ve,null);if(typeof J.then=="function")return F(L,P,B,Cu(J),ve);if(J.$$typeof===ge)return F(L,P,B,pu(P,J),ve);Du(P,J)}return null}function Le(L,P,B,J){for(var ve=null,Ze=null,Re=P,Oe=P=0,Wt=null;Re!==null&&Oe<B.length;Oe++){Re.index>Oe?(Wt=Re,Re=null):Wt=Re.sibling;var at=q(L,Re,B[Oe],J);if(at===null){Re===null&&(Re=Wt);break}t&&Re&&at.alternate===null&&i(L,Re),P=f(at,P,Oe),Ze===null?ve=at:Ze.sibling=at,Ze=at,Re=Wt}if(Oe===B.length)return a(L,Re),ot&&Cs(L,Oe),ve;if(Re===null){for(;Oe<B.length;Oe++)Re=ne(L,B[Oe],J),Re!==null&&(P=f(Re,P,Oe),Ze===null?ve=Re:Ze.sibling=Re,Ze=Re);return ot&&Cs(L,Oe),ve}for(Re=o(Re);Oe<B.length;Oe++)Wt=F(Re,L,Oe,B[Oe],J),Wt!==null&&(t&&Wt.alternate!==null&&Re.delete(Wt.key===null?Oe:Wt.key),P=f(Wt,P,Oe),Ze===null?ve=Wt:Ze.sibling=Wt,Ze=Wt);return t&&Re.forEach(function(Gr){return i(L,Gr)}),ot&&Cs(L,Oe),ve}function Ce(L,P,B,J){if(B==null)throw Error(s(151));for(var ve=null,Ze=null,Re=P,Oe=P=0,Wt=null,at=B.next();Re!==null&&!at.done;Oe++,at=B.next()){Re.index>Oe?(Wt=Re,Re=null):Wt=Re.sibling;var Gr=q(L,Re,at.value,J);if(Gr===null){Re===null&&(Re=Wt);break}t&&Re&&Gr.alternate===null&&i(L,Re),P=f(Gr,P,Oe),Ze===null?ve=Gr:Ze.sibling=Gr,Ze=Gr,Re=Wt}if(at.done)return a(L,Re),ot&&Cs(L,Oe),ve;if(Re===null){for(;!at.done;Oe++,at=B.next())at=ne(L,at.value,J),at!==null&&(P=f(at,P,Oe),Ze===null?ve=at:Ze.sibling=at,Ze=at);return ot&&Cs(L,Oe),ve}for(Re=o(Re);!at.done;Oe++,at=B.next())at=F(Re,L,Oe,at.value,J),at!==null&&(t&&at.alternate!==null&&Re.delete(at.key===null?Oe:at.key),P=f(at,P,Oe),Ze===null?ve=at:Ze.sibling=at,Ze=at);return t&&Re.forEach(function(Bb){return i(L,Bb)}),ot&&Cs(L,Oe),ve}function gt(L,P,B,J){if(typeof B=="object"&&B!==null&&B.type===ee&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:e:{for(var ve=B.key;P!==null;){if(P.key===ve){if(ve=B.type,ve===ee){if(P.tag===7){a(L,P.sibling),J=h(P,B.props.children),J.return=L,L=J;break e}}else if(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===E&&vp(ve)===P.type){a(L,P.sibling),J=h(P,B.props),qo(J,B),J.return=L,L=J;break e}a(L,P);break}else i(L,P);P=P.sibling}B.type===ee?(J=Is(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=fu(B.type,B.key,B.props,null,L.mode,J),qo(J,B),J.return=L,L=J)}return v(L);case Q:e:{for(ve=B.key;P!==null;){if(P.key===ve)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(L,P.sibling),J=h(P,B.children||[]),J.return=L,L=J;break e}else{a(L,P);break}else i(L,P);P=P.sibling}J=kh(B,L.mode,J),J.return=L,L=J}return v(L);case E:return ve=B._init,B=ve(B._payload),gt(L,P,B,J)}if(Ue(B))return Le(L,P,B,J);if(C(B)){if(ve=C(B),typeof ve!="function")throw Error(s(150));return B=ve.call(B),Ce(L,P,B,J)}if(typeof B.then=="function")return gt(L,P,Cu(B),J);if(B.$$typeof===ge)return gt(L,P,pu(L,B),J);Du(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(L,P.sibling),J=h(P,B),J.return=L,L=J):(a(L,P),J=Mh(B,L.mode,J),J.return=L,L=J),v(L)):a(L,P)}return function(L,P,B,J){try{Ho=0;var ve=gt(L,P,B,J);return Aa=null,ve}catch(Re){if(Re===Mo||Re===_u)throw Re;var Ze=On(29,Re,null,L.mode);return Ze.lanes=J,Ze.return=L,Ze}finally{}}}var wa=Ep(!0),Tp=Ep(!1),Zn=U(null),Ri=null;function Dr(t){var i=t.alternate;V(Gt,Gt.current&1),V(Zn,t),Ri===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(Ri=t)}function bp(t){if(t.tag===22){if(V(Gt,Gt.current),V(Zn,t),Ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ri=t)}}else xr()}function xr(){V(Gt,Gt.current),V(Zn,Zn.current)}function er(t){X(Zn),Ri===t&&(Ri=null),X(Gt)}var Gt=U(0);function xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||id(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function mf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Pn(),h=Ir(o);h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,o),i!==null&&(zn(i,t,o),Vo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Pn(),h=Ir(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,o),i!==null&&(zn(i,t,o),Vo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Pn(),o=Ir(a);o.tag=2,i!=null&&(o.callback=i),i=Nr(t,o,a),i!==null&&(zn(i,t,a),Vo(i,t,a))}};function Sp(t,i,a,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!wo(a,o)||!wo(h,f):!0}function Ap(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&gf.enqueueReplaceState(i,i.state,null)}function Ps(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wp(t){Ou(t)}function Rp(t){console.error(t)}function Ip(t){Ou(t)}function Mu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Np(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pf(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(t,i)},a}function Cp(t){return t=Ir(t),t.tag=3,t}function Dp(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Np(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Np(i,a,o),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function BT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Do(i,a,h,!0),a=Zn.current,a!==null){switch(a.tag){case 13:return Ri===null?jf():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Hf(t,o,h)),!1;case 22:return a.flags|=65536,o===Fh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Hf(t,o,h)),!1}throw Error(s(435,a.tag))}return Hf(t,o,h),jf(),!1}if(ot)return i=Zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==zh&&(t=Error(s(422),{cause:o}),Co(Qn(t,a)))):(o!==zh&&(i=Error(s(423),{cause:o}),Co(Qn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qn(o,a),h=pf(t.stateNode,o,h),Qh(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(s(520),{cause:o});if(f=Qn(f,a),$o===null?$o=[f]:$o.push(f),Nt!==4&&(Nt=2),i===null)return!0;o=Qn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pf(a.stateNode,o,t),Qh(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zr===null||!zr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Cp(h),Dp(h,t,a,o),Qh(a,h),!1}a=a.return}while(a!==null);return!1}var xp=Error(s(461)),$t=!1;function rn(t,i,a,o){i.child=t===null?Tp(i,null,a,o):wa(i,t.child,a,o)}function Op(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var S in o)S!=="ref"&&(v[S]=o[S])}else v=o;return Ms(i),o=Wh(t,i,a,v,f,h),S=Jh(),t!==null&&!$t?(ef(t,i,h),tr(t,i,h)):(ot&&S&&Vh(i),i.flags|=1,rn(t,i,o,h),i.child)}function Mp(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,kp(t,i,f,o,h)):(t=fu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Af(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wo,a(v,o)&&t.ref===i.ref)return tr(t,i,h)}return i.flags|=1,t=Yi(f,o),t.ref=i.ref,t.return=i,i.child=t}function kp(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(wo(f,o)&&t.ref===i.ref)if($t=!1,i.pendingProps=o=f,Af(t,h))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,tr(t,i,h)}return yf(t,i,a,o,h)}function Vp(t,i,a){var o=i.pendingProps,h=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Pp(t,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(i,f!==null?f.cachePool:null),f!==null?kg(i,f):Xh(),bp(i);else return i.lanes=i.childLanes=536870912,Pp(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(yu(i,f.cachePool),kg(i,f),xr(),i.memoizedState=null):(t!==null&&yu(i,null),Xh(),xr());return rn(t,i,h,a),i.child}function Pp(t,i,a,o){var h=qh();return h=h===null?null:{parent:Ft._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&yu(i,null),Xh(),bp(i),t!==null&&Do(t,i,o,!0),null}function ku(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yf(t,i,a,o,h){return Ms(i),a=Wh(t,i,a,o,void 0,h),o=Jh(),t!==null&&!$t?(ef(t,i,h),tr(t,i,h)):(ot&&o&&Vh(i),i.flags|=1,rn(t,i,a,h),i.child)}function zp(t,i,a,o,h,f){return Ms(i),i.updateQueue=null,a=Pg(i,o,a,h),Vg(t),o=Jh(),t!==null&&!$t?(ef(t,i,f),tr(t,i,f)):(ot&&o&&Vh(i),i.flags|=1,rn(t,i,a,f),i.child)}function Lp(t,i,a,o,h){if(Ms(i),i.stateNode===null){var f=ga,v=a.contextType;typeof v=="object"&&v!==null&&(f=hn(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Gh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?hn(v):ga,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(mf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&gf.enqueueReplaceState(f,f.state,null),zo(i,o,f,h),Po(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,O=Ps(a,S);f.props=O;var H=f.context,$=a.contextType;v=ga,typeof $=="object"&&$!==null&&(v=hn($));var ne=a.getDerivedStateFromProps;$=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||H!==v)&&Ap(i,f,o,v),Rr=!1;var q=i.memoizedState;f.state=q,zo(i,o,f,h),Po(),H=i.memoizedState,S||q!==H||Rr?(typeof ne=="function"&&(mf(i,a,ne,o),H=i.memoizedState),(O=Rr||Sp(i,a,O,o,q,H,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=v,o=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Kh(t,i),v=i.memoizedProps,$=Ps(a,v),f.props=$,ne=i.pendingProps,q=f.context,H=a.contextType,O=ga,typeof H=="object"&&H!==null&&(O=hn(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ne||q!==O)&&Ap(i,f,o,O),Rr=!1,q=i.memoizedState,f.state=q,zo(i,o,f,h),Po();var F=i.memoizedState;v!==ne||q!==F||Rr||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof S=="function"&&(mf(i,a,S,o),F=i.memoizedState),($=Rr||Sp(i,a,$,o,q,F,O)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=O,o=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,ku(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=wa(i,t.child,null,h),i.child=wa(i,null,a,h)):rn(t,i,a,h),i.memoizedState=f.state,t=i.child):t=tr(t,i,h),t}function Up(t,i,a,o){return No(),i.flags|=256,rn(t,i,a,o),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(t){return{baseLanes:t,cachePool:Rg()}}function Ef(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Wn),t}function jp(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Gt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ot){if(h?Dr(i):xr(),ot){var S=It,O;if(O=S){e:{for(O=S,S=wi;O.nodeType!==8;){if(!S){S=null;break e}if(O=li(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(i.memoizedState={dehydrated:S,treeContext:Ns!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},O=On(18,null,null,0),O.stateNode=S,O.return=i,i.child=O,En=i,It=null,O=!0):O=!1}O||xs(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return id(S)?i.lanes=32:i.lanes=536870912,null;er(i)}return S=o.children,o=o.fallback,h?(xr(),h=i.mode,S=Vu({mode:"hidden",children:S},h),o=Is(o,h,a,null),S.return=i,o.return=i,S.sibling=o,i.child=S,h=i.child,h.memoizedState=vf(a),h.childLanes=Ef(t,v,a),i.memoizedState=_f,o):(Dr(i),Tf(i,S))}if(O=t.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(f)i.flags&256?(Dr(i),i.flags&=-257,i=bf(t,i,a)):i.memoizedState!==null?(xr(),i.child=t.child,i.flags|=128,i=null):(xr(),h=o.fallback,S=i.mode,o=Vu({mode:"visible",children:o.children},S),h=Is(h,S,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,wa(i,t.child,null,a),o=i.child,o.memoizedState=vf(a),o.childLanes=Ef(t,v,a),i.memoizedState=_f,i=h);else if(Dr(i),id(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var H=v.dgst;v=H,o=Error(s(419)),o.stack="",o.digest=v,Co({value:o,source:null,stack:null}),i=bf(t,i,a)}else if($t||Do(t,i,a,!1),v=(a&t.childLanes)!==0,$t||v){if(v=Et,v!==null&&(o=a&-a,o=(o&42)!==0?1:ni(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==O.retryLane))throw O.retryLane=o,ma(t,o),zn(v,t,o),xp;S.data==="$?"||jf(),i=bf(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,It=li(S.nextSibling),En=i,ot=!0,Ds=null,wi=!1,t!==null&&(Xn[$n++]=Xi,Xn[$n++]=$i,Xn[$n++]=Ns,Xi=t.id,$i=t.overflow,Ns=i),i=Tf(i,o.children),i.flags|=4096);return i}return h?(xr(),h=o.fallback,S=i.mode,O=t.child,H=O.sibling,o=Yi(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,H!==null?h=Yi(H,h):(h=Is(h,S,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,S=t.child.memoizedState,S===null?S=vf(a):(O=S.cachePool,O!==null?(H=Ft._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=Rg(),S={baseLanes:S.baseLanes|a,cachePool:O}),h.memoizedState=S,h.childLanes=Ef(t,v,a),i.memoizedState=_f,o):(Dr(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Tf(t,i){return i=Vu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vu(t,i){return t=On(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bf(t,i,a){return wa(i,t.child,null,a),t=Tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Bp(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Uh(t.return,i,a)}function Sf(t,i,a,o,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Hp(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(rn(t,i,o.children,a),o=Gt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bp(t,a,i);else if(t.tag===19)Bp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(V(Gt,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sf(i,!0,a,null,f);break;case"together":Sf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function tr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Do(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Af(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function HT(t,i,a){switch(i.tag){case 3:ce(i,i.stateNode.containerInfo),wr(i,Ft,t.memoizedState.cache),No();break;case 27:case 5:De(i);break;case 4:ce(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jp(t,i,a):(Dr(i),t=tr(t,i,a),t!==null?t.sibling:null);Dr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Do(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Hp(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),V(Gt,Gt.current),o)break;return null;case 22:case 23:return i.lanes=0,Vp(t,i,a);case 24:wr(i,Ft,t.memoizedState.cache)}return tr(t,i,a)}function qp(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!Af(t,a)&&(i.flags&128)===0)return $t=!1,HT(t,i,a);$t=(t.flags&131072)!==0}else $t=!1,ot&&(i.flags&1048576)!==0&&vg(i,mu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Oh(o)?(t=Ps(o,t),i.tag=1,i=Lp(null,i,o,t,a)):(i.tag=0,i=yf(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===Pe){i.tag=11,i=Op(null,i,o,t,a);break e}else if(h===k){i.tag=14,i=Mp(null,i,o,t,a);break e}}throw i=le(o)||o,Error(s(306,i,""))}}return i;case 0:return yf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ps(o,i.pendingProps),Lp(t,i,o,h,a);case 3:e:{if(ce(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Kh(t,i),zo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,wr(i,Ft,o),o!==f.cache&&jh(i,[Ft],a,!0),Po(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Up(t,i,o,a);break e}else if(o!==h){h=Qn(Error(s(424)),i),Co(h),i=Up(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(It=li(t.firstChild),En=i,ot=!0,Ds=null,wi=!0,a=Tp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(No(),o===h){i=tr(t,i,a);break e}rn(t,i,o,a)}i=i.child}return i;case 26:return ku(t,i),t===null?(a=Qy(i.type,null,i.pendingProps,null))?i.memoizedState=a:ot||(a=i.type,t=i.pendingProps,o=Xu(te.current).createElement(a),o[Bt]=i,o[Vt]=t,an(o,a,t),Dt(o),i.stateNode=o):i.memoizedState=Qy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return De(i),t===null&&ot&&(o=i.stateNode=Fy(i.type,i.pendingProps,te.current),En=i,wi=!0,h=It,jr(i.type)?(rd=h,It=li(o.firstChild)):It=h),rn(t,i,i.pendingProps.children,a),ku(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ot&&((h=o=It)&&(o=pb(o,i.type,i.pendingProps,wi),o!==null?(i.stateNode=o,En=i,It=li(o.firstChild),wi=!1,h=!0):h=!1),h||xs(i)),De(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,ed(h,f)?o=null:v!==null&&ed(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Wh(t,i,kT,null,null,a),sl._currentValue=h),ku(t,i),rn(t,i,o,a),i.child;case 6:return t===null&&ot&&((t=a=It)&&(a=yb(a,i.pendingProps,wi),a!==null?(i.stateNode=a,En=i,It=null,t=!0):t=!1),t||xs(i)),null;case 13:return jp(t,i,a);case 4:return ce(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=wa(i,null,o,a):rn(t,i,o,a),i.child;case 11:return Op(t,i,i.type,i.pendingProps,a);case 7:return rn(t,i,i.pendingProps,a),i.child;case 8:return rn(t,i,i.pendingProps.children,a),i.child;case 12:return rn(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,wr(i,i.type,o.value),rn(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ms(i),h=hn(h),o=o(h),i.flags|=1,rn(t,i,o,a),i.child;case 14:return Mp(t,i,i.type,i.pendingProps,a);case 15:return kp(t,i,i.type,i.pendingProps,a);case 19:return Hp(t,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},t===null?(a=Vu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Yi(t.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Vp(t,i,a);case 24:return Ms(i),o=hn(Ft),t===null?(h=qh(),h===null&&(h=Et,f=Bh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Gh(i),wr(i,Ft,h)):((t.lanes&a)!==0&&(Kh(t,i),zo(i,null,null,a),Po()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,Ft,o)):(o=f.cache,wr(i,Ft,o),o!==h.cache&&jh(i,[Ft],a,!0))),rn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function nr(t){t.flags|=4}function Fp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wy(i)){if(i=Zn.current,i!==null&&((rt&4194048)===rt?Ri!==null:(rt&62914560)!==rt&&(rt&536870912)===0||i!==Ri))throw ko=Fh,Ig;t.flags|=8192}}function Pu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yr():536870912,t.lanes|=i,Ca|=i)}function Fo(t,i){if(!ot)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function wt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function qT(t,i,a){var o=i.pendingProps;switch(Ph(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return wt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Wi(Ft),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Io(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bg())),wt(i),null;case 26:return a=i.memoizedState,t===null?(nr(i),a!==null?(wt(i),Fp(i,a)):(wt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(nr(i),wt(i),Fp(i,a)):(wt(i),i.flags&=-16777217):(t.memoizedProps!==o&&nr(i),wt(i),i.flags&=-16777217),null;case 27:oe(i),a=te.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&nr(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return wt(i),null}t=K.current,Io(i)?Eg(i):(t=Fy(h,o,a),i.stateNode=t,nr(i))}return wt(i),null;case 5:if(oe(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&nr(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return wt(i),null}if(t=K.current,Io(i))Eg(i);else{switch(h=Xu(te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[Bt]=i,t[Vt]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(an(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&nr(i)}}return wt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&nr(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=te.current,Io(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=En,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Bt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||zy(t.nodeValue,a)),t||xs(i)}else t=Xu(t).createTextNode(o),t[Bt]=i,i.stateNode=t}return wt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Io(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Bt]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),h=!1}else h=bg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(er(i),i):(er(i),null)}if(er(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Pu(i,i.updateQueue),wt(i),null;case 4:return de(),t===null&&Xf(i.stateNode.containerInfo),wt(i),null;case 10:return Wi(i.type),wt(i),null;case 19:if(X(Gt),h=i.memoizedState,h===null)return wt(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Fo(h,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=xu(t),f!==null){for(i.flags|=128,Fo(h,!1),t=f.updateQueue,i.updateQueue=t,Pu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)_g(a,t),a=a.sibling;return V(Gt,Gt.current&1|2),i.child}t=t.sibling}h.tail!==null&&we()>Uu&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304)}else{if(!o)if(t=xu(f),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Pu(i,t),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!ot)return wt(i),null}else 2*we()-h.renderingStartTime>Uu&&a!==536870912&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=we(),i.sibling=null,t=Gt.current,V(Gt,o?t&1|2:t&1),i):(wt(i),null);case 22:case 23:return er(i),$h(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),a=i.updateQueue,a!==null&&Pu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&X(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(Ft),wt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function FT(t,i){switch(Ph(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(Ft),de(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return oe(i),null;case 13:if(er(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));No()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Gt),null;case 4:return de(),null;case 10:return Wi(i.type),null;case 22:case 23:return er(i),$h(),t!==null&&X(ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(Ft),null;case 25:return null;default:return null}}function Gp(t,i){switch(Ph(i),i.tag){case 3:Wi(Ft),de();break;case 26:case 27:case 5:oe(i);break;case 4:de();break;case 13:er(i);break;case 19:X(Gt);break;case 10:Wi(i.type);break;case 22:case 23:er(i),$h(),t!==null&&X(ks);break;case 24:Wi(Ft)}}function Go(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(S){_t(i,i.return,S)}}function Or(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var O=a,H=S;try{H()}catch($){_t(h,O,$)}}}o=o.next}while(o!==f)}}catch($){_t(i,i.return,$)}}function Kp(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Mg(i,a)}catch(o){_t(t,t.return,o)}}}function Qp(t,i,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){_t(t,i,o)}}function Ko(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){_t(t,i,h)}}function Ii(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){_t(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){_t(t,i,h)}else a.current=null}function Yp(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){_t(t,t.return,h)}}function wf(t,i,a){try{var o=t.stateNode;hb(o,t.type,a,i),o[Vt]=i}catch(h){_t(t,t.return,h)}}function Xp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yu));else if(o!==4&&(o===27&&jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(If(t,i,a),t=t.sibling;t!==null;)If(t,i,a),t=t.sibling}function zu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zu(t,i,a),t=t.sibling;t!==null;)zu(t,i,a),t=t.sibling}function $p(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);an(i,o,a),i[Bt]=t,i[Vt]=a}catch(f){_t(t,t.return,f)}}var ir=!1,Ot=!1,Nf=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function GT(t,i){if(t=t.containerInfo,Wf=tc,t=lg(t),wh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,S=-1,O=-1,H=0,$=0,ne=t,q=null;t:for(;;){for(var F;ne!==a||h!==0&&ne.nodeType!==3||(S=v+h),ne!==f||o!==0&&ne.nodeType!==3||(O=v+o),ne.nodeType===3&&(v+=ne.nodeValue.length),(F=ne.firstChild)!==null;)q=ne,ne=F;for(;;){if(ne===t)break t;if(q===a&&++H===h&&(S=v),q===f&&++$===o&&(O=v),(F=ne.nextSibling)!==null)break;ne=q,q=ne.parentNode}ne=F}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jf={focusedElem:t,selectionRange:a},tc=!1,Zt=i;Zt!==null;)if(i=Zt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Zt=t;else for(;Zt!==null;){switch(i=Zt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var Le=Ps(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(Le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){_t(a,a.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Zt=t;break}Zt=i.return}}function Wp(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Mr(t,a),o&4&&Go(5,a);break;case 1:if(Mr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){_t(a,a.return,v)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){_t(a,a.return,v)}}o&64&&Kp(a),o&512&&Ko(a,a.return);break;case 3:if(Mr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mg(t,i)}catch(v){_t(a,a.return,v)}}break;case 27:i===null&&o&4&&$p(a);case 26:case 5:Mr(t,a),i===null&&o&4&&Yp(a),o&512&&Ko(a,a.return);break;case 12:Mr(t,a);break;case 13:Mr(t,a),o&4&&ty(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=eb.bind(null,a),_b(t,a))));break;case 22:if(o=a.memoizedState!==null||ir,!o){i=i!==null&&i.memoizedState!==null||Ot,h=ir;var f=Ot;ir=o,(Ot=i)&&!f?kr(t,a,(a.subtreeFlags&8772)!==0):Mr(t,a),ir=h,Ot=f}break;case 30:break;default:Mr(t,a)}}function Jp(t){var i=t.alternate;i!==null&&(t.alternate=null,Jp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Tr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,Sn=!1;function rr(t,i,a){for(a=a.child;a!==null;)ey(t,i,a),a=a.sibling}function ey(t,i,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Me,a)}catch{}switch(a.tag){case 26:Ot||Ii(a,i),rr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Ii(a,i);var o=St,h=Sn;jr(a.type)&&(St=a.stateNode,Sn=!1),rr(t,i,a),tl(a.stateNode),St=o,Sn=h;break;case 5:Ot||Ii(a,i);case 6:if(o=St,h=Sn,St=null,rr(t,i,a),St=o,Sn=h,St!==null)if(Sn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(a.stateNode)}catch(f){_t(a,i,f)}else try{St.removeChild(a.stateNode)}catch(f){_t(a,i,f)}break;case 18:St!==null&&(Sn?(t=St,Hy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ul(t)):Hy(St,a.stateNode));break;case 4:o=St,h=Sn,St=a.stateNode.containerInfo,Sn=!0,rr(t,i,a),St=o,Sn=h;break;case 0:case 11:case 14:case 15:Ot||Or(2,a,i),Ot||Or(4,a,i),rr(t,i,a);break;case 1:Ot||(Ii(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Qp(a,i,o)),rr(t,i,a);break;case 21:rr(t,i,a);break;case 22:Ot=(o=Ot)||a.memoizedState!==null,rr(t,i,a),Ot=o;break;default:rr(t,i,a)}}function ty(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(a){_t(i,i.return,a)}}function KT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Zp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Zp),i;default:throw Error(s(435,t.tag))}}function Cf(t,i){var a=KT(t);i.forEach(function(o){var h=tb.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function Mn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){St=S.stateNode,Sn=!1;break e}break;case 5:St=S.stateNode,Sn=!1;break e;case 3:case 4:St=S.stateNode.containerInfo,Sn=!0;break e}S=S.return}if(St===null)throw Error(s(160));ey(f,v,h),St=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ny(i,t),i=i.sibling}var oi=null;function ny(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(i,t),kn(t),o&4&&(Or(3,t,t.return),Go(3,t),Or(5,t,t.return));break;case 1:Mn(i,t),kn(t),o&512&&(Ot||a===null||Ii(a,a.return)),o&64&&ir&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=oi;if(Mn(i,t),kn(t),o&512&&(Ot||a===null||Ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hs]||f[Bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,a),f[Bt]=t,Dt(f),o=f;break e;case"link":var v=$y("link","href",h).get(o+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;case"meta":if(v=$y("meta","content",h).get(o+(a.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Bt]=t,Dt(f),o=f}t.stateNode=o}else Zy(h,t.type,t.stateNode);else t.stateNode=Xy(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Zy(h,t.type,t.stateNode):Xy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mn(i,t),kn(t),o&512&&(Ot||a===null||Ii(a,a.return)),a!==null&&o&4&&wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mn(i,t),kn(t),o&512&&(Ot||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{qn(h,"")}catch(F){_t(t,t.return,F)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,wf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Nf=!0);break;case 6:if(Mn(i,t),kn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(F){_t(t,t.return,F)}}break;case 3:if(Wu=null,h=oi,oi=$u(i.containerInfo),Mn(i,t),oi=h,kn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(F){_t(t,t.return,F)}Nf&&(Nf=!1,iy(t));break;case 4:o=oi,oi=$u(t.stateNode.containerInfo),Mn(i,t),kn(t),oi=o;break;case 12:Mn(i,t),kn(t);break;case 13:Mn(i,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=we()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cf(t,o)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=ir,$=Ot;if(ir=H||h,Ot=$||O,Mn(i,t),Ot=$,ir=H,kn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||ir||Ot||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var ne=O.memoizedProps.style,q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){_t(O,O.return,F)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(F){_t(O,O.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Cf(t,a))));break;case 19:Mn(i,t),kn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cf(t,o)));break;case 30:break;case 21:break;default:Mn(i,t),kn(t)}}function kn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Xp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Rf(t);zu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(qn(v,""),a.flags&=-33);var S=Rf(t);zu(t,S,v);break;case 3:case 4:var O=a.stateNode.containerInfo,H=Rf(t);If(t,H,O);break;default:throw Error(s(161))}}catch($){_t(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;iy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Mr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wp(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),zs(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Qp(i,i.return,a),zs(i);break;case 27:tl(i.stateNode);case 26:case 5:Ii(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function kr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:kr(h,f,a),Go(4,f);break;case 1:if(kr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){_t(o,o.return,H)}if(o=f,h=o.updateQueue,h!==null){var S=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Og(O[h],S)}catch(H){_t(o,o.return,H)}}a&&v&64&&Kp(f),Ko(f,f.return);break;case 27:$p(f);case 26:case 5:kr(h,f,a),a&&o===null&&v&4&&Yp(f),Ko(f,f.return);break;case 12:kr(h,f,a);break;case 13:kr(h,f,a),a&&v&4&&ty(h,f);break;case 22:f.memoizedState===null&&kr(h,f,a),Ko(f,f.return);break;case 30:break;default:kr(h,f,a)}i=i.sibling}}function Df(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xo(a))}function xf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t))}function Ni(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ry(t,i,a,o),i=i.sibling}function ry(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ni(t,i,a,o),h&2048&&Go(9,i);break;case 1:Ni(t,i,a,o);break;case 3:Ni(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t)));break;case 12:if(h&2048){Ni(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){_t(i,i.return,O)}}else Ni(t,i,a,o);break;case 13:Ni(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?Ni(t,i,a,o):Qo(t,i):f._visibility&2?Ni(t,i,a,o):(f._visibility|=2,Ra(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Df(v,i);break;case 24:Ni(t,i,a,o),h&2048&&xf(i.alternate,i);break;default:Ni(t,i,a,o)}}function Ra(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,v=i,S=a,O=o,H=v.flags;switch(v.tag){case 0:case 11:case 15:Ra(f,v,S,O,h),Go(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Ra(f,v,S,O,h):Qo(f,v):($._visibility|=2,Ra(f,v,S,O,h)),h&&H&2048&&Df(v.alternate,v);break;case 24:Ra(f,v,S,O,h),h&&H&2048&&xf(v.alternate,v);break;default:Ra(f,v,S,O,h)}i=i.sibling}}function Qo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Qo(a,o),h&2048&&Df(o.alternate,o);break;case 24:Qo(a,o),h&2048&&xf(o.alternate,o);break;default:Qo(a,o)}i=i.sibling}}var Yo=8192;function Ia(t){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)sy(t),t=t.sibling}function sy(t){switch(t.tag){case 26:Ia(t),t.flags&Yo&&t.memoizedState!==null&&xb(oi,t.memoizedState,t.memoizedProps);break;case 5:Ia(t);break;case 3:case 4:var i=oi;oi=$u(t.stateNode.containerInfo),Ia(t),oi=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,Ia(t),Yo=i):Ia(t));break;default:Ia(t)}}function ay(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Zt=o,ly(o,t)}ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)oy(t),t=t.sibling}function oy(t){switch(t.tag){case 0:case 11:case 15:Xo(t),t.flags&2048&&Or(9,t,t.return);break;case 3:Xo(t);break;case 12:Xo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Lu(t)):Xo(t);break;default:Xo(t)}}function Lu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Zt=o,ly(o,t)}ay(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Or(8,i,i.return),Lu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(i));break;default:Lu(i)}t=t.sibling}}function ly(t,i){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Or(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Zt=o;else e:for(a=t;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(Jp(o),o===a){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var QT={getCacheForType:function(t){var i=hn(Ft),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},YT=typeof WeakMap=="function"?WeakMap:Map,ct=0,Et=null,We=null,rt=0,ht=0,Vn=null,Vr=!1,Na=!1,Of=!1,sr=0,Nt=0,Pr=0,Ls=0,Mf=0,Wn=0,Ca=0,$o=null,An=null,kf=!1,Vf=0,Uu=1/0,ju=null,zr=null,sn=0,Lr=null,Da=null,xa=0,Pf=0,zf=null,uy=null,Zo=0,Lf=null;function Pn(){if((ct&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var t=_a;return t!==0?t:Gf()}return ii()}function cy(){Wn===0&&(Wn=(rt&536870912)===0||ot?pr():536870912);var t=Zn.current;return t!==null&&(t.flags|=32),Wn}function zn(t,i,a){(t===Et&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),Ur(t,rt,Wn,!1)),jn(t,a),((ct&2)===0||t!==Et)&&(t===Et&&((ct&2)===0&&(Ls|=a),Nt===4&&Ur(t,rt,Wn,!1)),Ci(t))}function hy(t,i,a){if((ct&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&t.expiredLanes)===0||mi(t,i),h=o?ZT(t,i):Bf(t,i,!0),f=o;do{if(h===0){Na&&!o&&Ur(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!XT(a)){h=Bf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=$o;var O=S.current.memoizedState.isDehydrated;if(O&&(Oa(S,v).flags|=256),v=Bf(S,v,!1),v!==2){if(Of&&!O){S.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Oa(t,0),Ur(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(o,i,Wn,!Vr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Vf+300-we(),10<h)){if(Ur(o,i,Wn,!Vr),Pi(o,0,!0)!==0)break e;o.timeoutHandle=jy(fy.bind(null,o,a,An,ju,kf,i,Wn,Ls,Ca,Vr,f,2,-0,0),h);break e}fy(o,a,An,ju,kf,i,Wn,Ls,Ca,Vr,f,0,-0,0)}}break}while(!0);Ci(t)}function fy(t,i,a,o,h,f,v,S,O,H,$,ne,q,F){if(t.timeoutHandle=-1,ne=i.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:Db},sy(i),ne=Ob(),ne!==null)){t.cancelPendingCommit=ne(vy.bind(null,t,i,f,a,o,h,v,S,O,$,1,q,F)),Ur(t,f,v,!H);return}vy(t,i,f,a,o,h,v,S,O)}function XT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!xn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(t,i,a,o){i&=~Mf,i&=~Ls,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-At(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Cn(t,a,i)}function Bu(){return(ct&6)===0?(Wo(0),!1):!0}function Uf(){if(We!==null){if(ht===0)var t=We.return;else t=We,Zi=Os=null,tf(t),Aa=null,Ho=0,t=We;for(;t!==null;)Gp(t.alternate,t),t=t.return;We=null}}function Oa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,db(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Uf(),Et=t,We=a=Yi(t.current,null),rt=i,ht=0,Vn=null,Vr=!1,Na=mi(t,i),Of=!1,Ca=Wn=Mf=Ls=Pr=Nt=0,An=$o=null,kf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-At(o),f=1<<h;i|=t[h],o&=~f}return sr=i,uu(),a}function dy(t,i){Xe=null,G.H=Nu,i===Mo||i===_u?(i=Dg(),ht=3):i===Ig?(i=Dg(),ht=4):ht=i===xp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,We===null&&(Nt=1,Mu(t,Qn(i,t.current)))}function my(){var t=G.H;return G.H=Nu,t===null?Nu:t}function gy(){var t=G.A;return G.A=QT,t}function jf(){Nt=4,Vr||(rt&4194048)!==rt&&Zn.current!==null||(Na=!0),(Pr&134217727)===0&&(Ls&134217727)===0||Et===null||Ur(Et,rt,Wn,!1)}function Bf(t,i,a){var o=ct;ct|=2;var h=my(),f=gy();(Et!==t||rt!==i)&&(ju=null,Oa(t,i)),i=!1;var v=Nt;e:do try{if(ht!==0&&We!==null){var S=We,O=Vn;switch(ht){case 8:Uf(),v=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(i=!0);var H=ht;if(ht=0,Vn=null,Ma(t,S,O,H),a&&Na){v=0;break e}break;default:H=ht,ht=0,Vn=null,Ma(t,S,O,H)}}$T(),v=Nt;break}catch($){dy(t,$)}while(!0);return i&&t.shellSuspendCounter++,Zi=Os=null,ct=o,G.H=h,G.A=f,We===null&&(Et=null,rt=0,uu()),v}function $T(){for(;We!==null;)py(We)}function ZT(t,i){var a=ct;ct|=2;var o=my(),h=gy();Et!==t||rt!==i?(ju=null,Uu=we()+500,Oa(t,i)):Na=mi(t,i);e:do try{if(ht!==0&&We!==null){i=We;var f=Vn;t:switch(ht){case 1:ht=0,Vn=null,Ma(t,i,f,1);break;case 2:case 9:if(Ng(f)){ht=0,Vn=null,yy(i);break}i=function(){ht!==2&&ht!==9||Et!==t||(ht=7),Ci(t)},f.then(i,i);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Ng(f)?(ht=0,Vn=null,yy(i)):(ht=0,Vn=null,Ma(t,i,f,7));break;case 5:var v=null;switch(We.tag){case 26:v=We.memoizedState;case 5:case 27:var S=We;if(!v||Wy(v)){ht=0,Vn=null;var O=S.sibling;if(O!==null)We=O;else{var H=S.return;H!==null?(We=H,Hu(H)):We=null}break t}}ht=0,Vn=null,Ma(t,i,f,5);break;case 6:ht=0,Vn=null,Ma(t,i,f,6);break;case 8:Uf(),Nt=6;break e;default:throw Error(s(462))}}WT();break}catch($){dy(t,$)}while(!0);return Zi=Os=null,G.H=o,G.A=h,ct=a,We!==null?0:(Et=null,rt=0,uu(),Nt)}function WT(){for(;We!==null&&!xe();)py(We)}function py(t){var i=qp(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?Hu(t):We=i}function yy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=zp(a,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=zp(a,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:tf(i);default:Gp(a,i),i=We=_g(i,sr),i=qp(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?Hu(t):We=i}function Ma(t,i,a,o){Zi=Os=null,tf(i),Aa=null,Ho=0;var h=i.return;try{if(BT(t,h,i,a,rt)){Nt=1,Mu(t,Qn(a,t.current)),We=null;return}}catch(f){if(h!==null)throw We=h,f;Nt=1,Mu(t,Qn(a,t.current)),We=null;return}i.flags&32768?(ot||o===1?t=!0:Na||(rt&536870912)!==0?t=!1:(Vr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Zn.current,o!==null&&o.tag===13&&(o.flags|=16384))),_y(i,t)):Hu(i)}function Hu(t){var i=t;do{if((i.flags&32768)!==0){_y(i,Vr);return}t=i.return;var a=qT(i.alternate,i,sr);if(a!==null){We=a;return}if(i=i.sibling,i!==null){We=i;return}We=i=t}while(i!==null);Nt===0&&(Nt=5)}function _y(t,i){do{var a=FT(t.alternate,t);if(a!==null){a.flags&=32767,We=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){We=t;return}We=t=a}while(t!==null);Nt=6,We=null}function vy(t,i,a,o,h,f,v,S,O){t.cancelPendingCommit=null;do qu();while(sn!==0);if((ct&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Dh,_r(t,a,f,v,S,O),t===Et&&(We=Et=null,rt=0),Da=i,Lr=t,xa=a,Pf=f,zf=h,uy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nb(Ge,function(){return Ay(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=Z.p,Z.p=2,v=ct,ct|=4;try{GT(t,i,a)}finally{ct=v,Z.p=h,G.T=o}}sn=1,Ey(),Ty(),by()}}function Ey(){if(sn===1){sn=0;var t=Lr,i=Da,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=Z.p;Z.p=2;var h=ct;ct|=4;try{ny(i,t);var f=Jf,v=lg(t.containerInfo),S=f.focusedElem,O=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&og(S.ownerDocument.documentElement,S)){if(O!==null&&wh(S)){var H=O.start,$=O.end;if($===void 0&&($=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min($,S.value.length);else{var ne=S.ownerDocument||document,q=ne&&ne.defaultView||window;if(q.getSelection){var F=q.getSelection(),Le=S.textContent.length,Ce=Math.min(O.start,Le),gt=O.end===void 0?Ce:Math.min(O.end,Le);!F.extend&&Ce>gt&&(v=gt,gt=Ce,Ce=v);var L=ag(S,Ce),P=ag(S,gt);if(L&&P&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==P.node||F.focusOffset!==P.offset)){var B=ne.createRange();B.setStart(L.node,L.offset),F.removeAllRanges(),Ce>gt?(F.addRange(B),F.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),F.addRange(B))}}}}for(ne=[],F=S;F=F.parentNode;)F.nodeType===1&&ne.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var J=ne[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}tc=!!Wf,Jf=Wf=null}finally{ct=h,Z.p=o,G.T=a}}t.current=i,sn=2}}function Ty(){if(sn===2){sn=0;var t=Lr,i=Da,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=Z.p;Z.p=2;var h=ct;ct|=4;try{Wp(t,i.alternate,i)}finally{ct=h,Z.p=o,G.T=a}}sn=3}}function by(){if(sn===4||sn===3){sn=0,Ie();var t=Lr,i=Da,a=xa,o=uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sn=5:(sn=0,Da=Lr=null,Sy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),zi(a),i=i.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Me,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=Z.p,Z.p=2,G.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var S=o[v];f(S.value,{componentStack:S.stack})}}finally{G.T=i,Z.p=h}}(xa&3)!==0&&qu(),Ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Lf?Zo++:(Zo=0,Lf=t):Zo=0,Wo(0)}}function Sy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xo(i)))}function qu(t){return Ey(),Ty(),by(),Ay()}function Ay(){if(sn!==5)return!1;var t=Lr,i=Pf;Pf=0;var a=zi(xa),o=G.T,h=Z.p;try{Z.p=32>a?32:a,G.T=null,a=zf,zf=null;var f=Lr,v=xa;if(sn=0,Da=Lr=null,xa=0,(ct&6)!==0)throw Error(s(331));var S=ct;if(ct|=4,oy(f.current),ry(f,f.current,v,a),ct=S,Wo(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Me,f)}catch{}return!0}finally{Z.p=h,G.T=o,Sy(t,i)}}function wy(t,i,a){i=Qn(a,i),i=pf(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(jn(t,2),Ci(t))}function _t(t,i,a){if(t.tag===3)wy(t,t,a);else for(;i!==null;){if(i.tag===3){wy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zr===null||!zr.has(o))){t=Qn(a,t),a=Cp(2),o=Nr(i,a,2),o!==null&&(Dp(a,o,i,t),jn(o,2),Ci(o));break}}i=i.return}}function Hf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new YT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Of=!0,h.add(a),t=JT.bind(null,t,i,a),i.then(t,t))}function JT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Et===t&&(rt&a)===a&&(Nt===4||Nt===3&&(rt&62914560)===rt&&300>we()-Vf?(ct&2)===0&&Oa(t,0):Mf|=a,Ca===rt&&(Ca=0)),Ci(t)}function Ry(t,i){i===0&&(i=yr()),t=ma(t,i),t!==null&&(jn(t,i),Ci(t))}function eb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ry(t,a)}function tb(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Ry(t,a)}function nb(t,i){return Ke(t,i)}var Fu=null,ka=null,qf=!1,Gu=!1,Ff=!1,Us=0;function Ci(t){t!==ka&&t.next===null&&(ka===null?Fu=ka=t:ka=ka.next=t),Gu=!0,qf||(qf=!0,rb())}function Wo(t,i){if(!Ff&&Gu){Ff=!0;do for(var a=!1,o=Fu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Dy(o,f))}else f=rt,f=Pi(o,o===Et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||mi(o,f)||(a=!0,Dy(o,f));o=o.next}while(a);Ff=!1}}function ib(){Iy()}function Iy(){Gu=qf=!1;var t=0;Us!==0&&(fb()&&(t=Us),Us=0);for(var i=we(),a=null,o=Fu;o!==null;){var h=o.next,f=Ny(o,i);f===0?(o.next=null,a===null?Fu=h:a.next=h,h===null&&(ka=a)):(a=o,(t!==0||(f&3)!==0)&&(Gu=!0)),o=h}Wo(t)}function Ny(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-At(f),S=1<<v,O=h[v];O===-1?((S&a)===0||(S&o)!==0)&&(h[v]=gr(S,i)):O<=i&&(t.expiredLanes|=S),f&=~S}if(i=Et,a=rt,a=Pi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&je(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&je(o),zi(a)){case 2:case 8:a=Be;break;case 32:a=Ge;break;case 268435456:a=Qt;break;default:a=Ge}return o=Cy.bind(null,t),a=Ke(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&je(o),t.callbackPriority=2,t.callbackNode=null,2}function Cy(t,i){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qu()&&t.callbackNode!==a)return null;var o=rt;return o=Pi(t,t===Et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(hy(t,o,i),Ny(t,we()),t.callbackNode!=null&&t.callbackNode===a?Cy.bind(null,t):null)}function Dy(t,i){if(qu())return null;hy(t,i,!0)}function rb(){mb(function(){(ct&6)!==0?Ke(_e,ib):Iy()})}function Gf(){return Us===0&&(Us=pr()),Us}function xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function Oy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function sb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=xy((h[Vt]||null).action),v=o.submitter;v&&(i=(i=v[Vt]||null)?xy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var S=new ia("action","action",null,o,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var O=v?Oy(h,v):new FormData(h);hf(a,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(S.preventDefault(),O=v?Oy(h,v):new FormData(h),hf(a,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var Kf=0;Kf<Ch.length;Kf++){var Qf=Ch[Kf],ab=Qf.toLowerCase(),ob=Qf[0].toUpperCase()+Qf.slice(1);ai(ab,"on"+ob)}ai(hg,"onAnimationEnd"),ai(fg,"onAnimationIteration"),ai(dg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(AT,"onTransitionRun"),ai(wT,"onTransitionStart"),ai(RT,"onTransitionCancel"),ai(mg,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function My(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var S=o[v],O=S.instance,H=S.currentTarget;if(S=S.listener,O!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=H;try{f(h)}catch($){Ou($)}h.currentTarget=null,f=O}else for(v=0;v<o.length;v++){if(S=o[v],O=S.instance,H=S.currentTarget,S=S.listener,O!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=H;try{f(h)}catch($){Ou($)}h.currentTarget=null,f=O}}}}function Je(t,i){var a=i[uo];a===void 0&&(a=i[uo]=new Set);var o=t+"__bubble";a.has(o)||(ky(i,t,2,!1),a.add(o))}function Yf(t,i,a){var o=0;i&&(o|=4),ky(a,t,o,i)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[Ku]){t[Ku]=!0,co.forEach(function(a){a!=="selectionchange"&&(lb.has(a)||Yf(a,!1,t),Yf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ku]||(i[Ku]=!0,Yf("selectionchange",!1,i))}}function ky(t,i,a,o){switch(r_(i)){case 2:var h=Vb;break;case 8:h=Pb;break;default:h=ud}a=h.bind(null,i,a,t),h=void 0,!Gn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function $f(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var S=o.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=o.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=Li(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){o=f=v;continue e}S=S.parentNode}}o=o.return}Yl(function(){var H=f,$=Fn(a),ne=[];e:{var q=gg.get(t);if(q!==void 0){var F=ia,Le=t;switch(t){case"keypress":if(Ei(a)===0)break e;case"keydown":case"keyup":F=ua;break;case"focusin":Le="focus",F=aa;break;case"focusout":Le="blur",F=aa;break;case"beforeblur":case"afterblur":F=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=nu;break;case hg:case fg:case dg:F=oa;break;case mg:F=ru;break;case"scroll":case"scrollend":F=Xl;break;case"wheel":F=ca;break;case"copy":case"cut":case"paste":F=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=So;break;case"toggle":case"beforetoggle":F=au}var Ce=(i&4)!==0,gt=!Ce&&(t==="scroll"||t==="scrollend"),L=Ce?q!==null?q+"Capture":null:q;Ce=[];for(var P=H,B;P!==null;){var J=P;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=_s(P,L),J!=null&&Ce.push(el(P,J,B))),gt)break;P=P.return}0<Ce.length&&(q=new F(q,Le,null,a,$),ne.push({event:q,listeners:Ce}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Hi&&(Le=a.relatedTarget||a.fromElement)&&(Li(Le)||Le[Hn]))break e;if((F||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,F?(Le=a.relatedTarget||a.toElement,F=H,Le=Le?Li(Le):null,Le!==null&&(gt=u(Le),Ce=Le.tag,Le!==gt||Ce!==5&&Ce!==27&&Ce!==6)&&(Le=null)):(F=null,Le=H),F!==Le)){if(Ce=Kn,J="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=So,J="onPointerLeave",L="onPointerEnter",P="pointer"),gt=F==null?q:pi(F),B=Le==null?q:pi(Le),q=new Ce(J,P+"leave",F,a,$),q.target=gt,q.relatedTarget=B,J=null,Li($)===H&&(Ce=new Ce(L,P+"enter",Le,a,$),Ce.target=B,Ce.relatedTarget=gt,J=Ce),gt=J,F&&Le)t:{for(Ce=F,L=Le,P=0,B=Ce;B;B=Va(B))P++;for(B=0,J=L;J;J=Va(J))B++;for(;0<P-B;)Ce=Va(Ce),P--;for(;0<B-P;)L=Va(L),B--;for(;P--;){if(Ce===L||L!==null&&Ce===L.alternate)break t;Ce=Va(Ce),L=Va(L)}Ce=null}else Ce=null;F!==null&&Vy(ne,q,F,Ce,!1),Le!==null&&gt!==null&&Vy(ne,gt,Le,Ce,!0)}}e:{if(q=H?pi(H):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ve=eg;else if(qt(q))if(tg)ve=TT;else{ve=vT;var Ze=_T}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&po(H.elementType)&&(ve=eg):ve=ET;if(ve&&(ve=ve(t,H))){Qi(ne,ve,a,$);break e}Ze&&Ze(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Sr(q,"number",q.value)}switch(Ze=H?pi(H):window,t){case"focusin":(qt(Ze)||Ze.contentEditable==="true")&&(ha=Ze,Rh=H,Ro=null);break;case"focusout":Ro=Rh=ha=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,ug(ne,a,$);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":ug(ne,a,$)}var Re;if(Si)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else nt?Y(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&a.locale!=="ko"&&(nt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&nt&&(Re=_o()):(vi=$,Ar="value"in vi?vi.value:vi.textContent,nt=!0)),Ze=Qu(H,Oe),0<Ze.length&&(Oe=new To(Oe,t,null,a,$),ne.push({event:Oe,listeners:Ze}),Re?Oe.data=Re:(Re=fe(a),Re!==null&&(Oe.data=Re)))),(Re=m?Ht(t,a):it(t,a))&&(Oe=Qu(H,"onBeforeInput"),0<Oe.length&&(Ze=new To("onBeforeInput","beforeinput",null,a,$),ne.push({event:Ze,listeners:Oe}),Ze.data=Re)),sb(ne,t,H,a,$)}My(ne,i)})}function el(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qu(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=_s(t,a),h!=null&&o.unshift(el(t,h,f)),h=_s(t,i),h!=null&&o.push(el(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vy(t,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var S=a,O=S.alternate,H=S.stateNode;if(S=S.tag,O!==null&&O===o)break;S!==5&&S!==26&&S!==27||H===null||(O=H,h?(H=_s(a,f),H!=null&&v.unshift(el(a,H,O))):h||(H=_s(a,f),H!=null&&v.push(el(a,H,O)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var ub=/\r\n?/g,cb=/\u0000|\uFFFD/g;function Py(t){return(typeof t=="string"?t:""+t).replace(ub,`
`).replace(cb,"")}function zy(t,i){return i=Py(i),Py(t)===i}function Yu(){}function mt(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||qn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&qn(t,""+o);break;case"className":yi(t,"class",o);break;case"tabIndex":yi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(t,a,o);break;case"style":go(t,o,f);break;case"data":if(i!=="object"){yi(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&mt(t,i,"name",h.name,h,null),mt(t,i,"formEncType",h.formEncType,h,null),mt(t,i,"formMethod",h.formMethod,h,null),mt(t,i,"formTarget",h.formTarget,h,null)):(mt(t,i,"encType",h.encType,h,null),mt(t,i,"method",h.method,h,null),mt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Yu);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Je("beforetoggle",t),Je("toggle",t),br(t,"popover",o);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":br(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vh.get(a)||a,br(t,a,o))}}function Zf(t,i,a,o,h,f){switch(a){case"style":go(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?qn(t,o):(typeof o=="number"||typeof o=="bigint")&&qn(t,""+o);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):br(t,a,o)}}}function an(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(t,i,f,v,a,null)}}h&&mt(t,i,"srcSet",a.srcSet,a,null),o&&mt(t,i,"src",a.src,a,null);return;case"input":Je("invalid",t);var S=f=v=h=null,O=null,H=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":v=$;break;case"checked":O=$;break;case"defaultChecked":H=$;break;case"value":f=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:mt(t,i,o,$,a,null)}}gs(t,f,S,O,H,v,h,!1),ta(t);return;case"select":Je("invalid",t),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":o=S;default:mt(t,i,h,S,a,null)}i=f,a=v,t.multiple=!!o,i!=null?Bi(t,!!o,i,!1):a!=null&&Bi(t,!!o,a,!0);return;case"textarea":Je("invalid",t),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":o=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:mt(t,i,v,S,a,null)}ps(t,o,h,f),ta(t);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:mt(t,i,O,o,a,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Je(Jo[o],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(o=a[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(t,i,H,o,a,null)}return;default:if(po(i)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Zf(t,i,$,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&mt(t,i,S,o,a,null))}function hb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,S=null,O=null,H=null,$=null;for(F in a){var ne=a[F];if(a.hasOwnProperty(F)&&ne!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=ne;default:o.hasOwnProperty(F)||mt(t,i,F,null,o,ne)}}for(var q in o){var F=o[q];if(ne=a[q],o.hasOwnProperty(q)&&(F!=null||ne!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":H=F;break;case"defaultChecked":$=F;break;case"value":v=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ne&&mt(t,i,q,F,o,ne)}}Dn(t,v,S,O,H,$,f,h);return;case"select":F=v=S=q=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":F=O;default:o.hasOwnProperty(f)||mt(t,i,f,null,o,O)}for(h in o)if(f=o[h],O=a[h],o.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":q=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==O&&mt(t,i,h,f,o,O)}i=S,a=v,o=F,q!=null?Bi(t,!!a,q,!1):!!o!=!!a&&(i!=null?Bi(t,!!a,i,!0):Bi(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:mt(t,i,S,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&mt(t,i,v,h,o,f)}ft(t,q,F);return;case"option":for(var Le in a)if(q=a[Le],a.hasOwnProperty(Le)&&q!=null&&!o.hasOwnProperty(Le))switch(Le){case"selected":t.selected=!1;break;default:mt(t,i,Le,null,o,q)}for(O in o)if(q=o[O],F=a[O],o.hasOwnProperty(O)&&q!==F&&(q!=null||F!=null))switch(O){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:mt(t,i,O,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)q=a[Ce],a.hasOwnProperty(Ce)&&q!=null&&!o.hasOwnProperty(Ce)&&mt(t,i,Ce,null,o,q);for(H in o)if(q=o[H],F=a[H],o.hasOwnProperty(H)&&q!==F&&(q!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:mt(t,i,H,q,o,F)}return;default:if(po(i)){for(var gt in a)q=a[gt],a.hasOwnProperty(gt)&&q!==void 0&&!o.hasOwnProperty(gt)&&Zf(t,i,gt,void 0,o,q);for($ in o)q=o[$],F=a[$],!o.hasOwnProperty($)||q===F||q===void 0&&F===void 0||Zf(t,i,$,q,o,F);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!o.hasOwnProperty(L)&&mt(t,i,L,null,o,q);for(ne in o)q=o[ne],F=a[ne],!o.hasOwnProperty(ne)||q===F||q==null&&F==null||mt(t,i,ne,q,o,F)}var Wf=null,Jf=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function Ly(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ed(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var td=null;function fb(){var t=window.event;return t&&t.type==="popstate"?t===td?!1:(td=t,!0):(td=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(gb)}:jy;function gb(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function Hy(t,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=t.ownerDocument;if(a&1&&tl(v.documentElement),a&2&&tl(v.body),a&4)for(a=v.head,tl(a),v=a.firstChild;v;){var S=v.nextSibling,O=v.nodeName;v[hs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(h===0){t.removeChild(f),ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);ul(i)}function nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[hs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function yb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=li(t.nextSibling),t===null))return null;return t}function id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _b(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function li(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var rd=null;function qy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Fy(t,i,a){switch(i=Xu(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Tr(t)}var Jn=new Map,Gy=new Set;function $u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=Z.d;Z.d={f:vb,r:Eb,D:Tb,C:bb,L:Sb,m:Ab,X:Rb,S:wb,M:Ib};function vb(){var t=ar.f(),i=Bu();return t||i}function Eb(t){var i=gi(t);i!==null&&i.tag===5&&i.type==="form"?hp(i):ar.r(t)}var Pa=typeof document>"u"?null:document;function Ky(t,i,a){var o=Pa;if(o&&typeof i=="string"&&i){var h=Pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Gy.has(h)||(Gy.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),an(i,"link",t),Dt(i),o.head.appendChild(i)))}}function Tb(t){ar.D(t),Ky("dns-prefetch",t,null)}function bb(t,i){ar.C(t,i),Ky("preconnect",t,i)}function Sb(t,i,a){ar.L(t,i,a);var o=Pa;if(o&&t&&i){var h='link[rel="preload"][as="'+Pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pt(a.imageSizes)+'"]')):h+='[href="'+Pt(t)+'"]';var f=h;switch(i){case"style":f=za(t);break;case"script":f=La(t)}Jn.has(f)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Jn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(nl(f))||i==="script"&&o.querySelector(il(f))||(i=o.createElement("link"),an(i,"link",t),Dt(i),o.head.appendChild(i)))}}function Ab(t,i){ar.m(t,i);var a=Pa;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Pt(o)+'"][href="'+Pt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!Jn.has(f)&&(t=A({rel:"modulepreload",href:t},i),Jn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(f)))return}o=a.createElement("link"),an(o,"link",t),Dt(o),a.head.appendChild(o)}}}function wb(t,i,a){ar.S(t,i,a);var o=Pa;if(o&&t){var h=yn(o).hoistableStyles,f=za(t);i=i||"default";var v=h.get(f);if(!v){var S={loading:0,preload:null};if(v=o.querySelector(nl(f)))S.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Jn.get(f))&&sd(t,a);var O=v=o.createElement("link");Dt(O),an(O,"link",t),O._p=new Promise(function(H,$){O.onload=H,O.onerror=$}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Zu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(f,v)}}}function Rb(t,i){ar.X(t,i);var a=Pa;if(a&&t){var o=yn(a).hoistableScripts,h=La(t),f=o.get(h);f||(f=a.querySelector(il(h)),f||(t=A({src:t,async:!0},i),(i=Jn.get(h))&&ad(t,i),f=a.createElement("script"),Dt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ib(t,i){ar.M(t,i);var a=Pa;if(a&&t){var o=yn(a).hoistableScripts,h=La(t),f=o.get(h);f||(f=a.querySelector(il(h)),f||(t=A({src:t,async:!0,type:"module"},i),(i=Jn.get(h))&&ad(t,i),f=a.createElement("script"),Dt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Qy(t,i,a,o){var h=(h=te.current)?$u(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=yn(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var f=yn(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(nl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),f||Nb(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=yn(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+Pt(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function Yy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Nb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),an(i,"link",a),Dt(i),t.head.appendChild(i))}function La(t){return'[src="'+Pt(t)+'"]'}function il(t){return"script[async]"+t}function Xy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(o)return i.instance=o,Dt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),an(o,"style",h),Zu(o,a.precedence,t),i.instance=o;case"stylesheet":h=za(a.href);var f=t.querySelector(nl(h));if(f)return i.state.loading|=4,i.instance=f,Dt(f),f;o=Yy(a),(h=Jn.get(h))&&sd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var v=f;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),an(f,"link",o),i.state.loading|=4,Zu(f,a.precedence,t),i.instance=f;case"script":return f=La(a.src),(h=t.querySelector(il(f)))?(i.instance=h,Dt(h),h):(o=a,(h=Jn.get(f))&&(o=A({},a),ad(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),an(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Zu(o,a.precedence,t));return i.instance}function Zu(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var S=o[v];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ad(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wu=null;function $y(t,i,a){if(Wu===null){var o=new Map,h=Wu=new Map;h.set(a,o)}else h=Wu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[hs]||f[Bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var S=o.get(v);S?S.push(f):o.set(v,[f])}}return o}function Zy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Cb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var rl=null;function Db(){}function xb(t,i,a){if(rl===null)throw Error(s(475));var o=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=za(a.href),f=t.querySelector(nl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Ju.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=f,Dt(f);return}f=t.ownerDocument||t,a=Yy(a),(h=Jn.get(h))&&sd(a,h),f=f.createElement("link"),Dt(f);var v=f;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),an(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Ju.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function Ob(){if(rl===null)throw Error(s(475));var t=rl;return t.stylesheets&&t.count===0&&od(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&od(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function od(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,i.forEach(Mb,t),ec=null,Ju.call(t))}function Mb(t,i){if(!(i.state.loading&4)){var a=ec.get(t);if(a)var o=a.get(null);else{a=new Map,ec.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=Ju.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var sl={$$typeof:ge,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function kb(t,i,a,o,h,f,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Jy(t,i,a,o,h,f,v,S,O,H,$,ne){return t=new kb(t,i,a,v,S,O,H,ne),i=1,f===!0&&(i|=24),f=On(3,null,null,i),t.current=f,f.stateNode=t,i=Bh(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Gh(f),t}function e_(t){return t?(t=ga,t):ga}function t_(t,i,a,o,h,f){h=e_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ir(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Nr(t,o,i),a!==null&&(zn(a,t,i),Vo(a,t,i))}function n_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ld(t,i){n_(t,i),(t=t.alternate)&&n_(t,i)}function i_(t){if(t.tag===13){var i=ma(t,67108864);i!==null&&zn(i,t,67108864),ld(t,67108864)}}var tc=!0;function Vb(t,i,a,o){var h=G.T;G.T=null;var f=Z.p;try{Z.p=2,ud(t,i,a,o)}finally{Z.p=f,G.T=h}}function Pb(t,i,a,o){var h=G.T;G.T=null;var f=Z.p;try{Z.p=8,ud(t,i,a,o)}finally{Z.p=f,G.T=h}}function ud(t,i,a,o){if(tc){var h=cd(o);if(h===null)$f(t,i,o,nc,a),s_(t,o);else if(Lb(h,t,i,a,o))o.stopPropagation();else if(s_(t,o),i&4&&-1<zb.indexOf(t)){for(;h!==null;){var f=gi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Tn(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-At(v);S.entanglements[1]|=O,v&=~O}Ci(f),(ct&6)===0&&(Uu=we()+500,Wo(0))}}break;case 13:S=ma(f,2),S!==null&&zn(S,f,2),Bu(),ld(f,2)}if(f=cd(o),f===null&&$f(t,i,o,nc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else $f(t,i,o,null,a)}}function cd(t){return t=Fn(t),hd(t)}var nc=null;function hd(t){if(nc=null,t=Li(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return nc=t,null}function r_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case _e:return 2;case Be:return 8;case Ge:case kt:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var fd=!1,Br=null,Hr=null,qr=null,al=new Map,ol=new Map,Fr=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=gi(i),i!==null&&i_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Lb(t,i,a,o,h){switch(i){case"focusin":return Br=ll(Br,t,i,a,o,h),!0;case"dragenter":return Hr=ll(Hr,t,i,a,o,h),!0;case"mouseover":return qr=ll(qr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return al.set(f,ll(al.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ol.set(f,ll(ol.get(f)||null,t,i,a,o,h)),!0}return!1}function a_(t){var i=Li(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){if(a.tag===13){var o=Pn();o=ni(o);var h=ma(a,o);h!==null&&zn(h,a,o),ld(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Hi=o,a.target.dispatchEvent(o),Hi=null}else return i=gi(a),i!==null&&i_(i),t.blockedOn=a,!1;i.shift()}return!0}function o_(t,i,a){ic(t)&&a.delete(i)}function Ub(){fd=!1,Br!==null&&ic(Br)&&(Br=null),Hr!==null&&ic(Hr)&&(Hr=null),qr!==null&&ic(qr)&&(qr=null),al.forEach(o_),ol.forEach(o_)}function rc(t,i){t.blockedOn===i&&(t.blockedOn=null,fd||(fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ub)))}var sc=null;function l_(t){sc!==t&&(sc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===t&&(sc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(hd(o||a)===null)continue;break}var f=gi(a);f!==null&&(t.splice(i,3),i-=3,hf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ul(t){function i(O){return rc(O,t)}Br!==null&&rc(Br,t),Hr!==null&&rc(Hr,t),qr!==null&&rc(qr,t),al.forEach(i),ol.forEach(i);for(var a=0;a<Fr.length;a++){var o=Fr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)a_(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[Vt]||null;if(typeof f=="function")v||l_(a);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Vt]||null)S=v.formAction;else if(hd(h)!==null)continue}else S=v.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),l_(a)}}}function dd(t){this._internalRoot=t}ac.prototype.render=dd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Pn();t_(a,o,t,i,null,null)},ac.prototype.unmount=dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t_(t.current,2,null,t,null,null),Bu(),i[Hn]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var i=ii();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&a_(t)}};var u_=e.version;if(u_!=="19.1.0")throw Error(s(527,u_,"19.1.0"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var jb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Me=oc.inject(jb),ke=oc}catch{}}return hl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=wp,f=Rp,v=Ip,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Jy(t,1,!1,null,null,a,o,h,f,v,S,null),t[Hn]=i.current,Xf(t),new dd(i)},hl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=wp,v=Rp,S=Ip,O=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=Jy(t,1,!0,i,a??null,o,h,f,v,S,O,H),i.context=e_(null),a=i.current,o=Pn(),o=ni(o),h=Ir(o),h.callback=null,Nr(a,h,o),a=o,i.current.lanes=a,jn(i,a),Ci(i),t[Hn]=i.current,Xf(t),new ac(i)},hl.version="19.1.0",hl}var v_;function Zb(){if(v_)return pd.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pd.exports=$b(),pd.exports}var Wb=Zb();const Jb=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},eS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,p=y?r[l+2]:0,A=u>>2,D=(u&3)<<4|g>>4;let M=(g&15)<<2|p>>6,Q=p&63;y||(Q=64,d||(M=64)),s.push(n[A],n[D],n[M],n[Q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):eS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const p=l<r.length?n[r.charAt(l)]:64;++l;const D=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||p==null||D==null)throw new tS;const M=u<<2|g>>4;if(s.push(M),p!==64){const Q=g<<4&240|p>>2;if(s.push(Q),D!==64){const ee=p<<6&192|D;s.push(ee)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(r){const e=Zv(r);return Wv.encodeByteArray(e,!0)},Nc=function(r){return nS(r).replace(/\./g,"")},Jv=function(r){try{return Wv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=()=>iS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof E_>"u")return;const r=E_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Jv(r[1]);return e&&JSON.parse(e)},Xc=()=>{try{return Jb()||rS()||sS()||aS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e0=r=>{var e,n;return(n=(e=Xc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},oS=r=>{const e=e0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},t0=()=>{var r;return(r=Xc())===null||r===void 0?void 0:r.config},n0=r=>{var e;return(e=Xc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){return r.endsWith(".cloudworkstations.dev")}async function i0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Nc(JSON.stringify(n)),Nc(JSON.stringify(d)),""].join(".")}const gl={};function cS(){const r={prod:[],emulator:[]};for(const e of Object.keys(gl))gl[e]?r.emulator.push(e):r.prod.push(e);return r}function hS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let T_=!1;function r0(r,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||gl[r]===e||gl[r]||T_)return;gl[r]=e;function n(M){return`__firebase__banner__${M}`}const s="__firebase__banner",u=cS().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function p(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{T_=!0,d()},M}function A(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function D(){const M=hS(s),Q=n("text"),ee=document.getElementById(Q)||document.createElement("span"),he=n("learnmore"),re=document.getElementById(he)||document.createElement("a"),Ee=n("preprendIcon"),be=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ge=M.element;g(ge),A(re,he);const Pe=p();y(be,Ee),ge.append(be,ee,re,Pe),document.body.appendChild(ge)}u?(ee.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function dS(){var r;const e=(r=Xc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _S(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TS,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?bS(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new mr(l,g,s)}}function bS(r,e){return r.replace(SS,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const SS=/\{\$([^}]+)}/g;function AS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=e[l];if(b_(u)&&b_(d)){if(!Fs(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function b_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wS(r,e){const n=new RS(r,e);return n.subscribe.bind(n)}class RS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Ed),l.error===void 0&&(l.error=Ed),l.complete===void 0&&(l.complete=Ed);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ed(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(r){return r===js?void 0:r}function DS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const OS={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},MS=et.INFO,kS={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},VS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=kS[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sm{constructor(e){this.name=e,this._logLevel=MS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const PS=(r,e)=>e.some(n=>r instanceof n);let S_,A_;function zS(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LS(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,Od=new WeakMap,a0=new WeakMap,Td=new WeakMap,am=new WeakMap;function US(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Zr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,r)}).catch(()=>{}),am.set(e,r),e}function jS(r){if(Od.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Od.set(r,e)}let Md={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Od.get(r);if(e==="objectStoreNames")return r.objectStoreNames||a0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function BS(r){Md=r(Md)}function HS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bd(this),e,...n);return a0.set(s,e.sort?e.sort():[e]),Zr(s)}:LS().includes(r)?function(...e){return r.apply(bd(this),e),Zr(s0.get(this))}:function(...e){return Zr(r.apply(bd(this),e))}}function qS(r){return typeof r=="function"?HS(r):(r instanceof IDBTransaction&&jS(r),PS(r,zS())?new Proxy(r,Md):r)}function Zr(r){if(r instanceof IDBRequest)return US(r);if(Td.has(r))return Td.get(r);const e=qS(r);return e!==r&&(Td.set(r,e),am.set(e,r)),e}const bd=r=>am.get(r);function FS(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=Zr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Zr(d.result),y.oldVersion,y.newVersion,Zr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Sd=new Map;function w_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=KS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||GS.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return Sd.set(e,u),u}BS(r=>({...r,get:(e,n,s)=>w_(e,n)||r.get(e,n,s),has:(e,n)=>!!w_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kd="@firebase/app",R_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new sm("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",JS="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",iA="@firebase/data-connect",rA="@firebase/database-compat",sA="@firebase/functions",aA="@firebase/functions-compat",oA="@firebase/installations",lA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",fA="@firebase/performance-compat",dA="@firebase/remote-config",mA="@firebase/remote-config-compat",gA="@firebase/storage",pA="@firebase/storage-compat",yA="@firebase/firestore",_A="@firebase/ai",vA="@firebase/firestore-compat",EA="firebase",TA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",bA={[kd]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[$S]:"fire-analytics-compat",[JS]:"fire-app-check",[WS]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[iA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[sA]:"fire-fn",[aA]:"fire-fn-compat",[oA]:"fire-iid",[lA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[fA]:"fire-perf-compat",[dA]:"fire-rc",[mA]:"fire-rc-compat",[gA]:"fire-gcs",[pA]:"fire-gcs-compat",[yA]:"fire-fst",[vA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,SA=new Map,Pd=new Map;function I_(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const e=r.name;if(Pd.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,r);for(const n of Cc.values())I_(n,r);for(const n of SA.values())I_(n,r);return!0}function om(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ui(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new xl("app","Firebase",AA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=TA;function o0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vd,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw Wr.create("bad-app-name",{appName:String(l)});if(n||(n=t0()),!n)throw Wr.create("no-options");const u=Cc.get(l);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Wr.create("duplicate-app",{appName:l})}const d=new xS(l);for(const y of Pd.values())d.addComponent(y);const g=new wA(n,s,d);return Cc.set(l,g),g}function l0(r=Vd){const e=Cc.get(r);if(!e&&r===Vd&&t0())return o0();if(!e)throw Wr.create("no-app",{appName:r});return e}function Jr(r,e,n){var s;let l=(s=bA[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const g=[`Unable to register library "${l}" with version "${e}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(g.join(" "));return}Qa(new Gs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebase-heartbeat-database",IA=1,Tl="firebase-heartbeat-store";let Ad=null;function u0(){return Ad||(Ad=FS(RA,IA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Tl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wr.create("idb-open",{originalErrorMessage:r.message})})),Ad}async function NA(r){try{const n=(await u0()).transaction(Tl),s=await n.objectStore(Tl).get(c0(r));return await n.done,s}catch(e){if(e instanceof mr)cr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function N_(r,e){try{const s=(await u0()).transaction(Tl,"readwrite");await s.objectStore(Tl).put(e,c0(r)),await s.done}catch(n){if(n instanceof mr)cr.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function c0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=1024,DA=30;class xA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=C_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>DA){const d=kA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C_(),{heartbeatsToSend:s,unsentEntries:l}=OA(this._heartbeatsCache.heartbeats),u=Nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return cr.warn(n),""}}}function C_(){return new Date().toISOString().substring(0,10)}function OA(r,e=CA){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),D_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),D_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function D_(r){return Nc(JSON.stringify({version:2,heartbeats:r})).length}function kA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r){Qa(new Gs("platform-logger",e=>new QS(e),"PRIVATE")),Qa(new Gs("heartbeat",e=>new xA(e),"PRIVATE")),Jr(kd,R_,r),Jr(kd,R_,"esm2017"),Jr("fire-js","")}VA("");var PA="firebase",zA="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(PA,zA,"app");function lm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LA=h0,f0=new xl("auth","Firebase",h0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new sm("@firebase/auth");function UA(r,...e){Dc.logLevel<=et.WARN&&Dc.warn(`Auth (${no}): ${r}`,...e)}function pc(r,...e){Dc.logLevel<=et.ERROR&&Dc.error(`Auth (${no}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(r,...e){throw cm(r,...e)}function hi(r,...e){return cm(r,...e)}function um(r,e,n){const s=Object.assign(Object.assign({},LA()),{[e]:n});return new xl("auth","Firebase",s).create(e,{appName:r.name})}function qs(r){return um(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jA(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ki(r,"argument-error"),um(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return f0.create(r,...e)}function He(r,e,...n){if(!r)throw cm(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw pc(e),new Error(e)}function hr(r,e){r||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function BA(){return x_()==="http:"||x_()==="https:"}function x_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BA()||gS()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return HA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KA=new Ml(3e4,6e4);function fm(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function io(r,e,n,s,l={}){return m0(r,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const g=Ol(Object.assign({key:r.config.apiKey},d)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:y},u);return mS()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Dl(r.emulatorConfig.host)&&(p.credentials="include"),d0.fetch()(await g0(r,r.config.apiHost,n,g),p)})}async function m0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},FA),e);try{const l=new YA(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw lc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw lc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw lc(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw um(r,A,p);ki(r,A)}}catch(l){if(l instanceof mr)throw l;ki(r,"network-request-failed",{message:String(l)})}}async function QA(r,e,n,s,l={}){const u=await io(r,e,n,s,l);return"mfaPendingCredential"in u&&ki(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function g0(r,e,n,s){const l=`${e}${n}?${s}`,u=r,d=u.config.emulator?hm(r.config,l):`${r.config.apiScheme}://${l}`;return GA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class YA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),KA.get())})}}function lc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=hi(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(r,e){return io(r,"POST","/v1/accounts:delete",e)}async function xc(r,e){return io(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(r,e=!1){const n=en(r),s=await n.getIdToken(e),l=dm(s);He(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:pl(wd(l.auth_time)),issuedAtTime:pl(wd(l.iat)),expirationTime:pl(wd(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wd(r){return Number(r)*1e3}function dm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(n);return l?JSON.parse(l):(pc("Failed to decode base64 JWT payload"),null)}catch(l){return pc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function O_(r){const e=dm(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&ZA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(r){var e;const n=r.auth,s=await r.getIdToken(),l=await bl(r,xc(n,{idToken:s}));He(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?p0(u.providerUserInfo):[],g=e1(r.providerData,d),y=r.isAnonymous,p=!(r.email&&u.passwordHash)&&!(g!=null&&g.length),A=y?p:!1,D={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new Ld(u.createdAt,u.lastLoginAt),isAnonymous:A};Object.assign(r,D)}async function JA(r){const e=en(r);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e1(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function p0(r){return r.map(e=>{var{providerId:n}=e,s=lm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(r,e){const n=await m0(r,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await g0(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",d0.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n1(r,e){return io(r,"POST","/v2/accounts:revokeToken",fm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=O_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await t1(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new qa;return s&&(He(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(He(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(He(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ld(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $A(this,e)}reload(){return JA(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await bl(this,XA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,d,g,y,p,A;const D=(s=n.displayName)!==null&&s!==void 0?s:void 0,M=(l=n.email)!==null&&l!==void 0?l:void 0,Q=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,ee=(d=n.photoURL)!==null&&d!==void 0?d:void 0,he=(g=n.tenantId)!==null&&g!==void 0?g:void 0,re=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,Ee=(p=n.createdAt)!==null&&p!==void 0?p:void 0,be=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ge,emailVerified:Pe,isAnonymous:Se,providerData:Ae,stsTokenManager:k}=n;He(ge&&k,e,"internal-error");const E=qa.fromJSON(this.name,k);He(typeof ge=="string",e,"internal-error"),Kr(D,e.name),Kr(M,e.name),He(typeof Pe=="boolean",e,"internal-error"),He(typeof Se=="boolean",e,"internal-error"),Kr(Q,e.name),Kr(ee,e.name),Kr(he,e.name),Kr(re,e.name),Kr(Ee,e.name),Kr(be,e.name);const T=new ci({uid:ge,auth:e,email:M,emailVerified:Pe,displayName:D,isAnonymous:Se,photoURL:ee,phoneNumber:Q,tenantId:he,stsTokenManager:E,createdAt:Ee,lastLoginAt:be});return Ae&&Array.isArray(Ae)&&(T.providerData=Ae.map(I=>Object.assign({},I))),re&&(T._redirectEventId=re),T}static async _fromIdTokenResponse(e,n,s=!1){const l=new qa;l.updateFromServerResponse(n);const u=new ci({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Oc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];He(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?p0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new qa;g.updateFromIdToken(s);const y=new ci({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Ld(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,p),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function ur(r){hr(r instanceof Function,"Expected a class definition");let e=M_.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,M_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y0.type="NONE";const k_=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r,e,n){return`firebase:${r}:${e}:${n}`}class Fa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=yc(this.userKey,l.apiKey,u),this.fullPersistenceKey=yc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xc(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fa(ur(k_),e,s);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ur(k_);const d=yc(s,e.config.apiKey,e.name);let g=null;for(const p of n)try{const A=await p._get(d);if(A){let D;if(typeof A=="string"){const M=await xc(e,{idToken:A}).catch(()=>{});if(!M)break;D=await ci._fromGetAccountInfoResponse(e,M,A)}else D=ci._fromJSON(e,A);p!==u&&(g=D),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Fa(u,e,s):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new Fa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(A0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||E0(e))&&!e.includes("edge/"))return"Chrome";if(b0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _0(r=pn()){return/firefox\//i.test(r)}function v0(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E0(r=pn()){return/crios\//i.test(r)}function T0(r=pn()){return/iemobile/i.test(r)}function b0(r=pn()){return/android/i.test(r)}function S0(r=pn()){return/blackberry/i.test(r)}function A0(r=pn()){return/webos/i.test(r)}function mm(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function i1(r=pn()){var e;return mm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r1(){return yS()&&document.documentMode===10}function w0(r=pn()){return mm(r)||b0(r)||A0(r)||S0(r)||/windows phone/i.test(r)||T0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e=[]){let n;switch(r){case"Browser":n=V_(pn());break;case"Worker":n=`${V_(pn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(r,e={}){return io(r,"GET","/v2/passwordPolicy",fm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=6;class l1{constructor(e){var n,s,l,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:o1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,d,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(n=y.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(u=y.containsUppercaseLetter)!==null&&u!==void 0?u:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new s1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xc(this,{idToken:e}),s=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ui(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&(y!=null&&y.user)&&(l=y.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(qs(this));const n=e?en(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a1(this),n=new l1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await n1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $c(r){return en(r)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wS(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c1(r){gm=r}function h1(r){return gm.loadJS(r)}function f1(){return gm.gapiScript}function d1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r,e){const n=om(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return l;ki(l,"already-initialized")}return n.initialize({options:e})}function g1(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function p1(r,e,n){const s=$c(r);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=I0(e),{host:d,port:g}=y1(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(Fs(p,s.config.emulator)&&Fs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Dl(d)?(i0(`${u}//${d}${y}`),r0("Auth",!0)):_1()}function I0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function y1(r){const e=I0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:z_(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:z_(d)}}}function z_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e){return QA(r,"POST","/v1/accounts:signInWithIdp",fm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="http://localhost";class Ks extends N0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=lm(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Ks(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Ga(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ga(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ga(e,n)}buildRequest(){const e={requestUri:v1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends pm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends kl{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return or.credential(n,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends kl{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends kl{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ci._fromIdTokenResponse(e,s,l),d=L_(s);return new Ya({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=L_(s);return new Ya({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function L_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends mr{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Mc(e,n,s,l)}}function C0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(r,u,e,s):u})}async function E1(r,e,n=!1){const s=await bl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(r,e,n=!1){const{auth:s}=r;if(ui(s.app))return Promise.reject(qs(s));const l="reauthenticate";try{const u=await bl(r,C0(s,l,e,r),n);He(u.idToken,s,"internal-error");const d=dm(u.idToken);He(d,s,"internal-error");const{sub:g}=d;return He(r.uid===g,s,"user-mismatch"),Ya._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ki(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(r,e,n=!1){if(ui(r.app))return Promise.reject(qs(r));const s="signIn",l=await C0(r,s,e),u=await Ya._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function S1(r,e,n,s){return en(r).onIdTokenChanged(e,n,s)}function A1(r,e,n){return en(r).beforeAuthStateChanged(e,n)}function w1(r,e,n,s){return en(r).onAuthStateChanged(e,n,s)}function R1(r){return en(r).signOut()}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=1e3,N1=10;class x0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);r1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,N1):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},I1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x0.type="LOCAL";const C1=x0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O0.type="SESSION";const M0=O0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Zc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await D1(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=ym("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(D){const M=D;if(M.data.eventId===p)switch(M.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(M.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function O1(r){xi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function M1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function V1(){return k0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firebaseLocalStorageDb",P1=1,Vc="firebaseLocalStorage",P0="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wc(r,e){return r.transaction([Vc],e?"readwrite":"readonly").objectStore(Vc)}function z1(){const r=indexedDB.deleteDatabase(V0);return new Vl(r).toPromise()}function Ud(){const r=indexedDB.open(V0,P1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vc,{keyPath:P0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vc)?e(s):(s.close(),await z1(),e(await Ud()))})})}async function U_(r,e,n){const s=Wc(r,!0).put({[P0]:e,value:n});return new Vl(s).toPromise()}async function L1(r,e){const n=Wc(r,!1).get(e),s=await new Vl(n).toPromise();return s===void 0?null:s.value}function j_(r,e){const n=Wc(r,!0).delete(e);return new Vl(n).toPromise()}const U1=800,j1=3;class z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ud(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>j1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(V1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M1(),!this.activeServiceWorker)return;this.sender=new x1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ud();return await U_(e,kc,"1"),await j_(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>U_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>L1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Wc(l,!1).getAll();return new Vl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z0.type="LOCAL";const B1=z0;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r,e){return e?ur(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends N0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H1(r){return b1(r.auth,new _m(r),r.bypassAuthState)}function q1(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),T1(n,new _m(r),r.bypassAuthState)}async function F1(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),E1(n,new _m(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H1;case"linkViaPopup":case"linkViaRedirect":return F1;case"reauthViaPopup":case"reauthViaRedirect":return q1;default:ki(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Ml(2e3,1e4);async function K1(r,e,n){if(ui(r.app))return Promise.reject(hi(r,"operation-not-supported-in-this-environment"));const s=$c(r);jA(r,e,pm);const l=L0(s,n);return new Bs(s,"signInViaPopup",e,l).executeNotNull()}class Bs extends U0{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G1.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="pendingRedirect",_c=new Map;class Y1 extends U0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_c.get(this.auth._key());if(!e){try{const s=await X1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_c.set(this.auth._key(),e)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X1(r,e){const n=W1(e),s=Z1(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function $1(r,e){_c.set(r._key(),e)}function Z1(r){return ur(r._redirectPersistence)}function W1(r){return yc(Q1,r.config.apiKey,r.name)}async function J1(r,e,n=!1){if(ui(r.app))return Promise.reject(qs(r));const s=$c(r),l=L0(s,e),d=await new Y1(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=10*60*1e3;class tw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!j0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ew&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function j0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,e={}){return io(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sw=/^https?/;async function aw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await iw(r);for(const n of e)try{if(ow(n))return}catch{}ki(r,"unauthorized-domain")}function ow(r){const e=zd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!sw.test(n))return!1;if(rw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Ml(3e4,6e4);function H_(){const r=xi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function uw(r){return new Promise((e,n)=>{var s,l,u;function d(){H_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H_(),n(hi(r,"network-request-failed"))},timeout:lw.get()})}if(!((l=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=xi().gapi)===null||u===void 0)&&u.load)d();else{const g=d1("iframefcb");return xi()[g]=()=>{gapi.load?d():n(hi(r,"network-request-failed"))},h1(`${f1()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw vc=null,e})}let vc=null;function cw(r){return vc=vc||uw(r),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Ml(5e3,15e3),fw="__/auth/iframe",dw="emulator/auth/iframe",mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pw(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?hm(e,dw):`https://${r.config.authDomain}/${fw}`,s={apiKey:e.apiKey,appName:r.name,v:no},l=gw.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ol(s).slice(1)}`}async function yw(r){const e=await cw(r),n=xi().gapi;return He(n,r,"internal-error"),e.open({where:document.body,url:pw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mw,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=hi(r,"network-request-failed"),g=xi().setTimeout(()=>{u(d)},hw.get());function y(){xi().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vw=500,Ew=600,Tw="_blank",bw="http://localhost";class q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sw(r,e,n,s=vw,l=Ew){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y=Object.assign(Object.assign({},_w),{width:s.toString(),height:l.toString(),top:u,left:d}),p=pn().toLowerCase();n&&(g=E0(p)?Tw:n),_0(p)&&(e=e||bw,y.scrollbars="yes");const A=Object.entries(y).reduce((M,[Q,ee])=>`${M}${Q}=${ee},`,"");if(i1(p)&&g!=="_self")return Aw(e||"",g),new q_(null);const D=window.open(e||"",g,A);He(D,r,"popup-blocked");try{D.focus()}catch{}return new q_(D)}function Aw(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__/auth/handler",Rw="emulator/auth/handler",Iw=encodeURIComponent("fac");async function F_(r,e,n,s,l,u){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:no,eventId:l};if(e instanceof pm){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",AS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,D]of Object.entries({}))d[A]=D}if(e instanceof kl){const A=e.getScopes().filter(D=>D!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),p=y?`#${Iw}=${encodeURIComponent(y)}`:"";return`${Nw(r)}?${Ol(g).slice(1)}${p}`}function Nw({config:r}){return r.emulator?hm(r,Rw):`https://${r.authDomain}/${ww}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="webStorageSupport";class Cw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=J1,this._overrideRedirectResult=$1}async _openPopup(e,n,s,l){var u;hr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await F_(e,n,s,zd(),l);return Sw(e,d,ym())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await F_(e,n,s,zd(),l);return O1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await yw(e),s=new tw(e);return n.register("authEvent",l=>(He(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rd,{type:Rd},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Rd];d!==void 0&&n(!!d),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w0()||v0()||mm()}}const Dw=Cw;var G_="@firebase/auth",K_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mw(r){Qa(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;He(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R0(r)},p=new u1(s,l,u,y);return g1(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qa(new Gs("auth-internal",e=>{const n=$c(e.getProvider("auth").getImmediate());return(s=>new xw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(G_,K_,Ow(r)),Jr(G_,K_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=5*60,Vw=n0("authIdTokenMaxAge")||kw;let Q_=null;const Pw=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Vw)return;const l=n==null?void 0:n.token;Q_!==l&&(Q_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zw(r=l0()){const e=om(r,"auth");if(e.isInitialized())return e.getImmediate();const n=m1(r,{popupRedirectResolver:Dw,persistence:[B1,C1,M0]}),s=n0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=Pw(u.toString());A1(n,d,()=>d(n.currentUser)),S1(n,g=>d(g))}}const l=e0("auth");return l&&p1(n,`http://${l}`),n}function Lw(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}c1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=hi("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",Lw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mw("Browser");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,B0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,E){function T(){}T.prototype=E.prototype,k.D=E.prototype,k.prototype=new T,k.prototype.constructor=k,k.C=function(I,b,C){for(var N=Array(arguments.length-2),le=2;le<arguments.length;le++)N[le-2]=arguments[le];return E.prototype[b].apply(I,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,E,T){T||(T=0);var I=Array(16);if(typeof E=="string")for(var b=0;16>b;++b)I[b]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(b=0;16>b;++b)I[b]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=k.g[0],T=k.g[1],b=k.g[2];var C=k.g[3],N=E+(C^T&(b^C))+I[0]+3614090360&4294967295;E=T+(N<<7&4294967295|N>>>25),N=C+(b^E&(T^b))+I[1]+3905402710&4294967295,C=E+(N<<12&4294967295|N>>>20),N=b+(T^C&(E^T))+I[2]+606105819&4294967295,b=C+(N<<17&4294967295|N>>>15),N=T+(E^b&(C^E))+I[3]+3250441966&4294967295,T=b+(N<<22&4294967295|N>>>10),N=E+(C^T&(b^C))+I[4]+4118548399&4294967295,E=T+(N<<7&4294967295|N>>>25),N=C+(b^E&(T^b))+I[5]+1200080426&4294967295,C=E+(N<<12&4294967295|N>>>20),N=b+(T^C&(E^T))+I[6]+2821735955&4294967295,b=C+(N<<17&4294967295|N>>>15),N=T+(E^b&(C^E))+I[7]+4249261313&4294967295,T=b+(N<<22&4294967295|N>>>10),N=E+(C^T&(b^C))+I[8]+1770035416&4294967295,E=T+(N<<7&4294967295|N>>>25),N=C+(b^E&(T^b))+I[9]+2336552879&4294967295,C=E+(N<<12&4294967295|N>>>20),N=b+(T^C&(E^T))+I[10]+4294925233&4294967295,b=C+(N<<17&4294967295|N>>>15),N=T+(E^b&(C^E))+I[11]+2304563134&4294967295,T=b+(N<<22&4294967295|N>>>10),N=E+(C^T&(b^C))+I[12]+1804603682&4294967295,E=T+(N<<7&4294967295|N>>>25),N=C+(b^E&(T^b))+I[13]+4254626195&4294967295,C=E+(N<<12&4294967295|N>>>20),N=b+(T^C&(E^T))+I[14]+2792965006&4294967295,b=C+(N<<17&4294967295|N>>>15),N=T+(E^b&(C^E))+I[15]+1236535329&4294967295,T=b+(N<<22&4294967295|N>>>10),N=E+(b^C&(T^b))+I[1]+4129170786&4294967295,E=T+(N<<5&4294967295|N>>>27),N=C+(T^b&(E^T))+I[6]+3225465664&4294967295,C=E+(N<<9&4294967295|N>>>23),N=b+(E^T&(C^E))+I[11]+643717713&4294967295,b=C+(N<<14&4294967295|N>>>18),N=T+(C^E&(b^C))+I[0]+3921069994&4294967295,T=b+(N<<20&4294967295|N>>>12),N=E+(b^C&(T^b))+I[5]+3593408605&4294967295,E=T+(N<<5&4294967295|N>>>27),N=C+(T^b&(E^T))+I[10]+38016083&4294967295,C=E+(N<<9&4294967295|N>>>23),N=b+(E^T&(C^E))+I[15]+3634488961&4294967295,b=C+(N<<14&4294967295|N>>>18),N=T+(C^E&(b^C))+I[4]+3889429448&4294967295,T=b+(N<<20&4294967295|N>>>12),N=E+(b^C&(T^b))+I[9]+568446438&4294967295,E=T+(N<<5&4294967295|N>>>27),N=C+(T^b&(E^T))+I[14]+3275163606&4294967295,C=E+(N<<9&4294967295|N>>>23),N=b+(E^T&(C^E))+I[3]+4107603335&4294967295,b=C+(N<<14&4294967295|N>>>18),N=T+(C^E&(b^C))+I[8]+1163531501&4294967295,T=b+(N<<20&4294967295|N>>>12),N=E+(b^C&(T^b))+I[13]+2850285829&4294967295,E=T+(N<<5&4294967295|N>>>27),N=C+(T^b&(E^T))+I[2]+4243563512&4294967295,C=E+(N<<9&4294967295|N>>>23),N=b+(E^T&(C^E))+I[7]+1735328473&4294967295,b=C+(N<<14&4294967295|N>>>18),N=T+(C^E&(b^C))+I[12]+2368359562&4294967295,T=b+(N<<20&4294967295|N>>>12),N=E+(T^b^C)+I[5]+4294588738&4294967295,E=T+(N<<4&4294967295|N>>>28),N=C+(E^T^b)+I[8]+2272392833&4294967295,C=E+(N<<11&4294967295|N>>>21),N=b+(C^E^T)+I[11]+1839030562&4294967295,b=C+(N<<16&4294967295|N>>>16),N=T+(b^C^E)+I[14]+4259657740&4294967295,T=b+(N<<23&4294967295|N>>>9),N=E+(T^b^C)+I[1]+2763975236&4294967295,E=T+(N<<4&4294967295|N>>>28),N=C+(E^T^b)+I[4]+1272893353&4294967295,C=E+(N<<11&4294967295|N>>>21),N=b+(C^E^T)+I[7]+4139469664&4294967295,b=C+(N<<16&4294967295|N>>>16),N=T+(b^C^E)+I[10]+3200236656&4294967295,T=b+(N<<23&4294967295|N>>>9),N=E+(T^b^C)+I[13]+681279174&4294967295,E=T+(N<<4&4294967295|N>>>28),N=C+(E^T^b)+I[0]+3936430074&4294967295,C=E+(N<<11&4294967295|N>>>21),N=b+(C^E^T)+I[3]+3572445317&4294967295,b=C+(N<<16&4294967295|N>>>16),N=T+(b^C^E)+I[6]+76029189&4294967295,T=b+(N<<23&4294967295|N>>>9),N=E+(T^b^C)+I[9]+3654602809&4294967295,E=T+(N<<4&4294967295|N>>>28),N=C+(E^T^b)+I[12]+3873151461&4294967295,C=E+(N<<11&4294967295|N>>>21),N=b+(C^E^T)+I[15]+530742520&4294967295,b=C+(N<<16&4294967295|N>>>16),N=T+(b^C^E)+I[2]+3299628645&4294967295,T=b+(N<<23&4294967295|N>>>9),N=E+(b^(T|~C))+I[0]+4096336452&4294967295,E=T+(N<<6&4294967295|N>>>26),N=C+(T^(E|~b))+I[7]+1126891415&4294967295,C=E+(N<<10&4294967295|N>>>22),N=b+(E^(C|~T))+I[14]+2878612391&4294967295,b=C+(N<<15&4294967295|N>>>17),N=T+(C^(b|~E))+I[5]+4237533241&4294967295,T=b+(N<<21&4294967295|N>>>11),N=E+(b^(T|~C))+I[12]+1700485571&4294967295,E=T+(N<<6&4294967295|N>>>26),N=C+(T^(E|~b))+I[3]+2399980690&4294967295,C=E+(N<<10&4294967295|N>>>22),N=b+(E^(C|~T))+I[10]+4293915773&4294967295,b=C+(N<<15&4294967295|N>>>17),N=T+(C^(b|~E))+I[1]+2240044497&4294967295,T=b+(N<<21&4294967295|N>>>11),N=E+(b^(T|~C))+I[8]+1873313359&4294967295,E=T+(N<<6&4294967295|N>>>26),N=C+(T^(E|~b))+I[15]+4264355552&4294967295,C=E+(N<<10&4294967295|N>>>22),N=b+(E^(C|~T))+I[6]+2734768916&4294967295,b=C+(N<<15&4294967295|N>>>17),N=T+(C^(b|~E))+I[13]+1309151649&4294967295,T=b+(N<<21&4294967295|N>>>11),N=E+(b^(T|~C))+I[4]+4149444226&4294967295,E=T+(N<<6&4294967295|N>>>26),N=C+(T^(E|~b))+I[11]+3174756917&4294967295,C=E+(N<<10&4294967295|N>>>22),N=b+(E^(C|~T))+I[2]+718787259&4294967295,b=C+(N<<15&4294967295|N>>>17),N=T+(C^(b|~E))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+E&4294967295,k.g[1]=k.g[1]+(b+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+b&4294967295,k.g[3]=k.g[3]+C&4294967295}s.prototype.u=function(k,E){E===void 0&&(E=k.length);for(var T=E-this.blockSize,I=this.B,b=this.h,C=0;C<E;){if(b==0)for(;C<=T;)l(this,k,C),C+=this.blockSize;if(typeof k=="string"){for(;C<E;)if(I[b++]=k.charCodeAt(C++),b==this.blockSize){l(this,I),b=0;break}}else for(;C<E;)if(I[b++]=k[C++],b==this.blockSize){l(this,I),b=0;break}}this.h=b,this.o+=E},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var E=1;E<k.length-8;++E)k[E]=0;var T=8*this.o;for(E=k.length-8;E<k.length;++E)k[E]=T&255,T/=256;for(this.u(k),k=Array(16),E=T=0;4>E;++E)for(var I=0;32>I;I+=8)k[T++]=this.g[E]>>>I&255;return k};function u(k,E){var T=g;return Object.prototype.hasOwnProperty.call(T,k)?T[k]:T[k]=E(k)}function d(k,E){this.h=E;for(var T=[],I=!0,b=k.length-1;0<=b;b--){var C=k[b]|0;I&&C==E||(T[b]=C,I=!1)}this.g=T}var g={};function y(k){return-128<=k&&128>k?u(k,function(E){return new d([E|0],0>E?-1:0)}):new d([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return D;if(0>k)return re(p(-k));for(var E=[],T=1,I=0;k>=T;I++)E[I]=k/T|0,T*=4294967296;return new d(E,0)}function A(k,E){if(k.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k.charAt(0)=="-")return re(A(k.substring(1),E));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=p(Math.pow(E,8)),I=D,b=0;b<k.length;b+=8){var C=Math.min(8,k.length-b),N=parseInt(k.substring(b,b+C),E);8>C?(C=p(Math.pow(E,C)),I=I.j(C).add(p(N))):(I=I.j(T),I=I.add(p(N)))}return I}var D=y(0),M=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(he(this))return-re(this).m();for(var k=0,E=1,T=0;T<this.g.length;T++){var I=this.i(T);k+=(0<=I?I:4294967296+I)*E,E*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(ee(this))return"0";if(he(this))return"-"+re(this).toString(k);for(var E=p(Math.pow(k,6)),T=this,I="";;){var b=Pe(T,E).g;T=Ee(T,b.j(E));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(k);if(T=b,ee(T))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function ee(k){if(k.h!=0)return!1;for(var E=0;E<k.g.length;E++)if(k.g[E]!=0)return!1;return!0}function he(k){return k.h==-1}r.l=function(k){return k=Ee(this,k),he(k)?-1:ee(k)?0:1};function re(k){for(var E=k.g.length,T=[],I=0;I<E;I++)T[I]=~k.g[I];return new d(T,~k.h).add(M)}r.abs=function(){return he(this)?re(this):this},r.add=function(k){for(var E=Math.max(this.g.length,k.g.length),T=[],I=0,b=0;b<=E;b++){var C=I+(this.i(b)&65535)+(k.i(b)&65535),N=(C>>>16)+(this.i(b)>>>16)+(k.i(b)>>>16);I=N>>>16,C&=65535,N&=65535,T[b]=N<<16|C}return new d(T,T[T.length-1]&-2147483648?-1:0)};function Ee(k,E){return k.add(re(E))}r.j=function(k){if(ee(this)||ee(k))return D;if(he(this))return he(k)?re(this).j(re(k)):re(re(this).j(k));if(he(k))return re(this.j(re(k)));if(0>this.l(Q)&&0>k.l(Q))return p(this.m()*k.m());for(var E=this.g.length+k.g.length,T=[],I=0;I<2*E;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<k.g.length;b++){var C=this.i(I)>>>16,N=this.i(I)&65535,le=k.i(b)>>>16,Ue=k.i(b)&65535;T[2*I+2*b]+=N*Ue,be(T,2*I+2*b),T[2*I+2*b+1]+=C*Ue,be(T,2*I+2*b+1),T[2*I+2*b+1]+=N*le,be(T,2*I+2*b+1),T[2*I+2*b+2]+=C*le,be(T,2*I+2*b+2)}for(I=0;I<E;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=E;I<2*E;I++)T[I]=0;return new d(T,0)};function be(k,E){for(;(k[E]&65535)!=k[E];)k[E+1]+=k[E]>>>16,k[E]&=65535,E++}function ge(k,E){this.g=k,this.h=E}function Pe(k,E){if(ee(E))throw Error("division by zero");if(ee(k))return new ge(D,D);if(he(k))return E=Pe(re(k),E),new ge(re(E.g),re(E.h));if(he(E))return E=Pe(k,re(E)),new ge(re(E.g),E.h);if(30<k.g.length){if(he(k)||he(E))throw Error("slowDivide_ only works with positive integers.");for(var T=M,I=E;0>=I.l(k);)T=Se(T),I=Se(I);var b=Ae(T,1),C=Ae(I,1);for(I=Ae(I,2),T=Ae(T,2);!ee(I);){var N=C.add(I);0>=N.l(k)&&(b=b.add(T),C=N),I=Ae(I,1),T=Ae(T,1)}return E=Ee(k,b.j(E)),new ge(b,E)}for(b=D;0<=k.l(E);){for(T=Math.max(1,Math.floor(k.m()/E.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=p(T),N=C.j(E);he(N)||0<N.l(k);)T-=I,C=p(T),N=C.j(E);ee(C)&&(C=M),b=b.add(C),k=Ee(k,N)}return new ge(b,k)}r.A=function(k){return Pe(this,k).h},r.and=function(k){for(var E=Math.max(this.g.length,k.g.length),T=[],I=0;I<E;I++)T[I]=this.i(I)&k.i(I);return new d(T,this.h&k.h)},r.or=function(k){for(var E=Math.max(this.g.length,k.g.length),T=[],I=0;I<E;I++)T[I]=this.i(I)|k.i(I);return new d(T,this.h|k.h)},r.xor=function(k){for(var E=Math.max(this.g.length,k.g.length),T=[],I=0;I<E;I++)T[I]=this.i(I)^k.i(I);return new d(T,this.h^k.h)};function Se(k){for(var E=k.g.length+1,T=[],I=0;I<E;I++)T[I]=k.i(I)<<1|k.i(I-1)>>>31;return new d(T,k.h)}function Ae(k,E){var T=E>>5;E%=32;for(var I=k.g.length-T,b=[],C=0;C<I;C++)b[C]=0<E?k.i(C+T)>>>E|k.i(C+T+1)<<32-E:k.i(C+T);return new d(b,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,B0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,es=d}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H0,fl,q0,Ec,jd,F0,G0,K0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break e;_=_[j]}c=c[c.length-1],w=_[c],m=m(w),m!=w&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var Y=_++;return{value:m(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}l("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function A(c,m,_){return c.call.apply(c.bind,arguments)}function D(c,m,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function M(c,m,_){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,M.apply(null,arguments)}function Q(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function ee(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,Y){for(var fe=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)fe[nt-2]=arguments[nt];return m.prototype[j].apply(w,fe)}}function he(c){const m=c.length;if(0<m){const _=Array(m);for(let w=0;w<m;w++)_[w]=c[w];return _}return[]}function re(c,m){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(y(w)){const j=c.length||0,Y=w.length||0;c.length=j+Y;for(let fe=0;fe<Y;fe++)c[j+fe]=w[fe]}else c.push(w)}}class Ee{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function be(c){return/^[\s\xa0]*$/.test(c)}function ge(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function Pe(c){return Pe[" "](c),c}Pe[" "]=function(){};var Se=ge().indexOf("Gecko")!=-1&&!(ge().toLowerCase().indexOf("webkit")!=-1&&ge().indexOf("Edge")==-1)&&!(ge().indexOf("Trident")!=-1||ge().indexOf("MSIE")!=-1)&&ge().indexOf("Edge")==-1;function Ae(c,m,_){for(const w in c)m.call(_,c[w],w,c)}function k(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function E(c){const m={};for(const _ in c)m[_]=c[_];return m}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,m){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let Y=0;Y<T.length;Y++)_=T[Y],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function b(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function C(c){g.setTimeout(()=>{throw c},0)}function N(){var c=W;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,_){const w=Ue.get();w.set(m,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Ue=new Ee(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,z=!1,W=new le,x=()=>{const c=g.Promise.resolve(void 0);Z=()=>{c.then(U)}};var U=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){C(_)}var m=Ue;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}z=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return c}();function ae(c,m){if(V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(Se){e:{try{Pe(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}ee(ae,V);var te={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ce=0;function de(c,m,_,w,j){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!w,this.ha=j,this.key=++ce,this.da=this.fa=!1}function De(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,m,_,w,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var fe=Ke(c,m,w,j);return-1<fe?(m=c[fe],_||(m.fa=!1)):(m=new de(m,this.src,Y,!!w,j),m.fa=_,c.push(m)),m};function ue(c,m){var _=m.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,m,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(w,j,1),Y&&(De(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ke(c,m,_,w){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==m&&Y.capture==!!_&&Y.ha==w)return j}return-1}var je="closure_lm_"+(1e6*Math.random()|0),xe={};function Ie(c,m,_,w,j){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)Ie(c,m[Y],_,w,j);return null}return _=bt(_),c&&c[me]?c.K(m,_,p(w)?!!w.capture:!1,j):we(c,m,_,!1,w,j)}function we(c,m,_,w,j,Y){if(!m)throw Error("Invalid event type");var fe=p(j)?!!j.capture:!!j,nt=Qt(c);if(nt||(c[je]=nt=new oe(c)),_=nt.add(m,_,w,fe,Y),_.proxy)return _;if(w=Te(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)K||(j=fe),j===void 0&&(j=!1),c.addEventListener(m.toString(),w,j);else if(c.attachEvent)c.attachEvent(Ge(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Te(){function c(_){return m.call(c.src,c.listener,_)}const m=kt;return c}function _e(c,m,_,w,j){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)_e(c,m[Y],_,w,j);else w=p(w)?!!w.capture:!!w,_=bt(_),c&&c[me]?(c=c.i,m=String(m).toString(),m in c.g&&(Y=c.g[m],_=Ke(Y,_,w,j),-1<_&&(De(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[m],c.h--)))):c&&(c=Qt(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ke(m,_,w,j)),(_=-1<c?m[c]:null)&&Be(_))}function Be(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[me])ue(m.i,c);else{var _=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(_,w,c.capture):m.detachEvent?m.detachEvent(Ge(_),w):m.addListener&&m.removeListener&&m.removeListener(w),(_=Qt(m))?(ue(_,c),_.h==0&&(_.src=null,m[je]=null)):De(c)}}}function Ge(c){return c in xe?xe[c]:xe[c]="on"+c}function kt(c,m){if(c.da)c=!0;else{m=new ae(m,this);var _=c.listener,w=c.ha||c.src;c.fa&&Be(c),c=_.call(w,m)}return c}function Qt(c){return c=c[je],c instanceof oe?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(m){return c.handleEvent(m)}),c[ze])}function Me(){X.call(this),this.i=new oe(this),this.M=this,this.F=null}ee(Me,X),Me.prototype[me]=!0,Me.prototype.removeEventListener=function(c,m,_,w){_e(this,c,m,_,w)};function ke(c,m){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new V(m,c);else if(m instanceof V)m.target=m.target||c;else{var j=m;m=new V(w,c),I(m,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var fe=m.g=_[Y];j=vt(fe,w,!0,m)&&j}if(fe=m.g=c,j=vt(fe,w,!0,m)&&j,j=vt(fe,w,!1,m)&&j,_)for(Y=0;Y<_.length;Y++)fe=m.g=_[Y],j=vt(fe,w,!1,m)&&j}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],w=0;w<_.length;w++)De(_[w]);delete c.g[m],c.h--}}this.F=null},Me.prototype.K=function(c,m,_,w){return this.i.add(String(c),m,!1,_,w)},Me.prototype.L=function(c,m,_,w){return this.i.add(String(c),m,!0,_,w)};function vt(c,m,_,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,Y=0;Y<m.length;++Y){var fe=m[Y];if(fe&&!fe.da&&fe.capture==_){var nt=fe.listener,Ht=fe.ha||fe.src;fe.fa&&ue(c.i,fe),j=nt.call(Ht,w)!==!1&&j}}return j&&!w.defaultPrevented}function At(c,m,_){if(typeof c=="function")_&&(c=M(c,_));else if(c&&typeof c.handleEvent=="function")c=M(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(c,m||0)}function di(c){c.g=At(()=>{c.g=null,c.i&&(c.i=!1,di(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class In extends X{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(c){X.call(this),this.h=c,this.g={}}ee(Ct,X);var cn=[];function Nn(c){Ae(c.g,function(m,_){this.g.hasOwnProperty(_)&&Be(m)},c),c.g={}}Ct.prototype.N=function(){Ct.aa.N.call(this),Nn(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=g.JSON.stringify,Pi=g.JSON.parse,mi=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function gr(){}gr.prototype.h=null;function pr(c){return c.h||(c.h=c.i())}function yr(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){V.call(this,"d")}ee(jn,V);function _r(){V.call(this,"c")}ee(_r,V);var Cn={},vr=null;function ni(){return vr=vr||new Me}Cn.La="serverreachability";function zi(c){V.call(this,Cn.La,c)}ee(zi,V);function ii(c){const m=ni();ke(m,new zi(m))}Cn.STAT_EVENT="statevent";function Bn(c,m){V.call(this,Cn.STAT_EVENT,c),this.stat=m}ee(Bn,V);function yt(c){const m=ni();ke(m,new Bn(m,c))}Cn.Ma="timingevent";function Bt(c,m){V.call(this,Cn.Ma,c),this.size=m}ee(Bt,V);function Vt(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function uo(c,m,_,w,j,Y){c.info(function(){if(c.g)if(Y)for(var fe="",nt=Y.split("&"),Ht=0;Ht<nt.length;Ht++){var it=nt[Ht].split("=");if(1<it.length){var Xt=it[0];it=it[1];var qt=Xt.split("_");fe=2<=qt.length&&qt[1]=="type"?fe+(Xt+"="+it+"&"):fe+(Xt+"=redacted&")}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+m+`
`+_+`
`+fe})}function ph(c,m,_,w,j,Y,fe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+m+`
`+_+`
`+Y+" "+fe})}function Er(c,m,_,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+hs(c,_)+(w?" "+w:"")})}function Hl(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function hs(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var fe=1;fe<j.length;fe++)j[fe]=""}}}}return Tn(_)}catch{return m}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function pi(){}ee(pi,gr),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},gi=new pi;function yn(c,m,_,w){this.j=c,this.i=m,this.l=_,this.R=w||1,this.U=new Ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}var co={},Zs={};function ri(c,m,_){c.L=1,c.v=ps(Dn(m)),c.m=_,c.P=!0,Ui(c,null)}function Ui(c,m){c.F=Date.now(),fs(c),c.A=Dn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),yo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Dt,c.g=ru(c.j,_?m:null,!c.m),0<c.O&&(c.M=new In(M(c.Y,c,c.g),c.O)),m=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(cn[0]=j.toString()),j=cn);for(var Y=0;Y<j.length;Y++){var fe=Ie(_,j[Y],w||m.handleEvent,!1,m.h||m);if(!fe)break;m.g[fe.key]=fe}m=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ii(),uo(c.i,c.u,c.A,c.l,c.R,c.m)}yn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Kn(c)==3?m.j():this.Y(c)},yn.prototype.Y=function(c){try{if(c==this.g)e:{const qt=Kn(this.g);var m=this.g.Ba();const Qi=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||qt!=4||m==7||(m==8||0>=Qi?ii(3):ii(2)),br(this);var _=this.g.Z();this.X=_;t:if(ql(this)){var w=$l(this.g);c="";var j=w.length,Y=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),yi(this);var fe="";break t}this.h.i=new g.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(w[m],{stream:!(Y&&m==j-1)});w.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,ph(this.i,this.u,this.A,this.l,this.R,qt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Ht=this.g;if((nt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!be(nt)){var it=nt;break t}}it=null}if(_=it)Er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,_);else{this.o=!1,this.s=3,yt(12),tn(this),yi(this);break e}}if(this.P){_=!0;let nn;for(;!this.J&&this.C<fe.length;)if(nn=Fl(this,fe),nn==Zs){qt==4&&(this.s=4,yt(14),_=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==co){this.s=4,yt(15),Er(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Er(this.i,this.l,nn,null),ds(this,nn);if(ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||fe.length!=0||this.h.h||(this.s=1,yt(16),_=!1),this.o=this.o&&_,!_)Er(this.i,this.l,fe,"[Invalid Chunked Response]"),tn(this),yi(this);else if(0<fe.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),As(Xt),Xt.M=!0,yt(11))}}else Er(this.i,this.l,fe,null),ds(this,fe);qt==4&&tn(this),this.o&&!this.J&&(qt==4?tu(this.j,this):(this.o=!1,fs(this)))}else Th(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),tn(this),yi(this)}}}catch{}finally{}};function ql(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fl(c,m){var _=c.C,w=m.indexOf(`
`,_);return w==-1?Zs:(_=Number(m.substring(_,w)),isNaN(_)?co:(w+=1,w+_>m.length?Zs:(m=m.slice(w,w+_),c.C=w+_,m)))}yn.prototype.cancel=function(){this.J=!0,tn(this)};function fs(c){c.S=Date.now()+c.I,Gl(c,c.I)}function Gl(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vt(M(c.ba,c),m)}function br(c){c.B&&(g.clearTimeout(c.B),c.B=null)}yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hl(this.i,this.A),this.L!=2&&(ii(),yt(17)),tn(this),this.s=2,yi(this)):Gl(this,this.S-c)};function yi(c){c.j.G==0||c.J||tu(c.j,c)}function tn(c){br(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Nn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ds(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||ho(_.h,c))){if(!c.K&&ho(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ua(_),oa(_);else break e;bo(_),yt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Vt(M(_.Za,_),6e3));if(1>=Js(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ki(_,11)}else if((c.K||_.g==c)&&ua(_),!be(m))for(j=_.Da.g.parse(m),m=0;m<j.length;m++){let it=j[m];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const Xt=it[3];Xt!=null&&(_.la=Xt,_.j.info("VER="+_.la));const qt=it[4];qt!=null&&(_.Aa=qt,_.j.info("SVER="+_.Aa));const Qi=it[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(w=1.5*Qi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const nn=c.g;if(nn){const Ai=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var Y=w.h;Y.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ea(Y,Y.h),Y.h=null))}if(w.D){const Ao=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(w.ya=Ao,ft(w.I,w.D,Ao))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var fe=c;if(w.qa=iu(w,w.J?w.ia:null,w.W),fe.K){_n(w.h,fe);var nt=fe,Ht=w.L;Ht&&(nt.I=Ht),nt.B&&(br(nt),fs(nt)),w.g=fe}else Jl(w);0<_.i.length&&la(_)}else it[0]!="stop"&&it[0]!="close"||Ki(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ki(_,7):Eo(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}ii(4)}catch{}}var Kl=class{constructor(c,m){this.g=c,this.map=m}};function ji(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ws(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Js(c){return c.h?1:c.g?c.g.size:0}function ho(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ea(c,m){c.g?c.g.add(m):c.h=m}function _n(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ji.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return he(c.i)}function yh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var m=[],_=c.length,w=0;w<_;w++)m.push(c[w]);return m}m=[],_=0;for(w in c)m[_++]=c[w];return m}function ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const w in c)m[_++]=w;return m}}}function mo(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=ta(c),w=yh(c),j=w.length,Y=0;Y<j;Y++)m.call(void 0,w[Y],_&&_[Y],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var Y=c[_].substring(0,w);j=c[_].substring(w+1)}else Y=c[_];m(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pt){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.s),this.l=c.l;var m=c.i,_=new Hi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Bi(this,_),this.m=c.m}else c&&(m=String(c).match(ms))?(this.h=!1,gs(this,m[1]||"",!0),this.o=qn(m[2]||""),this.g=qn(m[3]||"",!0),Sr(this,m[4]),this.l=qn(m[5]||"",!0),Bi(this,m[6]||"",!0),this.m=qn(m[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Pt.prototype.toString=function(){var c=[],m=this.j;m&&c.push(ys(m,go,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ys(m,go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ys(_,_.charAt(0)=="/"?vh:po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ys(_,na)),c.join("")};function Dn(c){return new Pt(c)}function gs(c,m,_){c.j=_?qn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Bi(c,m,_){m instanceof Hi?(c.i=m,Yl(c.i,c.h)):(_||(m=ys(m,Eh)),c.i=new Hi(m,c.h))}function ft(c,m,_){c.i.set(m,_)}function ps(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Ql),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ql(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var go=/[#\/\?@]/g,po=/[#\?:]/g,vh=/[#\?]/g,Eh=/[#\?@]/g,na=/#/g;function Hi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&_h(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Hi.prototype,r.add=function(c,m){Fn(this),this.i=null,c=_i(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function qi(c,m){Fn(c),m=_i(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Fi(c,m){return Fn(c),m=_i(c,m),c.g.has(m)}r.forEach=function(c,m){Fn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(m,j,w,this)},this)},this)},r.na=function(){Fn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let w=0;w<m.length;w++){const j=c[w];for(let Y=0;Y<j.length;Y++)_.push(m[w])}return _},r.V=function(c){Fn(this);let m=[];if(typeof c=="string")Fi(this,c)&&(m=m.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return Fn(this),this.i=null,c=_i(this,c),Fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function yo(c,m,_){qi(c,m),0<_.length&&(c.i=null,c.g.set(_i(c,m),he(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var w=m[_];const Y=encodeURIComponent(String(w)),fe=this.V(w);for(w=0;w<fe.length;w++){var j=Y;fe[w]!==""&&(j+="="+encodeURIComponent(String(fe[w]))),c.push(j)}}return this.i=c.join("&")};function _i(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Yl(c,m){m&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(qi(this,w),yo(this,j,_))},c)),c.j=m}function _s(c,m){const _=new Hn;if(g.Image){const w=new Image;w.onload=Q(Gn,_,"TestLoadImage: loaded",!0,m,w),w.onerror=Q(Gn,_,"TestLoadImage: error",!1,m,w),w.onabort=Q(Gn,_,"TestLoadImage: abort",!1,m,w),w.ontimeout=Q(Gn,_,"TestLoadImage: timeout",!1,m,w),g.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function si(c,m){const _=new Hn,w=new AbortController,j=setTimeout(()=>{w.abort(),Gn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(j),Y.ok?Gn(_,"TestPingServer: ok",!0,m):Gn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Gn(_,"TestPingServer: error",!1,m)})}function Gn(c,m,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function vs(){this.g=new mi}function vi(c,m,_){const w=_||"";try{mo(c,function(j,Y){let fe=j;p(j)&&(fe=Tn(j)),m.push(w+Y+"="+encodeURIComponent(fe))})}catch(j){throw m.push(w+"type="+encodeURIComponent("_badmap")),j}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}ee(Ar,gr),Ar.prototype.g=function(){return new Gi(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Gi(c,m){Me.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}ee(Gi,Me),r=Gi.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ei(this):Ti(this),this.readyState==3&&_o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ei(this))},r.Qa=function(c){this.g&&(this.response=c,Ei(this))},r.ga=function(){this.g&&Ei(this)};function Ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ti(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vo(c){let m="";return Ae(c,function(_,w){m+=w,m+=":",m+=_,m+=`\r
`}),m}function Yt(c,m,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=vo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ft(c,m,_))}function lt(c){Me.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}ee(lt,Me);var ia=/^https?$/i,Es=["POST","PUT"];r=lt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?pr(this.o):pr(gi),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(Y){Xl(this,Y);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())_.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Es,m,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of _)this.g.setRequestHeader(Y,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Xl(this,Y)}};function Xl(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,ra(c),bi(c)}function ra(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ke(this,"complete"),ke(this,"abort"),bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),lt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)At(c.Ea,0,c);else if(ke(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var w;if(w=fe===0){var j=String(c.D).match(ms)[1]||null;!j&&g.self&&g.self.location&&(j=g.self.location.protocol.slice(0,-1)),w=!ia.test(j?j.toLowerCase():"")}_=w}if(_)ke(c,"complete"),ke(c,"success");else{c.m=6;try{var Y=2<Kn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ra(c)}}finally{bi(c)}}}}function bi(c,m){if(c.g){Ts(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ke(c,"ready");try{_.onreadystatechange=w}catch{}}}function Ts(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Pi(m)}};function $l(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(c){const m={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(be(c[w]))continue;var _=b(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=m[j]||[];m[j]=Y,Y.push(_)}k(m,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function aa(c){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,w){yt(0),this.W=c,this.H=m||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=iu(this,null,this.W),la(this)};function Eo(c){if(Zl(c),c.G==3){var m=c.U++,_=Dn(c.I);if(ft(_,"SID",c.K),ft(_,"RID",m),ft(_,"TYPE","terminate"),Ss(c,_),m=new yn(c,c.j,m),m.L=2,m.v=ps(Dn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),fs(m)}nu(c)}function oa(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function Zl(c){oa(c),c.u&&(g.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function la(c){if(!Ws(c.h)&&!c.s){c.s=!0;var m=c.Ga;Z||x(),z||(Z(),z=!0),W.add(m,c),c.B=0}}function bh(c,m){return Js(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vt(M(c.Ga,c,m),So(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new yn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=E(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Wl(this,j,m),_=Dn(this.I),ft(_,"RID",c),ft(_,"CVER",22),this.D&&ft(_,"X-HTTP-Session-Id",this.D),Ss(this,_),Y&&(this.O?m="headers="+encodeURIComponent(String(vo(Y)))+"&"+m:this.m&&Yt(_,this.m,Y)),ea(this.h,j),this.Ua&&ft(_,"TYPE","init"),this.P?(ft(_,"$req",m),ft(_,"SID","null"),j.T=!0,ri(j,_,null)):ri(j,_,m),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||Ws(this.h)||To(this))};function To(c,m){var _;m?_=m.l:_=c.U++;const w=Dn(c.I);ft(w,"SID",c.K),ft(w,"RID",_),ft(w,"AID",c.T),Ss(c,w),c.m&&c.o&&Yt(w,c.m,c.o),_=new yn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Wl(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ea(c.h,_),ri(_,w,m)}function Ss(c,m){c.H&&Ae(c.H,function(_,w){ft(m,w,_)}),c.l&&mo({},function(_,w){ft(m,w,_)})}function Wl(c,m,_){_=Math.min(c.i.length,_);var w=c.l?M(c.l.Na,c.l,c):null;e:{var j=c.i;let Y=-1;for(;;){const fe=["count="+_];Y==-1?0<_?(Y=j[0].g,fe.push("ofs="+Y)):Y=0:fe.push("ofs="+Y);let nt=!0;for(let Ht=0;Ht<_;Ht++){let it=j[Ht].g;const Xt=j[Ht].map;if(it-=Y,0>it)Y=Math.max(0,j[Ht].g-100),nt=!1;else try{vi(Xt,fe,"req"+it+"_")}catch{w&&w(Xt)}}if(nt){w=fe.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,w}function Jl(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Z||x(),z||(Z(),z=!0),W.add(m,c),c.v=0}}function bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vt(M(c.Fa,c),So(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vt(M(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),oa(this),eu(this))};function As(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function eu(c){c.g=new yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Dn(c.qa);ft(m,"RID","rpc"),ft(m,"SID",c.K),ft(m,"AID",c.T),ft(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(m,"TO",c.ja),ft(m,"TYPE","xmlhttp"),Ss(c,m),c.m&&c.o&&Yt(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(Dn(m)),_.m=null,_.P=!0,Ui(_,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),bo(this),yt(19))};function ua(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function tu(c,m){var _=null;if(c.g==m){ua(c),As(c),c.g=null;var w=2}else if(ho(c.h,m))_=m.D,_n(c.h,m),w=1;else return;if(c.G!=0){if(m.o)if(w==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;w=ni(),ke(w,new Bt(w,_)),la(c)}else Jl(c);else if(j=m.s,j==3||j==0&&0<m.X||!(w==1&&bh(c,m)||w==2&&bo(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),j){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function So(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Ki(c,m){if(c.j.info("Error code "+m),m==2){var _=M(c.fb,c),w=c.Xa;const j=!w;w=new Pt(w||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||gs(w,"https"),ps(w),j?_s(w.toString(),_):si(w.toString(),_)}else yt(2);c.G=0,c.l&&c.l.sa(m),nu(c),Zl(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function nu(c){if(c.G=0,c.ka=[],c.l){const m=fo(c.h);(m.length!=0||c.i.length!=0)&&(re(c.ka,m),re(c.ka,c.i),c.h.i.length=0,he(c.i),c.i.length=0),c.l.ra()}}function iu(c,m,_){var w=_ instanceof Pt?Dn(_):new Pt(_);if(w.g!="")m&&(w.g=m+"."+w.g),Sr(w,w.s);else{var j=g.location;w=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var Y=new Pt(null);w&&gs(Y,w),m&&(Y.g=m),j&&Sr(Y,j),_&&(Y.l=_),w=Y}return _=c.D,m=c.ya,_&&m&&ft(w,_,m),ft(w,"VER",c.la),Ss(c,w),w}function ru(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new lt(new Ar({eb:_})):new lt(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,m){return new vn(c,m)};function vn(c,m){Me.call(this),this.g=new aa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!be(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!be(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Si(this)}ee(vn,Me),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Eo(this.g)},vn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Tn(c),c=_);m.i.push(new Kl(m.Ya++,c)),m.G==3&&la(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,vn.aa.N.call(this)};function au(c){jn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}ee(au,jn);function ou(){_r.call(this),this.status=1}ee(ou,_r);function Si(c){this.g=c}ee(Si,su),Si.prototype.ua=function(){ke(this.g,"a")},Si.prototype.ta=function(c){ke(this.g,new au(c))},Si.prototype.sa=function(c){ke(this.g,new ou)},Si.prototype.ra=function(){ke(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,K0=function(){return new ca},G0=function(){return ni()},F0=Cn,jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Ec=Tr,Li.COMPLETE="complete",q0=Li,yr.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",Me.prototype.listen=Me.prototype.K,fl=yr,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,H0=lt}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const X_="@firebase/firestore",$_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new sm("@firebase/firestore");function Ua(){return Qs.logLevel}function pe(r,...e){if(Qs.logLevel<=et.DEBUG){const n=e.map(vm);Qs.debug(`Firestore (${ro}): ${r}`,...n)}}function fr(r,...e){if(Qs.logLevel<=et.ERROR){const n=e.map(vm);Qs.error(`Firestore (${ro}): ${r}`,...n)}}function Xa(r,...e){if(Qs.logLevel<=et.WARN){const n=e.map(vm);Qs.warn(`Firestore (${ro}): ${r}`,...n)}}function vm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Q0(r,s,n)}function Q0(r,e,n){let s=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function ut(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||Q0(e,l,s)}function Fe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class jw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bw{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new Y0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class Hw{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qw{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Hw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Gw(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function $e(r,e){return r<e?-1:r>e?1:0}function Bd(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),l=e.codePointAt(n);if(s!==l){if(s<128&&l<128)return $e(s,l);{const u=X0(),d=Kw(u.encode(W_(r,n)),u.encode(W_(e,n)));return d!==0?d:$e(s,l)}}n+=s>65535?2:1}return $e(r.length,e.length)}function W_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Kw(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return $e(r[n],e[n]);return $e(r.length,e.length)}function $a(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-62135596800,ev=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ev);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J_)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new pt(0,0))}static max(){return new qe(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Di.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return $e(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),l=Di.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Bd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class Tt extends Di{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const Qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Di{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return Qw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new ln([tv])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Tt.fromString(e))}static fromName(e){return new Ne(Tt.fromString(e).popFirst(5))}static empty(){return new Ne(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function Yw(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=qe.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new is(l,Ne.empty(),e)}function Xw(r){return new is(r.readTime,r.key,Sl)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(qe.min(),Ne.empty(),Sl)}static max(){return new is(qe.max(),Ne.empty(),Sl)}}function $w(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(r.documentKey,e.documentKey),n!==0?n:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==Zw)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let l=0,u=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++u,d&&u===l&&n()},y=>s(y))}),d=!0,u===l&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(l=>l?ie.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next(A=>{d[p]=A,++g,g===u&&s(d)},A=>l(A))}})}static doWhile(e,n){return new ie((s,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):s()};u()})}}function Jw(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=-1;function eh(r){return r==null}function Pc(r){return r===0&&1/r==-1/0}function eR(r){return typeof r=="number"&&Number.isInteger(r)&&!Pc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="";function tR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=nv(e)),e=nR(r.get(n),e);return nv(e)}function nR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case Z0:n+="";break;default:n+=u}}return n}function nv(r){return r+Z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function us(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function W0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??on.RED,this.left=l??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new on(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(e){return new rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Kt(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new J0("Invalid base64 string: "+u):u}}(e);return new un(n)}static fromUint8Array(e){const n=function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(ut(!!r,39018),typeof r=="string"){let e=0;const n=iR.exec(r);if(ut(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(r.seconds),nanos:Mt(r.nanos)}}function Mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="server_timestamp",tE="__type__",nE="__previous_value__",iE="__local_write_time__";function Tm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tE])===null||n===void 0?void 0:n.stringValue)===eE}function th(r){const e=r.mapValue.fields[nE];return Tm(e)?th(e):e}function Al(r){const e=rs(r.mapValue.fields[iE].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,s,l,u,d,g,y,p,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=A}}const zc="(default)";class wl{constructor(e,n){this.projectId=e,this.database=n||zc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===zc}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__type__",sR="__max__",hc={mapValue:{}},sE="__vector__",Lc="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tm(r)?4:oR(r)?9007199254740991:aR(r)?10:11:Ve(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=as(r);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Al(r).isEqual(Al(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=rs(l.timestampValue),g=rs(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,u){return ss(l.bytesValue).isEqual(ss(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,u){return Mt(l.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(l.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)}(r,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Mt(l.integerValue)===Mt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Mt(l.doubleValue),g=Mt(u.doubleValue);return d===g?Pc(d)===Pc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return $a(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(iv(d)!==iv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Vi(d[y],g[y])))return!1;return!0}(r,e);default:return Ve(52216,{left:r})}}function Rl(r,e){return(r.values||[]).find(n=>Vi(n,e))!==void 0}function Za(r,e){if(r===e)return 0;const n=as(r),s=as(e);if(n!==s)return $e(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return function(u,d){const g=Mt(u.integerValue||u.doubleValue),y=Mt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,e);case 3:return sv(r.timestampValue,e.timestampValue);case 4:return sv(Al(r),Al(e));case 5:return Bd(r.stringValue,e.stringValue);case 6:return function(u,d){const g=ss(u),y=ss(d);return g.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const A=$e(g[p],y[p]);if(A!==0)return A}return $e(g.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const g=$e(Mt(u.latitude),Mt(d.latitude));return g!==0?g:$e(Mt(u.longitude),Mt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return av(r.arrayValue,e.arrayValue);case 10:return function(u,d){var g,y,p,A;const D=u.fields||{},M=d.fields||{},Q=(g=D[Lc])===null||g===void 0?void 0:g.arrayValue,ee=(y=M[Lc])===null||y===void 0?void 0:y.arrayValue,he=$e(((p=Q==null?void 0:Q.values)===null||p===void 0?void 0:p.length)||0,((A=ee==null?void 0:ee.values)===null||A===void 0?void 0:A.length)||0);return he!==0?he:av(Q,ee)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===hc.mapValue&&d===hc.mapValue)return 0;if(u===hc.mapValue)return 1;if(d===hc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},A=Object.keys(p);y.sort(),A.sort();for(let D=0;D<y.length&&D<A.length;++D){const M=Bd(y[D],A[D]);if(M!==0)return M;const Q=Za(g[y[D]],p[A[D]]);if(Q!==0)return Q}return $e(y.length,A.length)}(r.mapValue,e.mapValue);default:throw Ve(23264,{Pe:n})}}function sv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const n=rs(r),s=rs(e),l=$e(n.seconds,s.seconds);return l!==0?l:$e(n.nanos,s.nanos)}function av(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Za(n[l],s[l]);if(u)return u}return $e(n.length,s.length)}function Wa(r){return Hd(r)}function Hd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ss(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ne.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Hd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${Hd(n.fields[d])}`;return l+"}"}(r.mapValue):Ve(61005,{value:r})}function Tc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=th(r);return e?16+Tc(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+Tc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return us(s.fields,(u,d)=>{l+=u.length+Tc(d)}),l}(r.mapValue);default:throw Ve(13486,{value:r})}}function ov(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qd(r){return!!r&&"integerValue"in r}function bm(r){return!!r&&"arrayValue"in r}function lv(r){return!!r&&"nullValue"in r}function uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function aR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[rE])===null||n===void 0?void 0:n.stringValue)===sE}function yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=yl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function oR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(n)}setAll(e){let n=ln.emptyPath(),s={},l=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=yl(d):l.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){us(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new Rn(yl(this.value))}}function aE(r){const e=[];return us(r.fields,(n,s)=>{const l=new ln([n]);if(bc(s)){const u=aE(s.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,s,l,u,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new gn(e,0,qe.min(),qe.min(),qe.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,l){return new gn(e,1,n,qe.min(),s,l,0)}static newNoDocument(e,n){return new gn(e,2,n,qe.min(),qe.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,qe.min(),qe.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.position=e,this.inclusive=n}}function cv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?s=Ne.comparator(Ne.fromName(d.referenceValue),n.key):s=Za(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function hv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function lR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class jt extends oE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cR(e,n,s):n==="array-contains"?new dR(e,s):n==="in"?new mR(e,s):n==="not-in"?new gR(e,s):n==="array-contains-any"?new pR(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hR(e,s):new fR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Za(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends oE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new fi(e,n)}matches(e){return lE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lE(r){return r.op==="and"}function uE(r){return uR(r)&&lE(r)}function uR(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function Fd(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(uE(r))return r.filters.map(e=>Fd(e)).join(",");{const e=r.filters.map(n=>Fd(n)).join(",");return`${r.op}(${e})`}}function cE(r,e){return r instanceof jt?function(s,l){return l instanceof jt&&s.op===l.op&&s.field.isEqual(l.field)&&Vi(s.value,l.value)}(r,e):r instanceof fi?function(s,l){return l instanceof fi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,d,g)=>u&&cE(d,l.filters[g]),!0):!1}(r,e):void Ve(19439)}function hE(r){return r instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(hE).join(" ,")+"}"}(r):"Filter"}class cR extends jt{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class hR extends jt{constructor(e,n){super(e,"in",n),this.keys=fE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fR extends jt{constructor(e,n){super(e,"not-in",n),this.keys=fE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ne.fromName(s.referenceValue))}class dR extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bm(n)&&Rl(n.arrayValue,this.value)}}class mR extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class gR extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rl(this.value.arrayValue,n)}}class pR extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Rl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n=null,s=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Ie=null}}function fv(r,e=null,n=[],s=[],l=null,u=null,d=null){return new yR(r,e,n,s,l,u,d)}function Sm(r){const e=Fe(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Fd(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Wa(s)).join(",")),e.Ie=n}return e.Ie}function Am(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!lR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!hv(r.startAt,e.startAt)&&hv(r.endAt,e.endAt)}function Gd(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n=null,s=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _R(r,e,n,s,l,u,d,g){return new Pl(r,e,n,s,l,u,d,g)}function dE(r){return new Pl(r)}function dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mE(r){return r.collectionGroup!==null}function _l(r){const e=Fe(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Kt(ln.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new jc(u,s))}),n.has(ln.keyField().canonicalString())||e.Ee.push(new jc(ln.keyField(),s))}return e.Ee}function Oi(r){const e=Fe(r);return e.de||(e.de=vR(e,_l(r))),e.de}function vR(r,e){if(r.limitType==="F")return fv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new jc(l.field,u)});const n=r.endAt?new Uc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uc(r.startAt.position,r.startAt.inclusive):null;return fv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Kd(r,e){const n=r.filters.concat([e]);return new Pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qd(r,e,n){return new Pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nh(r,e){return Am(Oi(r),Oi(e))&&r.limitType===e.limitType}function gE(r){return`${Sm(Oi(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>hE(l)).join(", ")}]`),eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Wa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Wa(l)).join(",")),`Target(${s})`}(Oi(r))}; limitType=${r.limitType})`}function ih(r,e){return e.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ne.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,l){for(const u of _l(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(d,g,y){const p=cv(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,_l(s),l)||s.endAt&&!function(d,g,y){const p=cv(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,_l(s),l))}(r,e)}function ER(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pE(r){return(e,n)=>{let s=!1;for(const l of _l(r)){const u=TR(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function TR(r,e,n){const s=r.field.isKeyField()?Ne.comparator(e.key,n.key):function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?Za(y,p):Ve(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Rt(Ne.comparator);function dr(){return bR}const yE=new Rt(Ne.comparator);function dl(...r){let e=yE;for(const n of r)e=e.insert(n.key,n);return e}function _E(r){let e=yE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Hs(){return vl()}function vE(){return vl()}function vl(){return new Xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const SR=new Rt(Ne.comparator),AR=new Kt(Ne.comparator);function tt(...r){let e=AR;for(const n of r)e=e.add(n);return e}const wR=new Kt($e);function RR(){return wR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function EE(r){return{integerValue:""+r}}function IR(r,e){return eR(e)?EE(e):wm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function NR(r,e,n){return r instanceof Bc?function(l,u){const d={fields:{[tE]:{stringValue:eE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Tm(u)&&(u=th(u)),u&&(d.fields[nE]=u),{mapValue:d}}(n,e):r instanceof Il?bE(r,e):r instanceof Nl?SE(r,e):function(l,u){const d=TE(l,u),g=mv(d)+mv(l.Re);return qd(d)&&qd(l.Re)?EE(g):wm(l.serializer,g)}(r,e)}function CR(r,e,n){return r instanceof Il?bE(r,e):r instanceof Nl?SE(r,e):n}function TE(r,e){return r instanceof Hc?function(s){return qd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Bc extends rh{}class Il extends rh{constructor(e){super(),this.elements=e}}function bE(r,e){const n=AE(e);for(const s of r.elements)n.some(l=>Vi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Nl extends rh{constructor(e){super(),this.elements=e}}function SE(r,e){let n=AE(e);for(const s of r.elements)n=n.filter(l=>!Vi(l,s));return{arrayValue:{values:n}}}class Hc extends rh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function mv(r){return Mt(r.integerValue||r.doubleValue)}function AE(r){return bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DR(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof Il&&l instanceof Il||s instanceof Nl&&l instanceof Nl?$a(s.elements,l.elements,Vi):s instanceof Hc&&l instanceof Hc?Vi(s.Re,l.Re):s instanceof Bc&&l instanceof Bc}(r.transform,e.transform)}class xR{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class sh{}function wE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rm(r.key,ei.none()):new zl(r.key,r.data,ei.none());{const n=r.data,s=Rn.empty();let l=new Kt(ln.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new cs(r.key,s,new Ln(l.toArray()),ei.none())}}function OR(r,e,n){r instanceof zl?function(l,u,d){const g=l.value.clone(),y=pv(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,n):r instanceof cs?function(l,u,d){if(!Sc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=pv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(RE(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,n):function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function El(r,e,n,s){return r instanceof zl?function(u,d,g,y){if(!Sc(u.precondition,d))return g;const p=u.value.clone(),A=yv(u.fieldTransforms,y,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(r,e,n,s):r instanceof cs?function(u,d,g,y){if(!Sc(u.precondition,d))return g;const p=yv(u.fieldTransforms,y,d),A=d.data;return A.setAll(RE(u)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(D=>D.field))}(r,e,n,s):function(u,d,g){return Sc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,n)}function MR(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=TE(s.transform,l||null);u!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,u))}return n||null}function gv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&$a(s,l,(u,d)=>DR(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zl extends sh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cs extends sh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function RE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function pv(r,e,n){const s=new Map;ut(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);s.set(u.field,CR(d,g,n[l]))}return s}function yv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,NR(u,d,e))}return s}class Rm extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&OR(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=El(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=El(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vE();return this.mutations.forEach(l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=wE(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(qe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,s)=>gv(n,s))&&$a(this.baseMutations,e.baseMutations,(n,s)=>gv(n,s))}}class Im{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){ut(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let l=function(){return SR}();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Im(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,st;function LR(r){switch(r){case se.OK:return Ve(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ve(15467,{code:r})}}function IE(r){if(r===void 0)return fr("GRPC error has no .code"),se.UNKNOWN;switch(r){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return Ve(39323,{code:r})}}(st=Ut||(Ut={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new es([4294967295,4294967295],0);function _v(r){const e=X0().encode(r),n=new B0;return n.update(e),new Uint8Array(n.digest())}function vv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([l,u],0)]}class Nm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(s<0)throw new ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=es.fromNumber(this.pe)}we(e,n,s){let l=e.add(n.multiply(es.fromNumber(s)));return l.compare(UR)===1&&(l=new es([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=_v(e),[s,l]=vv(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,l,u);if(!this.be(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Nm(u,l,n);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const n=_v(e),[s,l]=vv(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ah(qe.min(),l,new Rt($e),dr(),tt())}}class Ll{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ll(s,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,s,l){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=l}}class NE{constructor(e,n){this.targetId=e,this.Ce=n}}class CE{constructor(e,n,s=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Ev{constructor(){this.Fe=0,this.Me=Tv(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),n=tt(),s=tt();return this.Me.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Ve(38017,{changeType:u})}}),new Ll(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Tv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ut(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jR{constructor(e){this.ze=e,this.je=new Map,this.He=dr(),this.Je=fc(),this.Ye=fc(),this.Ze=new Rt($e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(e){const n=e.targetId,s=e.Ce.count,l=this._t(n);if(l){const u=l.target;if(Gd(u))if(s===0){const d=new Ne(u.path);this.tt(n,d,gn.newNoDocument(d,qe.min()))}else ut(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(e),y=g?this.lt(g,e,d):1;if(y!==0){this.st(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ss(s).toUint8Array()}catch(y){if(y instanceof J0)return Xa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Nm(d,l,u)}catch(y){return Xa(y instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.pe===0?null:g}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(u=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.tt(n,u,null),l++)}),l}It(e){const n=new Map;this.je.forEach((u,d)=>{const g=this._t(d);if(g){if(u.current&&Gd(g.target)){const y=new Ne(g.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,gn.newNoDocument(y,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let s=tt();this.Ye.forEach((u,d)=>{let g=!0;d.forEachWhile(y=>{const p=this._t(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const l=new ah(e,n,this.Ze,this.He,s);return this.He=dr(),this.Je=fc(),this.Ye=fc(),this.Ze=new Rt($e),l}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const l=this.rt(e);this.dt(e,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ev,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Kt($e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Kt($e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ev),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function fc(){return new Rt(Ne.comparator)}function Tv(){return new Rt(Ne.comparator)}const BR={asc:"ASCENDING",desc:"DESCENDING"},HR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qR={and:"AND",or:"OR"};class FR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yd(r,e){return r.useProto3Json||eh(e)?e:{value:e}}function qc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GR(r,e){return qc(r,e.toTimestamp())}function Mi(r){return ut(!!r,49232),qe.fromTimestamp(function(n){const s=rs(n);return new pt(s.seconds,s.nanos)}(r))}function Cm(r,e){return Xd(r,e).canonicalString()}function Xd(r,e){const n=function(l){return new Tt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function xE(r){const e=Tt.fromString(r);return ut(PE(e),10190,{key:e.toString()}),e}function $d(r,e){return Cm(r.databaseId,e.path)}function Id(r,e){const n=xE(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ne(ME(n))}function OE(r,e){return Cm(r.databaseId,e)}function KR(r){const e=xE(r);return e.length===4?Tt.emptyPath():ME(e)}function Zd(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ME(r){return ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bv(r,e,n){return{name:$d(r,e),fields:n.value.mapValue.fields}}function QR(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(p,A){return p.useProto3Json?(ut(A===void 0||typeof A=="string",58123),un.fromBase64String(A||"")):(ut(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),un.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const A=p.code===void 0?se.UNKNOWN:IE(p.code);return new ye(A,p.message||"")}(d);n=new CE(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Id(r,s.document.name),u=Mi(s.document.updateTime),d=s.document.createTime?Mi(s.document.createTime):qe.min(),g=new Rn({mapValue:{fields:s.document.fields}}),y=gn.newFoundDocument(l,u,d,g),p=s.targetIds||[],A=s.removedTargetIds||[];n=new Ac(p,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Id(r,s.document),u=s.readTime?Mi(s.readTime):qe.min(),d=gn.newNoDocument(l,u),g=s.removedTargetIds||[];n=new Ac([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Id(r,s.document),u=s.removedTargetIds||[];n=new Ac([],u,l,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new zR(l,u),g=s.targetId;n=new NE(g,d)}}return n}function YR(r,e){let n;if(e instanceof zl)n={update:bv(r,e.key,e.value)};else if(e instanceof Rm)n={delete:$d(r,e.key)};else if(e instanceof cs)n={update:bv(r,e.key,e.data),updateMask:iI(e.fieldMask)};else{if(!(e instanceof kR))return Ve(16599,{ft:e.type});n={verify:$d(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const g=d.transform;if(g instanceof Bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Nl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Hc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw Ve(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:GR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve(27497)}(r,e.precondition)),n}function XR(r,e){return r&&r.length>0?(ut(e!==void 0,14353),r.map(n=>function(l,u){let d=l.updateTime?Mi(l.updateTime):Mi(u);return d.isEqual(qe.min())&&(d=Mi(u)),new xR(d,l.transformResults||[])}(n,e))):[]}function $R(r,e){return{documents:[OE(r,e.path)]}}function ZR(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=OE(r,l);const u=function(p){if(p.length!==0)return VE(fi.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(p){if(p.length!==0)return p.map(A=>function(M){return{field:Ba(M.field),direction:eI(M.dir)}}(A))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Yd(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:l}}function WR(r){let e=KR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){ut(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=function(D){const M=kE(D);return M instanceof fi&&uE(M)?M.getFilters():[M]}(n.where));let d=[];n.orderBy&&(d=function(D){return D.map(M=>function(ee){return new jc(Ha(ee.field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ee.direction))}(M))}(n.orderBy));let g=null;n.limit&&(g=function(D){let M;return M=typeof D=="object"?D.value:D,eh(M)?null:M}(n.limit));let y=null;n.startAt&&(y=function(D){const M=!!D.before,Q=D.values||[];return new Uc(Q,M)}(n.startAt));let p=null;return n.endAt&&(p=function(D){const M=!D.before,Q=D.values||[];return new Uc(Q,M)}(n.endAt)),_R(e,l,d,u,g,"F",y,p)}function JR(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:l})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(n.unaryFilter.field);return jt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(n.unaryFilter.field);return jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(r):r.fieldFilter!==void 0?function(n){return jt.create(Ha(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>kE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(r):Ve(30097,{filter:r})}function eI(r){return BR[r]}function tI(r){return HR[r]}function nI(r){return qR[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function Ha(r){return ln.fromServerFormat(r.fieldPath)}function VE(r){return r instanceof jt?function(n){if(n.op==="=="){if(uv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:tI(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(l=>VE(l));return s.length===1?s[0]:{compositeFilter:{op:nI(n.op),filters:s}}}(r):Ve(54877,{filter:r})}function iI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,s,l,u=qe.min(),d=qe.min(),g=un.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.wt=e}}function sI(r){const e=WR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.Cn=new oI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(is.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class oI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Kt(Tt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Kt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(zE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ja(0)}static lr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",lI=1048576;function wv([r,e],[n,s]){const l=$e(r,n);return l===0?$e(e,s):l}class uI{constructor(e){this.Er=e,this.buffer=new Kt(wv),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(Av,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?pe(Av,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.mr(3e5)})}}class hI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Jc.le);const s=new uI(n);return this.gr.forEachTarget(e,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(e,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Sv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,l,u,d,g,y,p;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),l=this.params.maximumSequenceNumbersToCollect):l=D,d=Date.now(),this.nthSequenceNumber(e,l))).next(D=>(s=D,g=Date.now(),this.removeTargets(e,s,n))).next(D=>(u=D,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(p=Date.now(),Ua()<=et.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${D} documents in `+(p-y)+`ms
Total Duration: ${p-A}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:D})))}}function fI(r,e){return new hI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(s!==null&&El(s.mutation,l,Ln.empty(),pt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,tt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=tt()){const l=Hs();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let d=dl();return u.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=Hs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,tt()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,s,l){let u=dr();const d=vl(),g=function(){return vl()}();return n.forEach((y,p)=>{const A=s.get(p.key);l.has(p.key)&&(A===void 0||A.mutation instanceof cs)?u=u.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),El(A.mutation,p,A.mutation.getFieldMask(),pt.now())):d.set(p.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((p,A)=>d.set(p,A)),n.forEach((p,A)=>{var D;return g.set(p,new mI(A,(D=d.get(p))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(e,n){const s=vl();let l=new Rt((d,g)=>d-g),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=n.get(y);if(p===null)return;let A=s.get(y)||Ln.empty();A=g.applyToLocalView(p,A),s.set(y,A);const D=(l.get(g.batchId)||tt()).add(y);l=l.insert(g.batchId,D)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,A=y.value,D=vE();A.forEach(M=>{if(!u.has(M)){const Q=wE(n.get(M),s.get(M));Q!==null&&D.set(M,Q),u=u.add(M)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,D))}return ie.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return function(d){return Ne.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):ie.resolve(Hs());let g=Sl,y=u;return d.next(p=>ie.forEach(p,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),u.get(A)?ie.resolve():this.remoteDocumentCache.getEntry(e,A).next(M=>{y=y.insert(A,M)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,y,p,tt())).next(A=>({batchId:g,changes:_E(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(s=>{let l=dl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let d=dl();return this.indexManager.getCollectionParents(e,u).next(g=>ie.forEach(g,y=>{const p=function(D,M){return new Pl(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,l).next(A=>{A.forEach((D,M)=>{d=d.insert(D,M)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l))).next(d=>{u.forEach((y,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,gn.newInvalidDocument(A)))});let g=dl();return d.forEach((y,p)=>{const A=u.get(y);A!==void 0&&El(A.mutation,p,Ln.empty(),pt.now()),ih(n,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(l){return{name:l.name,query:sI(l.bundledQuery),readTime:Mi(l.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.overlays=new Rt(Ne.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hs();return ie.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.St(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const l=Hs(),u=n.length+1,d=new Ne(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&l.set(y.getKey(),y)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new Rt((p,A)=>p-A);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let A=u.get(p.largestBatchId);A===null&&(A=Hs(),u=u.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=Hs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,A)=>g.set(p,A)),!(g.size()>=l)););return ie.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new PR(n,s));let u=this.Qr.get(n);u===void 0&&(u=tt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.$r=new Kt(Jt.Ur),this.Kr=new Kt(Jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Jt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ne(new Tt([])),s=new Jt(n,e),l=new Jt(n,e+1),u=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ne(new Tt([])),s=new Jt(n,e),l=new Jt(n,e+1);let u=tt();return this.Kr.forEachInRange([s,l],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Jt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ne.comparator(e.key,n.key)||$e(e.Zr,n.Zr)}static Wr(e,n){return $e(e.Zr,n.Zr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(Jt.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VR(u,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Jt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ti(s),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Em:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),l=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,l],d=>{const g=this.ei(d.Zr);u.push(g)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt($e);return n.forEach(l=>{const u=new Jt(l,0),d=new Jt(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],g=>{s=s.add(g.Zr)})}),ie.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;Ne.isDocumentKey(u)||(u=u.child(""));const d=new Jt(new Ne(u),0);let g=new Kt($e);return this.Xr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Zr)),!0)},d),ie.resolve(this.ni(g))}ni(e){const n=[];return e.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){ut(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ie.forEach(n.mutations,l=>{const u=new Jt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Jt(n,0),l=this.Xr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.ii=e,this.docs=function(){return new Rt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():gn.newInvalidDocument(l))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=dr();const d=n.path,g=new Ne(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:A}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||$w(Xw(A),s)<=0||(l.has(A.key)||ih(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Ve(9500)}si(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new TI(this)}getSize(e){return ie.resolve(this.size)}}class TI extends dI{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(e,l)):this.Br.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.persistence=e,this.oi=new Xs(n=>Sm(n),Am),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this._i=0,this.ai=new Dm,this.targetCount=0,this.ui=Ja.cr()}forEachTarget(e,n){return this.oi.forEach((s,l)=>n(l)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),ie.waitFor(u).next(()=>l)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(d=>{u.push(l.markPotentiallyOrphaned(e,d))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.ci={},this.overlays={},this.li=new Jc(0),this.hi=!1,this.hi=!0,this.Pi=new _I,this.referenceDelegate=e(this),this.Ti=new bI(this),this.indexManager=new aI,this.remoteDocumentCache=function(l){return new EI(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new rI(n),this.Ei=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new vI(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const l=new SI(this.li.next());return this.referenceDelegate.di(),s(l).next(u=>this.referenceDelegate.Ai(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ri(e,n){return ie.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class SI extends Ww{constructor(e){super(),this.currentSequenceNumber=e}}class xm{constructor(e){this.persistence=e,this.Vi=new Dm,this.mi=null}static fi(e){return new xm(e)}get gi(){if(this.mi)return this.mi;throw Ve(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,s=>{const l=Ne.fromPath(s);return this.pi(e,l).next(u=>{u||n.removeEntry(l,qe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Fc{constructor(e,n){this.persistence=e,this.yi=new Xs(s=>tR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=fI(this,n)}static fi(e,n){return new Fc(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(s,l)=>this.Dr(e,s,l).next(u=>u?ie.resolve():n(l)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.si(e,d=>this.Dr(e,d,n).next(g=>{g||(s++,u.removeEntry(d,qe.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tc(e.data.value)),n}Dr(e,n,s){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.yi.get(n);return ie.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.ds=s,this.As=l}static Rs(e,n){let s=tt(),l=tt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Om(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _S()?8:Jw(pn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,l,s).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new AI;return this.Ss(e,n,d).next(g=>{if(u.result=g,this.fs)return this.Ds(e,n,d,g.size)})}).next(()=>u.result)}Ds(e,n,s,l){return s.documentReadCount<this.gs?(Ua()<=et.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(Ua()<=et.DEBUG&&pe("QueryEngine","Query:",ja(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(Ua()<=et.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):ie.resolve())}ws(e,n){if(dv(n))return ie.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Qd(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const d=tt(...u);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.vs(n,g);return this.Cs(n,p,d,y.readTime)?this.ws(e,Qd(n,null,"F")):this.Fs(e,p,n,y)}))})))}bs(e,n,s,l){return dv(n)||l.isEqual(qe.min())?ie.resolve(null):this.ys.getDocuments(e,s).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,s,l)?ie.resolve(null):(Ua()<=et.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(n)),this.Fs(e,d,n,Yw(l,Sl)).next(g=>g))})}vs(e,n){let s=new Kt(pE(e));return n.forEach((l,u)=>{ih(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return Ua()<=et.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ys.getDocumentsMatchingQuery(e,n,is.min(),s)}Fs(e,n,s,l){return this.ys.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="LocalStore",RI=3e8;class II{constructor(e,n,s,l){this.persistence=e,this.Ms=n,this.serializer=l,this.xs=new Rt($e),this.Os=new Xs(u=>Sm(u),Am),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function NI(r,e,n,s){return new II(r,e,n,s)}async function UE(r,e){const n=Fe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const d=[],g=[];let y=tt();for(const p of l){d.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}for(const p of u){g.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(s,y).next(p=>({ks:p,removedBatchIds:d,addedBatchIds:g}))})})}function CI(r,e){const n=Fe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,y,p,A){const D=p.batch,M=D.keys();let Q=ie.resolve();return M.forEach(ee=>{Q=Q.next(()=>A.getEntry(y,ee)).next(he=>{const re=p.docVersions.get(ee);ut(re!==null,48541),he.version.compareTo(re)<0&&(D.applyToRemoteDocument(he,p),he.isValidDocument()&&(he.setReadTime(p.commitVersion),A.addEntry(he)))})}),Q.next(()=>g.mutationQueue.removeMutationBatch(y,D))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=tt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}function jE(r){const e=Fe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function DI(r,e){const n=Fe(r),s=e.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];e.targetChanges.forEach((A,D)=>{const M=l.get(D);if(!M)return;g.push(n.Ti.removeMatchingKeys(u,A.removedDocuments,D).next(()=>n.Ti.addMatchingKeys(u,A.addedDocuments,D)));let Q=M.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(D)!==null?Q=Q.withResumeToken(un.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),l=l.insert(D,Q),function(he,re,Ee){return he.resumeToken.approximateByteSize()===0||re.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=RI?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0}(M,Q,A)&&g.push(n.Ti.updateTargetData(u,Q))});let y=dr(),p=tt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))}),g.push(xI(u,d,e.documentUpdates).next(A=>{y=A.qs,p=A.Qs})),!s.isEqual(qe.min())){const A=n.Ti.getLastRemoteSnapshotVersion(u).next(D=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));g.push(A)}return ie.waitFor(g).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,p)).next(()=>y)}).then(u=>(n.xs=l,u))}function xI(r,e,n){let s=tt(),l=tt();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let d=dr();return n.forEach((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(qe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):pe(Mm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{qs:d,Qs:l}})}function OI(r,e){const n=Fe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Em),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function MI(r,e){const n=Fe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,e).next(u=>u?(l=u,ie.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new $r(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Wd(r,e,n){const s=Fe(r),l=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!ao(d))throw d;pe(Mm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(l.target)}function Rv(r,e,n){const s=Fe(r);let l=qe.min(),u=tt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,A){const D=Fe(y),M=D.Os.get(A);return M!==void 0?ie.resolve(D.xs.get(M)):D.Ti.getTargetData(p,A)}(s,d,Oi(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(y=>{u=y})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,n?l:qe.min(),n?u:tt())).next(g=>(kI(s,ER(e),g),{documents:g,$s:u})))}function kI(r,e,n){let s=r.Ns.get(e)||qe.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class Iv{constructor(){this.activeTargetIds=RR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VI{constructor(){this.xo=new Iv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Iv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="ConnectivityMonitor";class Cv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(Nv,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(Nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Jd(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="RestConnection",zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===zc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(e,n,s,l,u){const d=Jd(),g=this.jo(e,n.toUriEncodedString());pe(Nd,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,l,u);const{host:p}=new URL(g),A=Dl(p);return this.Jo(e,g,y,s,A).then(D=>(pe(Nd,`Received RPC '${e}' ${d}: `,D),D),D=>{throw Xa(Nd,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",s),D})}Yo(e,n,s,l,u,d){return this.zo(e,n,s,l,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),s&&s.headers.forEach((l,u)=>e[u]=l)}jo(e,n){const s=zI[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class jI extends LI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const d=Jd();return new Promise((g,y)=>{const p=new H0;p.setWithCredentials(!0),p.listenOnce(q0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ec.NO_ERROR:const D=p.getResponseJson();pe(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case Ec.TIMEOUT:pe(dn,`RPC '${e}' ${d} timed out`),y(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const M=p.getStatus();if(pe(dn,`RPC '${e}' ${d} failed with status:`,M,"response text:",p.getResponseText()),M>0){let Q=p.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ee=Q==null?void 0:Q.error;if(ee&&ee.status&&ee.message){const he=function(Ee){const be=Ee.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(be)>=0?be:se.UNKNOWN}(ee.status);y(new ye(he,ee.message))}else y(new ye(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{h_:e,streamId:d,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{pe(dn,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(l);pe(dn,`RPC '${e}' ${d} sending request:`,l),p.send(n,"POST",A,s,15)})}I_(e,n,s){const l=Jd(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=K0(),g=G0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const A=u.join("");pe(dn,`Creating RPC '${e}' stream ${l}: ${A}`,y);const D=d.createWebChannel(A,y);this.E_(D);let M=!1,Q=!1;const ee=new UI({Zo:re=>{Q?pe(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,re):(M||(pe(dn,`Opening RPC '${e}' stream ${l} transport.`),D.open(),M=!0),pe(dn,`RPC '${e}' stream ${l} sending:`,re),D.send(re))},Xo:()=>D.close()}),he=(re,Ee,be)=>{re.listen(Ee,ge=>{try{be(ge)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return he(D,fl.EventType.OPEN,()=>{Q||(pe(dn,`RPC '${e}' stream ${l} transport opened.`),ee.__())}),he(D,fl.EventType.CLOSE,()=>{Q||(Q=!0,pe(dn,`RPC '${e}' stream ${l} transport closed`),ee.u_(),this.d_(D))}),he(D,fl.EventType.ERROR,re=>{Q||(Q=!0,Xa(dn,`RPC '${e}' stream ${l} transport errored. Name:`,re.name,"Message:",re.message),ee.u_(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),he(D,fl.EventType.MESSAGE,re=>{var Ee;if(!Q){const be=re.data[0];ut(!!be,16349);const ge=be,Pe=(ge==null?void 0:ge.error)||((Ee=ge[0])===null||Ee===void 0?void 0:Ee.error);if(Pe){pe(dn,`RPC '${e}' stream ${l} received error:`,Pe);const Se=Pe.status;let Ae=function(T){const I=Ut[T];if(I!==void 0)return IE(I)}(Se),k=Pe.message;Ae===void 0&&(Ae=se.INTERNAL,k="Unknown error status: "+Se+" with message "+Pe.message),Q=!0,ee.u_(new ye(Ae,k)),D.close()}else pe(dn,`RPC '${e}' stream ${l} received:`,be),ee.c_(be)}}),he(g,F0.STAT_EVENT,re=>{re.stat===jd.PROXY?pe(dn,`RPC '${e}' stream ${l} detected buffering proxy`):re.stat===jd.NOPROXY&&pe(dn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{ee.a_()},0),ee}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r){return new FR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,s=1e3,l=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=l,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&pe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="PersistentStream";class HE{constructor(e,n,s,l,u,d,g,y){this.xi=e,this.S_=s,this.D_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new BE(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{e(()=>{const l=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(Dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(pe(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BI extends HE{constructor(e,n,s,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=QR(this.serializer,e),s=function(u){if(!("targetChange"in u))return qe.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?qe.min():d.readTime?Mi(d.readTime):qe.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Zd(this.serializer),n.addTarget=function(u,d){let g;const y=d.target;if(g=Gd(y)?{documents:$R(u,y)}:{query:ZR(u,y).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=DE(u,d.resumeToken);const p=Yd(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(qe.min())>0){g.readTime=qc(u,d.snapshotVersion.toTimestamp());const p=Yd(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=JR(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Zd(this.serializer),n.removeTarget=e,this.Q_(n)}}class HI extends HE{constructor(e,n,s,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=XR(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Zd(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>YR(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{}class FI extends qI{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Xd(n,s),l,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())})}Yo(e,n,s,l,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Xd(n,s),l,d,g,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ye(se.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class GI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(fr(n),this.ua=!1):pe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class KI{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{s.enqueueAndForget(async()=>{$s(this)&&(pe(Ys,"Restarting streams for network reachability change."),await async function(y){const p=Fe(y);p.da.add(4),await Ul(p),p.Va.set("Unknown"),p.da.delete(4),await lh(p)}(this))})}),this.Va=new GI(s,l)}}async function lh(r){if($s(r))for(const e of r.Aa)await e(!0)}async function Ul(r){for(const e of r.Aa)await e(!1)}function qE(r,e){const n=Fe(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),zm(n)?Pm(n):oo(n).N_()&&Vm(n,e))}function km(r,e){const n=Fe(r),s=oo(n);n.Ea.delete(e),s.N_()&&FE(n,e),n.Ea.size===0&&(s.N_()?s.k_():$s(n)&&n.Va.set("Unknown"))}function Vm(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(r).Z_(e)}function FE(r,e){r.ma.Ke(e),oo(r).X_(e)}function Pm(r){r.ma=new jR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),oo(r).start(),r.Va.ca()}function zm(r){return $s(r)&&!oo(r).O_()&&r.Ea.size>0}function $s(r){return Fe(r).da.size===0}function GE(r){r.ma=void 0}async function QI(r){r.Va.set("Online")}async function YI(r){r.Ea.forEach((e,n)=>{Vm(r,e)})}async function XI(r,e){GE(r),zm(r)?(r.Va.Pa(e),Pm(r)):r.Va.set("Unknown")}async function $I(r,e,n){if(r.Va.set("Online"),e instanceof CE&&e.state===2&&e.cause)try{await async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ea.delete(g),l.ma.removeTarget(g))}(r,e)}catch(s){pe(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gc(r,s)}else if(e instanceof Ac?r.ma.Xe(e):e instanceof NE?r.ma.ot(e):r.ma.nt(e),!n.isEqual(qe.min()))try{const s=await jE(r.localStore);n.compareTo(s)>=0&&await function(u,d){const g=u.ma.It(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ea.get(p);A&&u.Ea.set(p,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const A=u.Ea.get(y);if(!A)return;u.Ea.set(y,A.withResumeToken(un.EMPTY_BYTE_STRING,A.snapshotVersion)),FE(u,y);const D=new $r(A.target,y,p,A.sequenceNumber);Vm(u,D)}),u.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){pe(Ys,"Failed to raise snapshot:",s),await Gc(r,s)}}async function Gc(r,e,n){if(!ao(e))throw e;r.da.add(1),await Ul(r),r.Va.set("Offline"),n||(n=()=>jE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(Ys,"Retrying IndexedDB access"),await n(),r.da.delete(1),await lh(r)})}function KE(r,e){return e().catch(n=>Gc(r,n,e))}async function uh(r){const e=Fe(r),n=os(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Em;for(;ZI(e);)try{const l=await OI(e.localStore,s);if(l===null){e.Ia.length===0&&n.k_();break}s=l.batchId,WI(e,l)}catch(l){await Gc(e,l)}QE(e)&&YE(e)}function ZI(r){return $s(r)&&r.Ia.length<10}function WI(r,e){r.Ia.push(e);const n=os(r);n.N_()&&n.ea&&n.ta(e.mutations)}function QE(r){return $s(r)&&!os(r).O_()&&r.Ia.length>0}function YE(r){os(r).start()}async function JI(r){os(r).ia()}async function e2(r){const e=os(r);for(const n of r.Ia)e.ta(n.mutations)}async function t2(r,e,n){const s=r.Ia.shift(),l=Im.from(s,e,n);await KE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await uh(r)}async function n2(r,e){e&&os(r).ea&&await async function(s,l){if(function(d){return LR(d)&&d!==se.ABORTED}(l.code)){const u=s.Ia.shift();os(s).L_(),await KE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await uh(s)}}(r,e),QE(r)&&YE(r)}async function xv(r,e){const n=Fe(r);n.asyncQueue.verifyOperationInProgress(),pe(Ys,"RemoteStore received new credentials");const s=$s(n);n.da.add(3),await Ul(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await lh(n)}async function i2(r,e){const n=Fe(r);e?(n.da.delete(2),await lh(n)):e||(n.da.add(2),await Ul(n),n.Va.set("Unknown"))}function oo(r){return r.fa||(r.fa=function(n,s,l){const u=Fe(n);return u.oa(),new BI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{e_:QI.bind(null,r),n_:YI.bind(null,r),i_:XI.bind(null,r),Y_:$I.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),zm(r)?Pm(r):r.Va.set("Unknown")):(await r.fa.stop(),GE(r))})),r.fa}function os(r){return r.ga||(r.ga=function(n,s,l){const u=Fe(n);return u.oa(),new HI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:JI.bind(null,r),i_:n2.bind(null,r),na:e2.bind(null,r),ra:t2.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await uh(r)):(await r.ga.stop(),r.Ia.length>0&&(pe(Ys,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const d=Date.now()+s,g=new Lm(e,n,d,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(r,e){if(fr("AsyncQueue",`${e}: ${r}`),ao(r))return new ye(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=dl(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.pa=new Rt(Ne.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class eo{constructor(e,n,s,l,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,l,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new eo(e,n,Ka.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class s2{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Fe(n),u=l.queries;l.queries=Mv(),u.forEach((d,g)=>{for(const y of g.Sa)y.onError(s)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function Mv(){return new Xs(r=>gE(r),nh)}async function a2(r,e){const n=Fe(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.Da()&&e.va()&&(s=2):(u=new r2,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(l,!0);break;case 1:u.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Um(d,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&jm(n)}async function o2(r,e){const n=Fe(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.va()?0:1:!u.Da()&&e.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function l2(r,e){const n=Fe(r);let s=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Ma(l)&&(s=!0);d.ba=l}}s&&jm(n)}function u2(r,e,n){const s=Fe(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function jm(r){r.Ca.forEach(e=>{e.next()})}var em,kv;(kv=em||(em={})).xa="default",kv.Cache="cache";class c2{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.key=e}}class $E{constructor(e){this.key=e}}class h2{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.Za=pE(e),this.Xa=new Ka(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new Ov,l=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((A,D)=>{const M=l.get(A),Q=ih(this.query,D)?D:null,ee=!!M&&this.mutatedKeys.has(M.key),he=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let re=!1;M&&Q?M.data.isEqual(Q.data)?ee!==he&&(s.track({type:3,doc:Q}),re=!0):this.ru(M,Q)||(s.track({type:2,doc:Q}),re=!0,(y&&this.Za(Q,y)>0||p&&this.Za(Q,p)<0)&&(g=!0)):!M&&Q?(s.track({type:0,doc:Q}),re=!0):M&&!Q&&(s.track({type:1,doc:M}),re=!0,(y||p)&&(g=!0)),re&&(Q?(d=d.add(Q),u=he?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:g,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,D)=>function(Q,ee){const he=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:re})}};return he(Q)-he(ee)}(A.type,D.type)||this.Za(A.doc,D.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],y=this.Ya.size===0&&this.current&&!l?1:0,p=y!==this.Ja;return this.Ja=y,d.length!==0||p?{snapshot:new eo(this.query,e.Xa,u,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new $E(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new XE(s))}),n}au(e){this.Ha=e.$s,this.Ya=tt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return eo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Bm="SyncEngine";class f2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class d2{constructor(e){this.key=e,this.cu=!1}}class m2{constructor(e,n,s,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Xs(g=>gE(g),nh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Rt(Ne.comparator),this.Eu=new Map,this.du=new Dm,this.Au={},this.Ru=new Map,this.Vu=Ja.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function g2(r,e,n=!0){const s=nT(r);let l;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.uu()):l=await ZE(s,e,n,!0),l}async function p2(r,e){const n=nT(r);await ZE(n,e,!0,!1)}async function ZE(r,e,n,s){const l=await MI(r.localStore,Oi(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await y2(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&qE(r.remoteStore,l),g}async function y2(r,e,n,s,l){r.fu=(D,M,Q)=>async function(he,re,Ee,be){let ge=re.view.tu(Ee);ge.Cs&&(ge=await Rv(he.localStore,re.query,!1).then(({documents:k})=>re.view.tu(k,ge)));const Pe=be&&be.targetChanges.get(re.targetId),Se=be&&be.targetMismatches.get(re.targetId)!=null,Ae=re.view.applyChanges(ge,he.isPrimaryClient,Pe,Se);return Pv(he,re.targetId,Ae.ou),Ae.snapshot}(r,D,M,Q);const u=await Rv(r.localStore,e,!0),d=new h2(e,u.$s),g=d.tu(u.documents),y=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),p=d.applyChanges(g,r.isPrimaryClient,y);Pv(r,n,p.ou);const A=new f2(e,n,d);return r.hu.set(e,A),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),p.snapshot}async function _2(r,e,n){const s=Fe(r),l=s.hu.get(e),u=s.Pu.get(l.targetId);if(u.length>1)return s.Pu.set(l.targetId,u.filter(d=>!nh(d,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&km(s.remoteStore,l.targetId),tm(s,l.targetId)}).catch(so)):(tm(s,l.targetId),await Wd(s.localStore,l.targetId,!0))}async function v2(r,e){const n=Fe(r),s=n.hu.get(e),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),km(n.remoteStore,s.targetId))}async function E2(r,e,n){const s=I2(r);try{const l=await function(d,g){const y=Fe(d),p=pt.now(),A=g.reduce((Q,ee)=>Q.add(ee.key),tt());let D,M;return y.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let ee=dr(),he=tt();return y.Bs.getEntries(Q,A).next(re=>{ee=re,ee.forEach((Ee,be)=>{be.isValidDocument()||(he=he.add(Ee))})}).next(()=>y.localDocuments.getOverlayedDocuments(Q,ee)).next(re=>{D=re;const Ee=[];for(const be of g){const ge=MR(be,D.get(be.key).overlayedDocument);ge!=null&&Ee.push(new cs(be.key,ge,aE(ge.value.mapValue),ei.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,p,Ee,g)}).next(re=>{M=re;const Ee=re.applyToLocalDocumentSet(D,he);return y.documentOverlayCache.saveOverlays(Q,re.batchId,Ee)})}).then(()=>({batchId:M.batchId,changes:_E(D)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,y){let p=d.Au[d.currentUser.toKey()];p||(p=new Rt($e)),p=p.insert(g,y),d.Au[d.currentUser.toKey()]=p}(s,l.batchId,n),await jl(s,l.changes),await uh(s.remoteStore)}catch(l){const u=Um(l,"Failed to persist write");n.reject(u)}}async function WE(r,e){const n=Fe(r);try{const s=await DI(n.localStore,e);e.targetChanges.forEach((l,u)=>{const d=n.Eu.get(u);d&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?ut(d.cu,14607):l.removedDocuments.size>0&&(ut(d.cu,42227),d.cu=!1))}),await jl(n,s,e)}catch(s){await so(s)}}function Vv(r,e,n){const s=Fe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((u,d)=>{const g=d.view.Fa(e);g.snapshot&&l.push(g.snapshot)}),function(d,g){const y=Fe(d);y.onlineState=g;let p=!1;y.queries.forEach((A,D)=>{for(const M of D.Sa)M.Fa(g)&&(p=!0)}),p&&jm(y)}(s.eventManager,e),l.length&&s.lu.Y_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T2(r,e,n){const s=Fe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Eu.get(e),u=l&&l.key;if(u){let d=new Rt(Ne.comparator);d=d.insert(u,gn.newNoDocument(u,qe.min()));const g=tt().add(u),y=new ah(qe.min(),new Map,new Rt($e),d,g);await WE(s,y),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Hm(s)}else await Wd(s.localStore,e,!1).then(()=>tm(s,e,n)).catch(so)}async function b2(r,e){const n=Fe(r),s=e.batch.batchId;try{const l=await CI(n.localStore,e);eT(n,s,null),JE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jl(n,l)}catch(l){await so(l)}}async function S2(r,e,n){const s=Fe(r);try{const l=await function(d,g){const y=Fe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let A;return y.mutationQueue.lookupMutationBatch(p,g).next(D=>(ut(D!==null,37113),A=D.keys(),y.mutationQueue.removeMutationBatch(p,D))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A)).next(()=>y.localDocuments.getDocuments(p,A))})}(s.localStore,e);eT(s,e,n),JE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await jl(s,l)}catch(l){await so(l)}}function JE(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function eT(r,e,n){const s=Fe(r);let l=s.Au[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Au[s.currentUser.toKey()]=l}}function tm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||tT(r,s)})}function tT(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(km(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Hm(r))}function Pv(r,e,n){for(const s of n)s instanceof XE?(r.du.addReference(s.key,e),A2(r,s)):s instanceof $E?(pe(Bm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||tT(r,s.key)):Ve(19791,{pu:s})}function A2(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(pe(Bm,"New document in limbo: "+n),r.Tu.add(s),Hm(r))}function Hm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new Ne(Tt.fromString(e)),s=r.Vu.next();r.Eu.set(s,new d2(n)),r.Iu=r.Iu.insert(n,s),qE(r.remoteStore,new $r(Oi(dE(n.path)),s,"TargetPurposeLimboResolution",Jc.le))}}async function jl(r,e,n){const s=Fe(r),l=[],u=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,y)=>{d.push(s.fu(y,e,n).then(p=>{var A;if((p||n)&&s.isPrimaryClient){const D=p?!p.fromCache:(A=n==null?void 0:n.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,D?"current":"not-current")}if(p){l.push(p);const D=Om.Rs(y.targetId,p);u.push(D)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(y,p){const A=Fe(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ie.forEach(p,M=>ie.forEach(M.ds,Q=>A.persistence.referenceDelegate.addReference(D,M.targetId,Q)).next(()=>ie.forEach(M.As,Q=>A.persistence.referenceDelegate.removeReference(D,M.targetId,Q)))))}catch(D){if(!ao(D))throw D;pe(Mm,"Failed to update sequence numbers: "+D)}for(const D of p){const M=D.targetId;if(!D.fromCache){const Q=A.xs.get(M),ee=Q.snapshotVersion,he=Q.withLastLimboFreeSnapshotVersion(ee);A.xs=A.xs.insert(M,he)}}}(s.localStore,u))}async function w2(r,e){const n=Fe(r);if(!n.currentUser.isEqual(e)){pe(Bm,"User change. New user:",e.toKey());const s=await UE(n.localStore,e);n.currentUser=e,function(u,d){u.Ru.forEach(g=>{g.forEach(y=>{y.reject(new ye(se.CANCELLED,d))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jl(n,s.ks)}}function R2(r,e){const n=Fe(r),s=n.Eu.get(e);if(s&&s.cu)return tt().add(s.key);{let l=tt();const u=n.Pu.get(e);if(!u)return l;for(const d of u){const g=n.hu.get(d);l=l.unionWith(g.view.eu)}return l}}function nT(r){const e=Fe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T2.bind(null,e),e.lu.Y_=l2.bind(null,e.eventManager),e.lu.gu=u2.bind(null,e.eventManager),e}function I2(r){const e=Fe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return NI(this.persistence,new wI,e.initialUser,this.serializer)}Su(e){return new LE(xm.fi,this.serializer)}bu(e){return new VI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class N2 extends Kc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ut(this.persistence.referenceDelegate instanceof Fc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cI(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new LE(s=>Fc.fi(s,n),this.serializer)}}class nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=w2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const n=oh(e.databaseInfo.databaseId),s=function(u){return new jI(u)}(e.databaseInfo);return function(u,d,g,y){return new FI(u,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,l,u,d,g){return new KI(s,l,u,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>Vv(this.syncEngine,n,0),function(){return Cv.C()?new Cv:new PI}())}createSyncEngine(e,n){return function(l,u,d,g,y,p,A){const D=new m2(l,u,d,g,y,p);return A&&(D.mu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=Fe(l);pe(Ys,"RemoteStore shutting down."),u.da.add(5),await Ul(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class D2{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=mn.UNAUTHENTICATED,this.clientId=$0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async d=>{pe(ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(pe(ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Um(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dd(r,e){r.asyncQueue.verifyOperationInProgress(),pe(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await UE(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function zv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await x2(r);pe(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>xv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>xv(e.remoteStore,l)),r._onlineComponents=e}async function x2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(ls,"Using user provided OfflineComponentProvider");try{await Dd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===se.FAILED_PRECONDITION||l.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await Dd(r,new Kc)}}else pe(ls,"Using default OfflineComponentProvider"),await Dd(r,new N2(void 0));return r._offlineComponents}async function iT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(ls,"Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(pe(ls,"Using default OnlineComponentProvider"),await zv(r,new nm))),r._onlineComponents}function O2(r){return iT(r).then(e=>e.syncEngine)}async function M2(r){const e=await iT(r),n=e.eventManager;return n.onListen=g2.bind(null,e.syncEngine),n.onUnlisten=_2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v2.bind(null,e.syncEngine),n}function k2(r,e,n={}){const s=new ts;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,g,y,p){const A=new C2({next:M=>{A.xu(),d.enqueueAndForget(()=>o2(u,D)),M.fromCache&&y.source==="server"?p.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(M)},error:M=>p.reject(M)}),D=new c2(g,A,{includeMetadataChanges:!0,Qa:!0});return a2(u,D)}(await M2(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function V2(r,e,n,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Uv(r){if(!Ne.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jv(r){if(Ne.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve(12329,{type:typeof r})}function Cl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ch(r);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firestore.googleapis.com",Bv=!0;class Hv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aT,this.ssl=Bv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lI)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Uw;switch(s.type){case"firstParty":return new qw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Lv.get(n);s&&(pe("ComponentProvider","Removing Datastore"),Lv.delete(n),s.terminate())}(this),Promise.resolve()}}function P2(r,e,n,s={}){var l;r=Cl(r,hh);const u=Dl(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${e}:${n}`;u&&(i0(`https://${y}`),r0("Firestore",!0)),d.host!==aT&&d.host!==y&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:y,ssl:u,emulatorOptions:s});if(!Fs(p,g)&&(r._setSettings(p),s.mockUserToken)){let A,D;if(typeof s.mockUserToken=="string")A=s.mockUserToken,D=mn.MOCK_USER;else{A=uS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new mn(M)}r._authCredentials=new jw(new Y0(A,D))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class ti{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class ns extends lo{constructor(e,n,s){super(e,n,dE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Ne(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Qc(r,e,...n){if(r=en(r),sT("collection","path",e),r instanceof hh){const s=Tt.fromString(e,...n);return jv(s),new ns(r,null,s)}{if(!(r instanceof ti||r instanceof ns))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(e,...n));return jv(s),new ns(r.firestore,null,s)}}function wc(r,e,...n){if(r=en(r),arguments.length===1&&(e=$0.newId()),sT("doc","path",e),r instanceof hh){const s=Tt.fromString(e,...n);return Uv(s),new ti(r,null,new Ne(s))}{if(!(r instanceof ti||r instanceof ns))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(e,...n));return Uv(s),new ti(r.firestore,r instanceof ns?r.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="AsyncQueue";class Fv{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new BE(this,"async_queue_retry"),this.rc=()=>{const s=Cd();s&&pe(qv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Cd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Cd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ts;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ao(e))throw e;pe(qv,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,fr("INTERNAL UNHANDLED ERROR: ",Gv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const l=Lm.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(l),l}oc(){this.Xu&&Ve(47125,{cc:Gv(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class fh extends hh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Fv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fv(e),this._firestoreClient=void 0,await e}}}function z2(r,e){const n=typeof r=="object"?r:l0(),s=typeof r=="string"?r:zc,l=om(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=oS("firestore");u&&P2(l,...u)}return l}function qm(r){if(r._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||L2(r),r._firestoreClient}function L2(r){var e,n,s;const l=r._freezeSettings(),u=function(g,y,p,A){return new rR(g,y,p,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,rT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new D2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(un.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^__.*__$/;class j2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new zl(e,this.data,n,this.fieldTransforms)}}class oT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ic:r})}}class Qm{constructor(e,n,s,l,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.dc({path:s,Rc:!1});return l.Vc(e),l}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Yc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(lT(this.Ic)&&U2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class B2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||oh(e)}bc(e,n,s,l=!1){return new Qm({Ic:e,methodName:n,wc:s,path:ln.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(r){const e=r._freezeSettings(),n=oh(r._databaseId);return new B2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function uT(r,e,n,s,l,u={}){const d=r.bc(u.merge||u.mergeFields?2:0,e,n,l);Xm("Data must be an object, but it was:",d,s);const g=cT(s,d);let y,p;if(u.merge)y=new Ln(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const D of u.mergeFields){const M=im(e,D,n);if(!d.contains(M))throw new ye(se.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);fT(A,M)||A.push(M)}y=new Ln(A),p=d.fieldTransforms.filter(D=>y.covers(D.field))}else y=null,p=d.fieldTransforms;return new j2(new Rn(g),y,p)}class mh extends Fm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mh}}function H2(r,e,n,s){const l=r.bc(1,e,n);Xm("Data must be an object, but it was:",l,s);const u=[],d=Rn.empty();us(s,(y,p)=>{const A=$m(e,y,n);p=en(p);const D=l.mc(A);if(p instanceof mh)u.push(A);else{const M=Bl(p,D);M!=null&&(u.push(A),d.set(A,M))}});const g=new Ln(u);return new oT(d,g,l.fieldTransforms)}function q2(r,e,n,s,l,u){const d=r.bc(1,e,n),g=[im(e,s,n)],y=[l];if(u.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)g.push(im(e,u[M])),y.push(u[M+1]);const p=[],A=Rn.empty();for(let M=g.length-1;M>=0;--M)if(!fT(p,g[M])){const Q=g[M];let ee=y[M];ee=en(ee);const he=d.mc(Q);if(ee instanceof mh)p.push(Q);else{const re=Bl(ee,he);re!=null&&(p.push(Q),A.set(Q,re))}}const D=new Ln(p);return new oT(A,D,d.fieldTransforms)}function F2(r,e,n,s=!1){return Bl(n,r.bc(s?4:3,e))}function Bl(r,e){if(hT(r=en(r)))return Xm("Unsupported field value:",e,r),cT(r,e);if(r instanceof Fm)return function(s,l){if(!lT(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,l){const u=[];let d=0;for(const g of s){let y=Bl(g,l.fc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}}(r,e)}return function(s,l){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:qc(l.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qc(l.serializer,u)}}if(s instanceof Gm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof to)return{bytesValue:DE(l.serializer,s._byteString)};if(s instanceof ti){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Km)return function(d,g){return{mapValue:{fields:{[rE]:{stringValue:sE},[Lc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.gc("VectorValues must only contain numeric values.");return wm(g.serializer,p)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${ch(s)}`)}(r,e)}function cT(r,e){const n={};return W0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,(s,l)=>{const u=Bl(l,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function hT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof Gm||r instanceof to||r instanceof ti||r instanceof Fm||r instanceof Km)}function Xm(r,e,n){if(!hT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=ch(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function im(r,e,n){if((e=en(e))instanceof dh)return e._internalPath;if(typeof e=="string")return $m(r,e);throw Yc("Field path arguments must be of type string or ",r,!1,void 0,n)}const G2=new RegExp("[~\\*/\\[\\]]");function $m(r,e,n){if(e.search(G2)>=0)throw Yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new dh(...e.split("."))._internalPath}catch{throw Yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Yc(r,e,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new ye(se.INVALID_ARGUMENT,g+r+y)}function fT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K2 extends dT{data(){return super.data()}}function Zm(r,e){return typeof e=="string"?$m(r,e):e instanceof dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class Y2 extends Wm{}function X2(r,e,...n){let s=[];e instanceof Wm&&s.push(e),s=s.concat(n),function(u){const d=u.filter(y=>y instanceof Jm).length,g=u.filter(y=>y instanceof gh).length;if(d>1||d>0&&g>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class gh extends Y2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gh(e,n,s)}_apply(e){const n=this._parse(e);return mT(e._query,n),new lo(e.firestore,e.converter,Kd(e._query,n))}_parse(e){const n=Ym(e.firestore);return function(u,d,g,y,p,A,D){let M;if(p.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Qv(D,A);const ee=[];for(const he of D)ee.push(Kv(y,u,he));M={arrayValue:{values:ee}}}else M=Kv(y,u,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Qv(D,A),M=F2(g,d,D,A==="in"||A==="not-in");return jt.create(p,A,M)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $2(r,e,n){const s=e,l=Zm("where",r);return gh._create(l,s,n)}class Jm extends Wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)mT(d,y),d=Kd(d,y)}(e._query,n),new lo(e.firestore,e.converter,Kd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kv(r,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(e)&&n.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Ne.isDocumentKey(s))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ov(r,new Ne(s))}if(n instanceof ti)return ov(r,n._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(n)}.`)}function Qv(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(r,e){const n=function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Z2{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return us(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,l;const u=(l=(s=(n=e.fields)===null||n===void 0?void 0:n[Lc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>Mt(d.doubleValue));return new Km(u)}convertGeoPoint(e){return new Gm(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=th(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const n=rs(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);ut(PE(s),9688,{name:e});const l=new wl(s.get(1),s.get(3)),u=new Ne(s.popFirst(5));return l.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W2 extends dT{constructor(e,n,s,l,u,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Rc extends W2{data(e={}){return super.data(e)}}class J2{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new mc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Rc(this._firestore,this._userDataWriter,s.key,s,new mc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const y=new Rc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new mc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const y=new Rc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new mc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,A=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:eN(g.type),doc:y,oldIndex:p,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:r})}}class tN extends Z2{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,n)}}function nN(r){r=Cl(r,lo);const e=Cl(r.firestore,fh),n=qm(e),s=new tN(e);return Q2(r._query),k2(n,r._query).then(l=>new J2(e,s,r,l))}function iN(r,e){const n=Cl(r.firestore,fh),s=wc(r),l=gT(r.converter,e);return pT(n,[uT(Ym(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function pT(r,e){return function(s,l){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>E2(await O2(s),l,u)),u.promise}(qm(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ym(e)}set(e,n,s){this._verifyNotCommitted();const l=xd(e,this._firestore),u=gT(l.converter,n,s),d=uT(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,s);return this._mutations.push(d.toMutation(l._key,ei.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const u=xd(e,this._firestore);let d;return d=typeof(n=en(n))=="string"||n instanceof dh?q2(this._dataReader,"WriteBatch.update",u._key,n,s,l):H2(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(d.toMutation(u._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xd(e,this._firestore);return this._mutations=this._mutations.concat(new Rm(n._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xd(r,e){if((r=en(r)).firestore!==e)throw new ye(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r){return qm(r=Cl(r,fh)),new rN(r,e=>pT(r,e))}(function(e,n=!0){(function(l){ro=l})(no),Qa(new Gs("firestore",(s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new fh(new Bw(s.getProvider("auth-internal")),new Fw(d,s.getProvider("app-check-internal")),function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(p.options.projectId,A)}(d,l),d);return u=Object.assign({useFetchStreams:n},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),Jr(X_,$_,e),Jr(X_,$_,"esm2017")})();const yT={WE01:{wasserzaehlerNrDigital:"D-1001",wasserzaehlerNrAnalog:"A-1001",heizungNr:"H-1001",stromNr:"S-1001"},WE02:{wasserzaehlerNrDigital:"D-1002",wasserzaehlerNrAnalog:"A-1002",heizungNr:"H-1002",stromNr:"S-1002"},"1a":{wasserzaehlerNrDigital:"D-2001",wasserzaehlerNrAnalog:"A-2001",heizungNr:"H-2001",stromNr:"S-2001"}};function sN(r){return/^([1-9]|1[0-8])$/.test(r)?`WE${r.padStart(2,"0")}`:r}function aN(r,e,n,s,l){return((r||"")+(e||"")+(n||"")+(s||"")+(l||"")).replace(/[^a-zA-Z0-9]/g,"").replace(/\s+/g,"")}function Xv(r){if(!r)return{salutation:"Herr",firstName:"",lastName:""};const e=r.trim().split(/\s+/);return e.length===1?{salutation:"Herr",firstName:e[0],lastName:""}:e.length===2?{salutation:"Herr",firstName:e[1],lastName:e[0]}:{salutation:"Herr",firstName:e.slice(1).join(" "),lastName:e[0]}}const oN=({selectedProperty:r,onCancel:e,recordToUpdate:n,isTenantChangeMode:s,onSave:l})=>{const[u,d]=Ye.useState({formApartmentId:"",formEffectiveDate:new Date().toISOString().split("T")[0],formMoveOutDate:"",formArea:"",formFloor:"",formPosition:"",formPersons:"",formHouseNumber:"",formContractDate:"",formMoveInDate:"",formTerminationDate:"",formContractEndDate:"",formIban:"",formDirectDebitMandateDate:"",formMandateReference:"",formRentBase:"",formRentUtilities:"",formRentHeating:"",formRentParking:"",formNotes:"",isLoading:!1,formStellplatz1:"",formStellplatz2:"",formStellplatz3:"",formStellplatz4:"",formWasserzaehlerNrDigital:"",formWasserzaehlerStandDigital:"",formWasserzaehlerNrAnalog:"",formWasserzaehlerStandAnalog:"",formHeizungNr:"",formHeizungStand:"",formStromNr:"",formStromStand:"",formKautionHoehe:"",formKautionszahlungen:[{betrag:"",datum:""}],formKautionsauszahlungen:[{betrag:"",datum:""}],isParkingOnly:!1,customRentPerSqm:"",parkingCount:1,tenant1Salutation:"Herr",tenant1FirstName:"",tenant1LastName:"",tenant1BirthDate:"",tenant1Address:"",tenant1Email:"",tenant1Phone:"",tenant2Salutation:"Herr",tenant2FirstName:"",tenant2LastName:"",tenant2BirthDate:"",tenant2Address:"",tenant2Email:"",tenant2Phone:""}),[g,y]=Ye.useState([]),[p,A]=Ye.useState([]);function D(b,C){y([...g,u]),d({...u,[b]:C}),A([])}function M(){g.length!==0&&(A([u,...p]),d(g[g.length-1]),y(g.slice(0,-1)))}function Q(){p.length!==0&&(y([...g,u]),d(p[0]),A(p.slice(1)))}Ye.useEffect(()=>{if(!n){const b=aN(r,u.formApartmentId,u.formPosition,u.tenant1LastName,u.tenant1FirstName);u.formMandateReference||d(C=>({...C,formMandateReference:b}))}},[r,u.formApartmentId,u.formPosition,u.tenant1LastName,u.tenant1FirstName]),Ye.useEffect(()=>{const b=sN(u.formApartmentId),C=yT[b];C&&d(N=>({...N,formWasserzaehlerNrDigital:N.formWasserzaehlerNrDigital||C.wasserzaehlerNrDigital||"",formWasserzaehlerNrAnalog:N.formWasserzaehlerNrAnalog||C.wasserzaehlerNrAnalog||"",formHeizungNr:N.formHeizungNr||C.heizungNr||"",formStromNr:N.formStromNr||C.stromNr||""}))},[u.formApartmentId]),Ye.useEffect(()=>{if(u.customRentPerSqm&&u.formArea){const b=(parseFloat(u.customRentPerSqm)*parseFloat(u.formArea)).toFixed(2);d(C=>({...C,formRentBase:b}))}},[u.customRentPerSqm]),Ye.useEffect(()=>{!n&&u.formRentBase&&!u.formKautionHoehe&&d(b=>({...b,formKautionHoehe:(parseFloat(b.formRentBase)*3).toFixed(2)}))},[u.formRentBase]),Ye.useEffect(()=>{(!n||!u.formContractEndDate)&&d(b=>({...b,tenant1Address:b.tenant1Address||`${r} ${b.formApartmentId} ${b.formPosition}`,tenant2Address:b.tenant2Address||`${r} ${b.formApartmentId} ${b.formPosition}`}))},[u.formApartmentId,u.formPosition,u.formContractEndDate]),Ye.useEffect(()=>{var b,C,N;if(n){const le=n.data,Ue=Xv(((C=(b=le.tenants)==null?void 0:b.tenant1)==null?void 0:C.name)||""),G=(N=le.tenants)!=null&&N.tenant2?Xv(le.tenants.tenant2.name||""):{salutation:"Herr",firstName:"",lastName:""};d(Z=>{var z,W,x,U,X,V,K,ae,te,me,ce,de,De,oe,ue,Ke,je,xe,Ie,we,Te,_e,Be,Ge,kt,Qt,ze,bt,Me,ke,vt,At,di,In,Ct,cn,Nn,Tn,Pi,mi,gr,pr,yr,Un,jn,_r,Cn,vr,ni,zi,ii;return{...Z,formApartmentId:n.apartmentId||"",formArea:((W=(z=le.details)==null?void 0:z.area)==null?void 0:W.toString())||"",formHouseNumber:((x=le.details)==null?void 0:x.houseNumber)||"",formFloor:((X=(U=le.details)==null?void 0:U.location)==null?void 0:X.split(" ")[0])||"",formPosition:((K=(V=le.details)==null?void 0:V.location)==null?void 0:K.split(" ")[1])||"",formPersons:((te=(ae=le.details)==null?void 0:ae.persons)==null?void 0:te.toString())||"",formStellplatz1:((me=le.details)==null?void 0:me.stellplatz1)||"",formStellplatz2:((ce=le.details)==null?void 0:ce.stellplatz2)||"",formStellplatz3:((de=le.details)==null?void 0:de.stellplatz3)||"",formStellplatz4:((De=le.details)==null?void 0:De.stellplatz4)||"",formContractDate:((oe=le.contract)==null?void 0:oe.contractDate)||"",formMoveInDate:((ue=le.contract)==null?void 0:ue.moveInDate)||"",formTerminationDate:((Ke=le.contract)==null?void 0:Ke.terminationDate)||"",formContractEndDate:((je=le.contract)==null?void 0:je.contractEndDate)||"",formKautionHoehe:((Ie=(xe=le.contract)==null?void 0:xe.kautionHoehe)==null?void 0:Ie.toString())||"",formKautionszahlungen:Array.isArray((we=le.contract)==null?void 0:we.kautionszahlungen)&&le.contract.kautionszahlungen.length>0?le.contract.kautionszahlungen.map(Bn=>{var yt;return typeof Bn=="object"&&Bn!==null?{betrag:((yt=Bn.betrag)==null?void 0:yt.toString())||"",datum:Bn.datum||""}:typeof Bn=="number"||typeof Bn=="string"?{betrag:Bn.toString(),datum:""}:{betrag:"",datum:""}}):[{betrag:"",datum:""}],formKautionsauszahlungen:[{betrag:"",datum:""}],formIban:((Te=le.payment)==null?void 0:Te.iban)||"",formDirectDebitMandateDate:((_e=le.payment)==null?void 0:_e.directDebitMandateDate)||"",formMandateReference:((Be=le.payment)==null?void 0:Be.mandateReference)||"",formRentBase:((kt=(Ge=le.rent)==null?void 0:Ge.base)==null?void 0:kt.toString())||"",formRentUtilities:((ze=(Qt=le.rent)==null?void 0:Qt.utilities)==null?void 0:ze.toString())||"",formRentHeating:((Me=(bt=le.rent)==null?void 0:bt.heating)==null?void 0:Me.toString())||"",formRentParking:((vt=(ke=le.rent)==null?void 0:ke.parking)==null?void 0:vt.toString())||"",formNotes:le.notes||"",formWasserzaehlerNrDigital:((At=le.meterReadings)==null?void 0:At.wasserzaehlerNrDigital)||"",formWasserzaehlerStandDigital:((In=(di=le.meterReadings)==null?void 0:di.wasserzaehlerStandDigital)==null?void 0:In.toString())||"",formWasserzaehlerNrAnalog:((Ct=le.meterReadings)==null?void 0:Ct.wasserzaehlerNrAnalog)||"",formWasserzaehlerStandAnalog:((Nn=(cn=le.meterReadings)==null?void 0:cn.wasserzaehlerStandAnalog)==null?void 0:Nn.toString())||"",formHeizungNr:((Tn=le.meterReadings)==null?void 0:Tn.heizungNr)||"",formHeizungStand:((mi=(Pi=le.meterReadings)==null?void 0:Pi.heizungStand)==null?void 0:mi.toString())||"",formStromNr:((gr=le.meterReadings)==null?void 0:gr.stromNr)||"",formStromStand:((yr=(pr=le.meterReadings)==null?void 0:pr.stromStand)==null?void 0:yr.toString())||"",tenant1Salutation:Ue.salutation,tenant1FirstName:Ue.firstName,tenant1LastName:Ue.lastName,tenant1BirthDate:"",tenant1Address:"",tenant1Email:((jn=(Un=le.tenants)==null?void 0:Un.tenant1)==null?void 0:jn.email)||"",tenant1Phone:((Cn=(_r=le.tenants)==null?void 0:_r.tenant1)==null?void 0:Cn.phone)||"",tenant2Salutation:G.salutation,tenant2FirstName:G.firstName,tenant2LastName:G.lastName,tenant2BirthDate:"",tenant2Address:"",tenant2Email:((ni=(vr=le.tenants)==null?void 0:vr.tenant2)==null?void 0:ni.email)||"",tenant2Phone:((ii=(zi=le.tenants)==null?void 0:zi.tenant2)==null?void 0:ii.phone)||""}})}else d({formApartmentId:"",formEffectiveDate:new Date().toISOString().split("T")[0],formMoveOutDate:"",formArea:"",formFloor:"",formPosition:"",formPersons:"",formHouseNumber:"",formContractDate:"",formMoveInDate:"",formTerminationDate:"",formContractEndDate:"",formIban:"",formDirectDebitMandateDate:"",formMandateReference:"",formRentBase:"",formRentUtilities:"",formRentHeating:"",formRentParking:"",formNotes:"",isLoading:!1,formStellplatz1:"",formStellplatz2:"",formStellplatz3:"",formStellplatz4:"",formWasserzaehlerNrDigital:"",formWasserzaehlerStandDigital:"",formWasserzaehlerNrAnalog:"",formWasserzaehlerStandAnalog:"",formHeizungNr:"",formHeizungStand:"",formStromNr:"",formStromStand:"",formKautionHoehe:"",formKautionszahlungen:[{betrag:"",datum:""}],formKautionsauszahlungen:[{betrag:"",datum:""}],isParkingOnly:!1,customRentPerSqm:"",parkingCount:1,tenant1Salutation:"Herr",tenant1FirstName:"",tenant1LastName:"",tenant1BirthDate:"",tenant1Address:"",tenant1Email:"",tenant1Phone:"",tenant2Salutation:"Herr",tenant2FirstName:"",tenant2LastName:"",tenant2BirthDate:"",tenant2Address:"",tenant2Email:"",tenant2Phone:""})},[n,r]);const ee=parseFloat(u.formArea)||0,he=parseFloat(u.formRentBase)||0,re=ee>0?(he/ee).toFixed(2):"",Ee=[u.formStellplatz1,u.formStellplatz2,u.formStellplatz3,u.formStellplatz4].filter(b=>typeof b=="string"?b.trim()!=="":String(b||"").trim()!=="").length,be=u.formRentParking!==""?parseFloat(u.formRentParking):Ee*40,ge=he+(parseFloat(u.formRentUtilities)||0)+(parseFloat(u.formRentHeating)||0)+be,Pe=u.formKautionszahlungen.reduce((b,C)=>b+(parseFloat(C.betrag)||0),0),Se=u.formKautionsauszahlungen.reduce((b,C)=>b+(parseFloat(C.betrag)||0),0),Ae=(parseFloat(u.formKautionHoehe)>0?parseFloat(u.formKautionHoehe):0)-Pe,k=Pe-Se,E=(b,C,N)=>{const le=[...u.formKautionszahlungen];le[b][C]=N,D("formKautionszahlungen",le)},T=(b,C,N)=>{const le=[...u.formKautionsauszahlungen];le[b][C]=N,D("formKautionsauszahlungen",le)};async function I(b){b.preventDefault(),d(C=>({...C,isLoading:!0}));try{await l(u)}finally{d(C=>({...C,isLoading:!1})),e&&e()}}return R.jsxs("div",{className:"mb-10 p-8 bg-gray-800 rounded-xl shadow-2xl border",children:[R.jsxs("div",{className:"flex items-center justify-between mb-8 border-b pb-4",children:[R.jsx("h2",{className:"text-3xl font-semibold text-gray-200",children:s?"Mieterwechsel durchfhren":n?"Datensatz aktualisieren":"Neuen Datensatz erstellen"}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx("button",{type:"button",className:"btn btn-special",onClick:()=>D("isParkingOnly",!u.isParkingOnly),children:u.isParkingOnly?"Vollstndige Eingabe":"Nur Parkplatz"}),R.jsx("button",{type:"button",onClick:M,className:"btn btn-edit",disabled:g.length===0,children:"Rckgngig"}),R.jsx("button",{type:"button",onClick:Q,className:"btn btn-edit",disabled:p.length===0,children:"Wiederholen"}),R.jsx("button",{type:"submit",disabled:u.isLoading,className:"btn btn-success",form:"record-form",children:u.isLoading?"Speichern...":"Speichern"}),R.jsx("button",{type:"button",onClick:e,className:"btn btn-danger",children:"Abbrechen"})]})]}),R.jsxs("form",{id:"record-form",onSubmit:I,className:"space-y-10",children:[!u.isParkingOnly&&R.jsxs("fieldset",{className:"p-5 border rounded-lg",children:[R.jsx("legend",{className:"text-xl font-semibold px-2 mb-2",children:"Stammdaten & Details"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Wohnungs-ID"}),R.jsx("input",{value:u.formApartmentId,onChange:b=>D("formApartmentId",b.target.value),className:"p-2 border rounded w-full",required:!0})]}),r==="TRI"&&R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Hausnummer"}),R.jsx("input",{value:u.formHouseNumber,onChange:b=>D("formHouseNumber",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Flche in m"}),R.jsx("input",{type:"number",value:u.formArea,onChange:b=>D("formArea",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Lage"}),R.jsx("input",{value:u.formPosition,onChange:b=>D("formPosition",b.target.value),className:"p-2 border rounded w-full"})]}),r==="TRI"&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Stellplatz 1"}),R.jsx("input",{value:u.formStellplatz1,onChange:b=>D("formStellplatz1",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Stellplatz 2"}),R.jsx("input",{value:u.formStellplatz2,onChange:b=>D("formStellplatz2",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Stellplatz 3"}),R.jsx("input",{value:u.formStellplatz3,onChange:b=>D("formStellplatz3",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Stellplatz 4"}),R.jsx("input",{value:u.formStellplatz4,onChange:b=>D("formStellplatz4",b.target.value),className:"p-2 border rounded w-full"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Personen"}),R.jsx("input",{type:"number",value:u.formPersons,onChange:b=>D("formPersons",b.target.value),className:"p-2 border rounded w-full"})]})]})]}),R.jsxs("fieldset",{className:"p-5 border rounded-lg",children:[R.jsx("legend",{className:"text-xl font-semibold px-2 mb-2",children:"Mieter 1"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Anrede"}),R.jsxs("select",{value:u.tenant1Salutation,onChange:b=>D("tenant1Salutation",b.target.value),className:"p-2 border rounded w-full",children:[R.jsx("option",{value:"Herr",children:"Herr"}),R.jsx("option",{value:"Frau",children:"Frau"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Vorname"}),R.jsx("input",{value:u.tenant1FirstName,onChange:b=>D("tenant1FirstName",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Nachname"}),R.jsx("input",{value:u.tenant1LastName,onChange:b=>D("tenant1LastName",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Geburtsdatum"}),R.jsx("input",{type:"date",value:u.tenant1BirthDate,onChange:b=>D("tenant1BirthDate",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"E-Mail"}),R.jsx("input",{type:"email",value:u.tenant1Email,onChange:b=>D("tenant1Email",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Telefon"}),R.jsx("input",{value:u.tenant1Phone,onChange:b=>D("tenant1Phone",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{className:"md:col-span-3",children:[R.jsx("label",{className:"block mb-1",children:"Adresse"}),R.jsx("input",{value:u.tenant1Address,onChange:b=>D("tenant1Address",b.target.value),className:"p-2 border rounded w-full",placeholder:"Adresse"})]})]})]}),R.jsxs("fieldset",{className:"p-5 border rounded-lg",children:[R.jsx("legend",{className:"text-xl font-semibold px-2 mb-2",children:"Mieter 2"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Anrede"}),R.jsxs("select",{value:u.tenant2Salutation,onChange:b=>D("tenant2Salutation",b.target.value),className:"p-2 border rounded w-full",children:[R.jsx("option",{value:"Herr",children:"Herr"}),R.jsx("option",{value:"Frau",children:"Frau"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Vorname"}),R.jsx("input",{value:u.tenant2FirstName,onChange:b=>D("tenant2FirstName",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Nachname"}),R.jsx("input",{value:u.tenant2LastName,onChange:b=>D("tenant2LastName",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Geburtsdatum"}),R.jsx("input",{type:"date",value:u.tenant2BirthDate,onChange:b=>D("tenant2BirthDate",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"E-Mail"}),R.jsx("input",{type:"email",value:u.tenant2Email,onChange:b=>D("tenant2Email",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Telefon"}),R.jsx("input",{value:u.tenant2Phone,onChange:b=>D("tenant2Phone",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{className:"md:col-span-3",children:[R.jsx("label",{className:"block mb-1",children:"Adresse"}),R.jsx("input",{value:u.tenant2Address,onChange:b=>D("tenant2Address",b.target.value),className:"p-2 border rounded w-full",placeholder:"Adresse"})]})]})]}),!u.isParkingOnly&&R.jsxs("fieldset",{className:"p-5 border rounded-lg",children:[R.jsx("legend",{className:"text-xl font-semibold px-2 mb-2",children:"Miete"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Kaltmiete ()"}),R.jsx("input",{type:"number",step:"0.01",value:u.formRentBase,onChange:b=>D("formRentBase",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Kaltmiete/m ()"}),R.jsx("input",{type:"number",step:"0.01",value:u.customRentPerSqm||re,onChange:b=>D("customRentPerSqm",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Nebenkosten ()"}),R.jsx("input",{type:"number",step:"0.01",value:u.formRentUtilities,onChange:b=>D("formRentUtilities",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Heizkosten ()"}),R.jsx("input",{type:"number",step:"0.01",value:u.formRentHeating,onChange:b=>D("formRentHeating",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Stellplatzmiete ()"}),R.jsx("input",{type:"number",step:"0.01",value:u.formRentParking||be,onChange:b=>D("formRentParking",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Gesamtmiete ()"}),R.jsx("input",{type:"number",step:"0.01",value:ge.toFixed(2),readOnly:!0,className:"p-2 border rounded w-full bg-gray-700"})]})]})]}),R.jsxs("fieldset",{className:"p-5 border rounded-lg",children:[R.jsx("legend",{className:"text-xl font-semibold px-2 mb-2",children:"Vertragsdaten"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Mietvertrag vom"}),R.jsx("input",{type:"date",value:u.formContractDate,onChange:b=>D("formContractDate",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Einzug am"}),R.jsx("input",{type:"date",value:u.formMoveInDate,onChange:b=>D("formMoveInDate",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Gekndigt zum"}),R.jsx("input",{type:"date",value:u.formTerminationDate,onChange:b=>D("formTerminationDate",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Vertragsende"}),R.jsx("input",{type:"date",value:u.formContractEndDate,onChange:b=>D("formContractEndDate",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"IBAN"}),R.jsx("input",{value:u.formIban,onChange:b=>D("formIban",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Mandatsreferenz"}),R.jsx("input",{value:u.formMandateReference,onChange:b=>D("formMandateReference",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Kaution ()"}),R.jsx("input",{type:"number",step:"0.01",value:u.formKautionHoehe,onChange:b=>D("formKautionHoehe",b.target.value),className:"p-2 border rounded w-full"})]})]}),R.jsxs("div",{className:"mt-4",children:[R.jsx("label",{className:"block text-sm font-medium",children:"Kautionszahlungen:"}),u.formKautionszahlungen.map((b,C)=>R.jsxs("div",{className:"flex gap-2 mb-2",children:[R.jsx("input",{type:"number",step:"0.01",placeholder:"Betrag",value:b.betrag,onChange:N=>E(C,"betrag",N.target.value),className:"p-2 border rounded"}),R.jsx("input",{type:"date",placeholder:"Datum",value:b.datum,onChange:N=>E(C,"datum",N.target.value),className:"p-2 border rounded"}),R.jsx("button",{type:"button",onClick:()=>{const N=u.formKautionszahlungen.filter((le,Ue)=>Ue!==C);D("formKautionszahlungen",N)},children:"Entfernen"})]},C)),R.jsx("button",{type:"button",onClick:()=>D("formKautionszahlungen",[...u.formKautionszahlungen,{betrag:"",datum:""}]),children:"Zahlung hinzufgen"})]}),R.jsxs("div",{className:"mt-4",children:[R.jsx("label",{className:"block text-sm font-medium",children:"Kautionsauszahlungen:"}),u.formKautionsauszahlungen.map((b,C)=>R.jsxs("div",{className:"flex gap-2 mb-2",children:[R.jsx("input",{type:"number",step:"0.01",placeholder:"Betrag",value:b.betrag,onChange:N=>T(C,"betrag",N.target.value),className:"p-2 border rounded"}),R.jsx("input",{type:"date",placeholder:"Datum",value:b.datum,onChange:N=>T(C,"datum",N.target.value),className:"p-2 border rounded"}),R.jsx("button",{type:"button",onClick:()=>{const N=u.formKautionsauszahlungen.filter((le,Ue)=>Ue!==C);D("formKautionsauszahlungen",N)},children:"Entfernen"})]},C)),R.jsx("button",{type:"button",onClick:()=>D("formKautionsauszahlungen",[...u.formKautionsauszahlungen,{betrag:"",datum:""}]),children:"Auszahlung hinzufgen"})]}),parseFloat(u.formKautionHoehe)>0&&R.jsxs("div",{className:"mt-2",children:[R.jsxs("span",{className:Ae>0?"text-red-600 font-bold":"",children:["Offene Kaution: ",Ae.toFixed(2)," "]}),u.formContractEndDate&&R.jsxs("span",{className:k>0?"text-red-600 font-bold ml-4":"ml-4",children:["Noch nicht ausgezahlt: ",k.toFixed(2)," "]})]})]}),!u.isParkingOnly&&R.jsxs("fieldset",{className:"p-5 border rounded-lg",children:[R.jsx("legend",{className:"text-xl font-semibold px-2 mb-2",children:"Abrechnungsdaten (Zhlerstnde)"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Wasserzhler digital Nr."}),R.jsx("input",{value:u.formWasserzaehlerNrDigital,onChange:b=>D("formWasserzaehlerNrDigital",b.target.value),className:"p-2 border rounded w-full"}),R.jsx("label",{className:"block mb-1 mt-2",children:"Wasserzhler digital Stand"}),R.jsx("input",{type:"number",value:u.formWasserzaehlerStandDigital,onChange:b=>D("formWasserzaehlerStandDigital",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Wasserzhler analog Nr."}),R.jsx("input",{value:u.formWasserzaehlerNrAnalog,onChange:b=>D("formWasserzaehlerNrAnalog",b.target.value),className:"p-2 border rounded w-full"}),R.jsx("label",{className:"block mb-1 mt-2",children:"Wasserzhler analog Stand"}),R.jsx("input",{type:"number",value:u.formWasserzaehlerStandAnalog,onChange:b=>D("formWasserzaehlerStandAnalog",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Heizung Nr."}),R.jsx("input",{value:u.formHeizungNr,onChange:b=>D("formHeizungNr",b.target.value),className:"p-2 border rounded w-full"}),R.jsx("label",{className:"block mb-1 mt-2",children:"Heizung Stand"}),R.jsx("input",{type:"number",value:u.formHeizungStand,onChange:b=>D("formHeizungStand",b.target.value),className:"p-2 border rounded w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Strom Nr."}),R.jsx("input",{value:u.formStromNr,onChange:b=>D("formStromNr",b.target.value),className:"p-2 border rounded w-full"}),R.jsx("label",{className:"block mb-1 mt-2",children:"Strom Stand"}),R.jsx("input",{type:"number",value:u.formStromStand,onChange:b=>D("formStromStand",b.target.value),className:"p-2 border rounded w-full"})]})]})]}),!u.isParkingOnly&&R.jsxs("fieldset",{className:"p-5 border rounded-lg",children:[R.jsx("legend",{className:"text-xl font-semibold px-2 mb-2",children:"Notizen / Zustzliche Informationen"}),R.jsx("textarea",{value:u.formNotes,onChange:b=>D("formNotes",b.target.value),rows:4,className:"mt-1 block w-full p-2 border rounded-md",placeholder:"Besondere Vereinbarungen..."})]}),R.jsxs("div",{className:"flex gap-4 justify-end mt-8",children:[R.jsx("button",{type:"submit",disabled:u.isLoading,className:"btn btn-success",children:u.isLoading?"Speichern...":"Speichern"}),R.jsx("button",{type:"button",onClick:e,className:"btn btn-danger",children:"Abbrechen"})]})]})]})};var Ic={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var lN=Ic.exports,$v;function uN(){return $v||($v=1,function(r,e){((n,s)=>{r.exports=s()})(lN,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},l,u=!s.document&&!!s.postMessage,d=s.IS_PAPA_WORKER||!1,g={},y=0,p={};function A(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var I=Se(T);I.chunkSize=parseInt(I.chunkSize),T.step||T.chunk||(I.chunkSize=null),this._handle=new he(I),(this._handle.streamer=this)._config=I}).call(this,E),this.parseChunk=function(T,I){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let N=this._config.newline;N||(C=this._config.quoteChar||'"',N=this._handle.guessLineEndings(T,C)),T=[...T.split(N).slice(b)].join(N)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(T))!==void 0&&(T=C),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+T,C=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=C.meta.cursor,b=(this._finished||(this._partialLine=b.substring(T-this._baseIndex),this._baseIndex=T),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),d)s.postMessage({results:C,workerId:p.WORKER_ID,finished:b});else if(k(this._config.chunk)&&!I){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!b||!k(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(T){k(this._config.error)?this._config.error(T):d&&this._config.error&&s.postMessage({workerId:p.WORKER_ID,error:T,finished:!1})}}function D(E){var T;(E=E||{}).chunkSize||(E.chunkSize=p.RemoteChunkSize),A.call(this,E),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),u||(T.onload=Ae(this._chunkLoaded,this),T.onerror=Ae(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var I,b=this._config.downloadRequestHeaders;for(I in b)T.setRequestHeader(I,b[I])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+C));try{T.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}u&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(I){I=T.statusText||I,this._sendError(new Error(I))}}function M(E){(E=E||{}).chunkSize||(E.chunkSize=p.LocalChunkSize),A.call(this,E);var T,I,b=typeof FileReader<"u";this.stream=function(C){this._input=C,I=C.slice||C.webkitSlice||C.mozSlice,b?((T=new FileReader).onload=Ae(this._chunkLoaded,this),T.onerror=Ae(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),C=I.call(C,this._start,N)),T.readAsText(C,this._config.encoding));b||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(T.error)}}function Q(E){var T;A.call(this,E=E||{}),this.stream=function(I){return T=I,this._nextChunk()},this._nextChunk=function(){var I,b;if(!this._finished)return I=this._config.chunkSize,T=I?(b=T.substring(0,I),T.substring(I)):(b=T,""),this._finished=!T,this.parseChunk(b)}}function ee(E){A.call(this,E=E||{});var T=[],I=!0,b=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):I=!0},this._streamData=Ae(function(C){try{T.push(typeof C=="string"?C:C.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(N){this._streamError(N)}},this),this._streamError=Ae(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=Ae(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=Ae(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function he(E){var T,I,b,C,N=Math.pow(2,53),le=-N,Ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Z=this,z=0,W=0,x=!1,U=!1,X=[],V={data:[],errors:[],meta:{}};function K(ce){return E.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function ae(){if(V&&b&&(me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),b=!1),E.skipEmptyLines&&(V.data=V.data.filter(function(ue){return!K(ue)})),te()){let ue=function(Ke,je){k(E.transformHeader)&&(Ke=E.transformHeader(Ke,je)),X.push(Ke)};var oe=ue;if(V)if(Array.isArray(V.data[0])){for(var ce=0;te()&&ce<V.data.length;ce++)V.data[ce].forEach(ue);V.data.splice(0,1)}else V.data.forEach(ue)}function de(ue,Ke){for(var je=E.header?{}:[],xe=0;xe<ue.length;xe++){var Ie=xe,we=ue[xe],we=((Te,_e)=>(Be=>(E.dynamicTypingFunction&&E.dynamicTyping[Be]===void 0&&(E.dynamicTyping[Be]=E.dynamicTypingFunction(Be)),(E.dynamicTyping[Be]||E.dynamicTyping)===!0))(Te)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((Be=>{if(Ue.test(Be)&&(Be=parseFloat(Be),le<Be&&Be<N))return 1})(_e)?parseFloat(_e):G.test(_e)?new Date(_e):_e===""?null:_e):_e)(Ie=E.header?xe>=X.length?"__parsed_extra":X[xe]:Ie,we=E.transform?E.transform(we,Ie):we);Ie==="__parsed_extra"?(je[Ie]=je[Ie]||[],je[Ie].push(we)):je[Ie]=we}return E.header&&(xe>X.length?me("FieldMismatch","TooManyFields","Too many fields: expected "+X.length+" fields but parsed "+xe,W+Ke):xe<X.length&&me("FieldMismatch","TooFewFields","Too few fields: expected "+X.length+" fields but parsed "+xe,W+Ke)),je}var De;V&&(E.header||E.dynamicTyping||E.transform)&&(De=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(de),De=V.data.length):V.data=de(V.data,0),E.header&&V.meta&&(V.meta.fields=X),W+=De)}function te(){return E.header&&X.length===0}function me(ce,de,De,oe){ce={type:ce,code:de,message:De},oe!==void 0&&(ce.row=oe),V.errors.push(ce)}k(E.step)&&(C=E.step,E.step=function(ce){V=ce,te()?ae():(ae(),V.data.length!==0&&(z+=ce.data.length,E.preview&&z>E.preview?I.abort():(V.data=V.data[0],C(V,Z))))}),this.parse=function(ce,de,De){var oe=E.quoteChar||'"',oe=(E.newline||(E.newline=this.guessLineEndings(ce,oe)),b=!1,E.delimiter?k(E.delimiter)&&(E.delimiter=E.delimiter(ce),V.meta.delimiter=E.delimiter):((oe=((ue,Ke,je,xe,Ie)=>{var we,Te,_e,Be;Ie=Ie||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var Ge=0;Ge<Ie.length;Ge++){for(var kt,Qt=Ie[Ge],ze=0,bt=0,Me=0,ke=(_e=void 0,new Ee({comments:xe,delimiter:Qt,newline:Ke,preview:10}).parse(ue)),vt=0;vt<ke.data.length;vt++)je&&K(ke.data[vt])?Me++:(kt=ke.data[vt].length,bt+=kt,_e===void 0?_e=kt:0<kt&&(ze+=Math.abs(kt-_e),_e=kt));0<ke.data.length&&(bt/=ke.data.length-Me),(Te===void 0||ze<=Te)&&(Be===void 0||Be<bt)&&1.99<bt&&(Te=ze,we=Qt,Be=bt)}return{successful:!!(E.delimiter=we),bestDelimiter:we}})(ce,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=oe.bestDelimiter:(b=!0,E.delimiter=p.DefaultDelimiter),V.meta.delimiter=E.delimiter),Se(E));return E.preview&&E.header&&oe.preview++,T=ce,I=new Ee(oe),V=I.parse(T,de,De),ae(),x?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return x},this.pause=function(){x=!0,I.abort(),T=k(E.chunk)?"":T.substring(I.getCharIndex())},this.resume=function(){Z.streamer._halted?(x=!1,Z.streamer.parseChunk(T,!0)):setTimeout(Z.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,I.abort(),V.meta.aborted=!0,k(E.complete)&&E.complete(V),T=""},this.guessLineEndings=function(ue,oe){ue=ue.substring(0,1048576);var oe=new RegExp(re(oe)+"([^]*?)"+re(oe),"gm"),De=(ue=ue.replace(oe,"")).split("\r"),oe=ue.split(`
`),ue=1<oe.length&&oe[0].length<De[0].length;if(De.length===1||ue)return`
`;for(var Ke=0,je=0;je<De.length;je++)De[je][0]===`
`&&Ke++;return Ke>=De.length/2?`\r
`:"\r"}}function re(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ee(E){var T=(E=E||{}).delimiter,I=E.newline,b=E.comments,C=E.step,N=E.preview,le=E.fastMode,Ue=null,G=!1,Z=E.quoteChar==null?'"':E.quoteChar,z=Z;if(E.escapeChar!==void 0&&(z=E.escapeChar),(typeof T!="string"||-1<p.BAD_DELIMITERS.indexOf(T))&&(T=","),b===T)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<p.BAD_DELIMITERS.indexOf(b))&&(b=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var W=0,x=!1;this.parse=function(U,X,V){if(typeof U!="string")throw new Error("Input must be a string");var K=U.length,ae=T.length,te=I.length,me=b.length,ce=k(C),de=[],De=[],oe=[],ue=W=0;if(!U)return ze();if(le||le!==!1&&U.indexOf(Z)===-1){for(var Ke=U.split(I),je=0;je<Ke.length;je++){if(oe=Ke[je],W+=oe.length,je!==Ke.length-1)W+=I.length;else if(V)return ze();if(!b||oe.substring(0,me)!==b){if(ce){if(de=[],Be(oe.split(T)),bt(),x)return ze()}else Be(oe.split(T));if(N&&N<=je)return de=de.slice(0,N),ze(!0)}}return ze()}for(var xe=U.indexOf(T,W),Ie=U.indexOf(I,W),we=new RegExp(re(z)+re(Z),"g"),Te=U.indexOf(Z,W);;)if(U[W]===Z)for(Te=W,W++;;){if((Te=U.indexOf(Z,Te+1))===-1)return V||De.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:W}),kt();if(Te===K-1)return kt(U.substring(W,Te).replace(we,Z));if(Z===z&&U[Te+1]===z)Te++;else if(Z===z||Te===0||U[Te-1]!==z){xe!==-1&&xe<Te+1&&(xe=U.indexOf(T,Te+1));var _e=Ge((Ie=Ie!==-1&&Ie<Te+1?U.indexOf(I,Te+1):Ie)===-1?xe:Math.min(xe,Ie));if(U.substr(Te+1+_e,ae)===T){oe.push(U.substring(W,Te).replace(we,Z)),U[W=Te+1+_e+ae]!==Z&&(Te=U.indexOf(Z,W)),xe=U.indexOf(T,W),Ie=U.indexOf(I,W);break}if(_e=Ge(Ie),U.substring(Te+1+_e,Te+1+_e+te)===I){if(oe.push(U.substring(W,Te).replace(we,Z)),Qt(Te+1+_e+te),xe=U.indexOf(T,W),Te=U.indexOf(Z,W),ce&&(bt(),x))return ze();if(N&&de.length>=N)return ze(!0);break}De.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:W}),Te++}}else if(b&&oe.length===0&&U.substring(W,W+me)===b){if(Ie===-1)return ze();W=Ie+te,Ie=U.indexOf(I,W),xe=U.indexOf(T,W)}else if(xe!==-1&&(xe<Ie||Ie===-1))oe.push(U.substring(W,xe)),W=xe+ae,xe=U.indexOf(T,W);else{if(Ie===-1)break;if(oe.push(U.substring(W,Ie)),Qt(Ie+te),ce&&(bt(),x))return ze();if(N&&de.length>=N)return ze(!0)}return kt();function Be(Me){de.push(Me),ue=W}function Ge(Me){var ke=0;return ke=Me!==-1&&(Me=U.substring(Te+1,Me))&&Me.trim()===""?Me.length:ke}function kt(Me){return V||(Me===void 0&&(Me=U.substring(W)),oe.push(Me),W=K,Be(oe),ce&&bt()),ze()}function Qt(Me){W=Me,Be(oe),oe=[],Ie=U.indexOf(I,W)}function ze(Me){if(E.header&&!X&&de.length&&!G){var ke=de[0],vt=Object.create(null),At=new Set(ke);let di=!1;for(let In=0;In<ke.length;In++){let Ct=ke[In];if(vt[Ct=k(E.transformHeader)?E.transformHeader(Ct,In):Ct]){let cn,Nn=vt[Ct];for(;cn=Ct+"_"+Nn,Nn++,At.has(cn););At.add(cn),ke[In]=cn,vt[Ct]++,di=!0,(Ue=Ue===null?{}:Ue)[cn]=Ct}else vt[Ct]=1,ke[In]=Ct;At.add(Ct)}di&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:de,errors:De,meta:{delimiter:T,linebreak:I,aborted:x,truncated:!!Me,cursor:ue+(X||0),renamedHeaders:Ue}}}function bt(){C(ze()),de=[],De=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return W}}function be(E){var T=E.data,I=g[T.workerId],b=!1;if(T.error)I.userError(T.error,T.file);else if(T.results&&T.results.data){var C={abort:function(){b=!0,ge(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Pe,resume:Pe};if(k(I.userStep)){for(var N=0;N<T.results.data.length&&(I.userStep({data:T.results.data[N],errors:T.results.errors,meta:T.results.meta},C),!b);N++);delete T.results}else k(I.userChunk)&&(I.userChunk(T.results,C,T.file),delete T.results)}T.finished&&!b&&ge(T.workerId,T.results)}function ge(E,T){var I=g[E];k(I.userComplete)&&I.userComplete(T),I.terminate(),delete g[E]}function Pe(){throw new Error("Not implemented.")}function Se(E){if(typeof E!="object"||E===null)return E;var T,I=Array.isArray(E)?[]:{};for(T in E)I[T]=Se(E[T]);return I}function Ae(E,T){return function(){E.apply(T,arguments)}}function k(E){return typeof E=="function"}return p.parse=function(E,T){var I=(T=T||{}).dynamicTyping||!1;if(k(I)&&(T.dynamicTypingFunction=I,I={}),T.dynamicTyping=I,T.transform=!!k(T.transform)&&T.transform,!T.worker||!p.WORKERS_SUPPORTED)return I=null,p.NODE_STREAM_INPUT,typeof E=="string"?(E=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(E),I=new(T.download?D:Q)(T)):E.readable===!0&&k(E.read)&&k(E.on)?I=new ee(T):(s.File&&E instanceof File||E instanceof Object)&&(I=new M(T)),I.stream(E);(I=(()=>{var b;return!!p.WORKERS_SUPPORTED&&(b=(()=>{var C=s.URL||s.webkitURL||null,N=n.toString();return p.BLOB_URL||(p.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(b=new s.Worker(b)).onmessage=be,b.id=y++,g[b.id]=b)})()).userStep=T.step,I.userChunk=T.chunk,I.userComplete=T.complete,I.userError=T.error,T.step=k(T.step),T.chunk=k(T.chunk),T.complete=k(T.complete),T.error=k(T.error),delete T.worker,I.postMessage({input:E,config:T,workerId:I.id})},p.unparse=function(E,T){var I=!1,b=!0,C=",",N=`\r
`,le='"',Ue=le+le,G=!1,Z=null,z=!1,W=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||p.BAD_DELIMITERS.filter(function(X){return T.delimiter.indexOf(X)!==-1}).length||(C=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(I=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(G=T.skipEmptyLines),typeof T.newline=="string"&&(N=T.newline),typeof T.quoteChar=="string"&&(le=T.quoteChar),typeof T.header=="boolean"&&(b=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");Z=T.columns}T.escapeChar!==void 0&&(Ue=T.escapeChar+le),T.escapeFormulae instanceof RegExp?z=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(z=/^[=+\-@\t\r].*$/)}})(),new RegExp(re(le),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return x(null,E,G);if(typeof E[0]=="object")return x(Z||Object.keys(E[0]),E,G)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||Z),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),x(E.fields||[],E.data||[],G);throw new Error("Unable to serialize unrecognized input");function x(X,V,K){var ae="",te=(typeof X=="string"&&(X=JSON.parse(X)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(X)&&0<X.length),me=!Array.isArray(V[0]);if(te&&b){for(var ce=0;ce<X.length;ce++)0<ce&&(ae+=C),ae+=U(X[ce],ce);0<V.length&&(ae+=N)}for(var de=0;de<V.length;de++){var De=(te?X:V[de]).length,oe=!1,ue=te?Object.keys(V[de]).length===0:V[de].length===0;if(K&&!te&&(oe=K==="greedy"?V[de].join("").trim()==="":V[de].length===1&&V[de][0].length===0),K==="greedy"&&te){for(var Ke=[],je=0;je<De;je++){var xe=me?X[je]:je;Ke.push(V[de][xe])}oe=Ke.join("").trim()===""}if(!oe){for(var Ie=0;Ie<De;Ie++){0<Ie&&!ue&&(ae+=C);var we=te&&me?X[Ie]:Ie;ae+=U(V[de][we],Ie)}de<V.length-1&&(!K||0<De&&!ue)&&(ae+=N)}}return ae}function U(X,V){var K,ae;return X==null?"":X.constructor===Date?JSON.stringify(X).slice(1,25):(ae=!1,z&&typeof X=="string"&&z.test(X)&&(X="'"+X,ae=!0),K=X.toString().replace(W,Ue),(ae=ae||I===!0||typeof I=="function"&&I(X,V)||Array.isArray(I)&&I[V]||((te,me)=>{for(var ce=0;ce<me.length;ce++)if(-1<te.indexOf(me[ce]))return!0;return!1})(K,p.BAD_DELIMITERS)||-1<K.indexOf(C)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?le+K+le:K)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!u&&!!s.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=Ee,p.ParserHandle=he,p.NetworkStreamer=D,p.FileStreamer=M,p.StringStreamer=Q,p.ReadableStreamStreamer=ee,s.jQuery&&((l=s.jQuery).fn.parse=function(E){var T=E.config||{},I=[];return this.each(function(N){if(!(l(this).prop("tagName").toUpperCase()==="INPUT"&&l(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var le=0;le<this.files.length;le++)I.push({file:this.files[le],inputElem:this,instanceConfig:l.extend({},T)})}),b(),this;function b(){if(I.length===0)k(E.complete)&&E.complete();else{var N,le,Ue,G,Z=I[0];if(k(E.before)){var z=E.before(Z.file,Z.inputElem);if(typeof z=="object"){if(z.action==="abort")return N="AbortError",le=Z.file,Ue=Z.inputElem,G=z.reason,void(k(E.error)&&E.error({name:N},le,Ue,G));if(z.action==="skip")return void C();typeof z.config=="object"&&(Z.instanceConfig=l.extend(Z.instanceConfig,z.config))}else if(z==="skip")return void C()}var W=Z.instanceConfig.complete;Z.instanceConfig.complete=function(x){k(W)&&W(x,Z.file,Z.inputElem),C()},p.parse(Z.file,Z.instanceConfig)}}function C(){I.splice(0,1),b()}}),d&&(s.onmessage=function(E){E=E.data,p.WORKER_ID===void 0&&E&&(p.WORKER_ID=E.workerId),typeof E.input=="string"?s.postMessage({workerId:p.WORKER_ID,results:p.parse(E.input,E.config),finished:!0}):(s.File&&E.input instanceof File||E.input instanceof Object)&&(E=p.parse(E.input,E.config))&&s.postMessage({workerId:p.WORKER_ID,results:E,finished:!0})}),(D.prototype=Object.create(A.prototype)).constructor=D,(M.prototype=Object.create(A.prototype)).constructor=M,(Q.prototype=Object.create(Q.prototype)).constructor=Q,(ee.prototype=Object.create(A.prototype)).constructor=ee,p})}(Ic)),Ic.exports}var cN=uN();const hN=Hb(cN),fN=[{key:"apartmentId",label:"Wohnungs-ID (Pflichtfeld!)"},{key:"details.area",label:"Details: Flche (m)"},{key:"details.location",label:"Details: Lage"},{key:"details.persons",label:"Details: Personenanzahl"},{key:"details.houseNumber",label:"Details: Hausnummer"},{key:"details.stellplatz1",label:"Details: Stellplatz 1"},{key:"details.stellplatz2",label:"Details: Stellplatz 2"},{key:"details.stellplatz3",label:"Details: Stellplatz 3"},{key:"tenants.tenant1.name",label:"Mieter 1: Name"},{key:"tenants.tenant1.phone",label:"Mieter 1: Telefon"},{key:"tenants.tenant1.email",label:"Mieter 1: E-Mail"},{key:"tenants.tenant2.name",label:"Mieter 2: Name"},{key:"tenants.tenant2.phone",label:"Mieter 2: Telefon"},{key:"tenants.tenant2.email",label:"Mieter 2: E-Mail"},{key:"contract.contractDate",label:"Vertrag: Datum"},{key:"contract.moveInDate",label:"Vertrag: Einzug"},{key:"contract.terminationDate",label:"Vertrag: Gekndigt zum"},{key:"contract.contractEndDate",label:"Vertrag: Ende"},{key:"contract.kautionHoehe",label:"Kaution Hhe ()"},{key:"contract.kautionszahlungen",label:"Kautionszahlungen (JSON)"},{key:"rent.base",label:"Miete: Kaltmiete"},{key:"rent.utilities",label:"Miete: Nebenkosten"},{key:"rent.heating",label:"Miete: Heizkosten"},{key:"rent.parking",label:"Miete: Parkplatz"},{key:"payment.iban",label:"Zahlung: IBAN"},{key:"payment.directDebitMandateDate",label:"Zahlung: Datum Lastschrift"},{key:"payment.mandateReference",label:"Zahlung: Mandatsreferenz"},{key:"meterReadings.wasserzaehlerNrDigital",label:"Zhler: Wasser-Nr Digital"},{key:"meterReadings.wasserzaehlerStandDigital",label:"Zhler: Wasser-Stand Digital"},{key:"meterReadings.wasserzaehlerNrAnalog",label:"Zhler: Wasser-Nr Analog"},{key:"meterReadings.wasserzaehlerStandAnalog",label:"Zhler: Wasser-Stand Analog"},{key:"meterReadings.heizungNr",label:"Zhler: Heizung-Nr"},{key:"meterReadings.heizungStand",label:"Zhler: Heizung-Stand"},{key:"meterReadings.stromNr",label:"Zhler: Strom-Nr"},{key:"meterReadings.stromStand",label:"Zhler: Strom-Stand"},{key:"notes",label:"Notizen"}],dN={TRI:"Triftstrae",PAS:"Pasewalker Str.",RITA:"Rosenthaler Str."},mN=({db:r,userId:e,appId:n,onImportComplete:s})=>{const[l]=Ye.useState("AIzaSyDjQrJmmSRjnd47WeEMIm7qXQQde68LI4w"),[u]=Ye.useState("1bqt-gnTwS0_zk6jGA_phat_v1pxNtSHYblPJVNbgDGY"),[d,g]=Ye.useState([]),[y,p]=Ye.useState(""),[A,D]=Ye.useState([]),[M,Q]=Ye.useState([]),[ee,he]=Ye.useState({}),[re,Ee]=Ye.useState(!1),[be,ge]=Ye.useState(""),[Pe,Se]=Ye.useState(""),[Ae,k]=Ye.useState(""),[E,T]=Ye.useState(""),[I,b]=Ye.useState(!1),[C,N]=Ye.useState([]),le=async()=>{Se(""),Ee(!0),ge("Lade Tabellenbltter...");try{const K=await(await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${u}?key=${l}`)).json();if(K.error)throw new Error(K.error.message||"Unbekannter Fehler");g(K.sheets.map(ae=>({title:ae.properties.title}))),ge("Tabellenbltter geladen. Bitte whlen Sie eines aus.")}catch(V){Se(`Fehler: ${V.message}.`)}finally{Ee(!1)}},Ue=()=>{if(!y)return;Ee(!0),ge("Lade Daten aus Tabellenblatt..."),Se("");const V=`https://docs.google.com/spreadsheets/d/${u}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent(y)}`;hN.parse(V,{download:!0,header:!1,skipEmptyLines:!1,complete:K=>{const ae=K.data;let te=-1;for(let oe=0;oe<ae.length;oe++)if(ae[oe].filter(Ke=>String(Ke).trim()).length>=5){te=oe;break}if(te===-1){Se("Keine Kopfzeile mit ausreichend Spalten gefunden!"),Ee(!1);return}const me=ae[te].map((oe,ue)=>oe||`Spalte ${ue+1}`);D(me);let ce=Ae;if(!ce&&y){const oe=y.match(/\d{4}-\d{2}-\d{2}/);oe&&(ce=oe[0])}let de={0:"details.houseNumber",1:"details.location",2:"apartmentId",3:"tenants.tenant1.name",4:"tenants.tenant2.name",5:"details.area",6:"rent.base",8:"rent.utilities",9:"rent.heating",11:"details.stellplatz1",12:"details.stellplatz2",13:"details.stellplatz3",15:"details.persons",17:"tenants.tenant1.email",18:"tenants.tenant1.phone",19:"tenants.tenant2.email",20:"tenants.tenant2.phone",21:"contract.contractDate",22:"contract.moveInDate",23:"contract.kautionHoehe",24:"contract.kautionszahlungen",27:"meterReadings.wasserzaehlerNrAnalog",28:"meterReadings.wasserzaehlerStandAnalog",29:"meterReadings.wasserzaehlerNrDigital",30:"meterReadings.wasserzaehlerStandDigital",31:"meterReadings.heizungNr",32:"meterReadings.heizungStand",33:"meterReadings.stromNr",34:"meterReadings.stromStand"};ce&&ce<"2024-11-01"&&(de={0:"details.houseNumber",1:"details.location",2:"apartmentId",3:"tenants.tenant1.name",4:"tenants.tenant2.name",5:"details.area",6:"rent.base",8:"rent.utilities",9:"rent.heating",11:"details.stellplatz1",12:"details.stellplatz2",14:"details.persons",16:"tenants.tenant1.email",17:"tenants.tenant1.phone",18:"tenants.tenant2.email",19:"tenants.tenant2.phone",20:"contract.contractDate",21:"contract.moveInDate",22:"contract.kautionHoehe",23:"contract.kautionszahlungen",26:"meterReadings.wasserzaehlerNrAnalog",27:"meterReadings.wasserzaehlerStandAnalog",28:"meterReadings.wasserzaehlerNrDigital",29:"meterReadings.wasserzaehlerStandDigital",30:"meterReadings.heizungNr",31:"meterReadings.heizungStand",32:"meterReadings.stromNr",33:"meterReadings.stromStand"}),he(de);const De=ae.slice(te+1).filter(oe=>oe.some(ue=>String(ue).trim()));Q(De),ge(`${De.length} Datenzeilen geladen. Bitte Spalten zuordnen.`),Ee(!1)},error:K=>{Se(`Fehler beim Verarbeiten der Sheet-Daten: ${K.message}`),console.error(K),Ee(!1)}})},G=(V,K)=>{he(ae=>({...ae,[V]:K}))};function Z(V){const K=["Anna","Maria","Sabine","Petra","Julia","Laura","Lisa","Sophie","Claudia","Katrin","Monika","Susanne","Sandra","Nicole","Andrea","Christina","Stefanie","Nina","Sarah","Jessica","Katharina","Carina","Lena","Lea","Michaela","Vanessa","Carolin","Melanie","Jana","Tina","Birgit","Heike","Ute","Silke","Martina","Anja","Sonja","Daniela","Angela","Cornelia","Renate","Gabriele","Elisabeth","Theresa","Helga","Ingrid","Marina","Franziska","Johanna","Pauline","Luisa","Emilia","Clara","Helene","Charlotte","Emma","Mia","Hannah","Sofia","Lina","Leonie","Amelie","Marie","Emily","Ella","Anna-Lena","Annika"];return V&&K.some(ae=>ae.toLowerCase()===V.toLowerCase())?"Frau":"Herr"}function z(V){if(!V)return 0;let K=String(V).replace(/[^0-9,.-]/g,"");K=K.replace(/\.(?=\d{3}(,|$))/,""),K=K.replace(",",".");const ae=parseFloat(K);return isNaN(ae)?0:ae}function W(V){if(!V)return 0;let K=String(V).replace(/[^0-9,.,-]/g,"");K=K.replace(",",".");const ae=parseFloat(K);return isNaN(ae)?0:ae}function x(V){if(/^\d{4}-\d{2}-\d{2}$/.test(V))return V;const K=V.match(/^(\d{2})\.(\d{2})\.(\d{4})$/);if(K){const[,ae,te,me]=K;return`${me}-${te}-${ae}`}return V}const U=async()=>{const V=[];if(M.length===0){alert("Keine Daten zum Importieren vorhanden.");return}if(!E||!Ae){alert("Fehler: Objekt oder Datum konnten nicht aus dem Tabellenblattnamen extrahiert werden.");return}const K=x(Ae),ae=new Date(K);if(isNaN(ae.getTime())){alert(`Fehler: Das gewhlte Stichtagsdatum ('${Ae}') ist ungltig. Bitte im Format JJJJ-MM-TT oder TT.MM.JJJJ eingeben.`);return}Ee(!0),ge(`Importiere ${M.length} Datenstze...`);const te=Yv(r),me=`propertyManagement/${n}/users/${e}/tenantRecords`,ce=Qc(r,me);for(let de=0;de<M.length;de++){const De=M[de];let oe={details:{},tenants:{},contract:{},payment:{},rent:{},meterReadings:{},notes:""},ue={};De.forEach((Ie,we)=>{const Te=ee[we];Te&&(ue[Te]=Ie??"")});const Ke=(ue["details.houseNumber"]||"").toString().trim().toUpperCase(),je=(ue["details.location"]||"").toString().trim().toLowerCase(),xe=Ke==="P"||je.includes("parkplatz");if((Ke==="P"||je.includes("parkplatz"))&&console.log(`Debug Zeile ${de+4}: Hausnummer="${Ke}", Lage="${ue["details.location"]}", apartmentId="${ue.apartmentId}", isParkplatz=${xe}`),xe){const Ie=(ue.apartmentId||"").toString().trim();let we=[Ie];Ie||(we=[(ue["details.stellplatz1"]||"").toString().trim(),(ue["details.stellplatz2"]||"").toString().trim(),(ue["details.stellplatz3"]||"").toString().trim(),(ue["details.stellplatz4"]||"").toString().trim()].filter(_e=>_e!==""));let Te=[];for(const _e of we)if(_e&&/\d/.test(_e)){const Be=_e.split(/[+,;\s]+/).map(Ge=>Ge.trim()).filter(Ge=>Ge!==""&&/^\d+$/.test(Ge));Te.push(...Be)}if(Te=[...new Set(Te)],console.log(`Debug Parkplatz-Zeile ${de+4}: Input="${Ie}", Suchquellen:`,we,"Extracted IDs:",Te),Te.length===0){console.log(`berspringe Parkplatz-Zeile ${de+4}: Keine gltigen Parkplatz-IDs gefunden (mglicherweise Platzhalter-Zeile)`);continue}Te.forEach(_e=>{const Be={details:{houseNumber:"P",stellplatz1:ue["details.stellplatz1"]||"",stellplatz2:ue["details.stellplatz2"]||"",stellplatz3:ue["details.stellplatz3"]||"",stellplatz4:ue["details.stellplatz4"]||""},tenants:{tenant1:{name:ue["tenants.tenant1.name"]||"",email:ue["tenants.tenant1.email"]||"",phone:ue["tenants.tenant1.phone"]||""}},contract:{contractDate:ue["contract.contractDate"]||"",moveInDate:ue["contract.moveInDate"]||"",terminationDate:ue["contract.terminationDate"]||"",contractEndDate:ue["contract.contractEndDate"]||""},payment:{iban:ue["payment.iban"]||"",mandateReference:ue["payment.mandateReference"]||""},rent:{base:z(ue["rent.base"]||"0"),utilities:z(ue["rent.utilities"]||"0"),heating:z(ue["rent.heating"]||"0"),parking:z(ue["rent.parking"]||"0"),total:z(ue["rent.base"]||"0")+z(ue["rent.utilities"]||"0")+z(ue["rent.heating"]||"0")+z(ue["rent.parking"]||"0")},meterReadings:{wasserzaehlerNrDigital:"",wasserzaehlerStandDigital:0,wasserzaehlerNrAnalog:"",wasserzaehlerStandAnalog:0,heizungNr:"",heizungStand:0,stromNr:"",stromStand:0},notes:`Importiert aus Zeile ${de+4} (Parkplatz-Master), Parkplatz ${_e}`},Ge="P"+_e,kt={propertyCode:E+"-P",apartmentId:Ge,effectiveDate:pt.fromDate(ae),createdAt:pt.now(),changeType:"Importiert",data:Be};console.log(`Erstelle Parkplatz-Datensatz: ${Ge} fr Objekt ${E+"-P"}`);const Qt=wc(ce);te.set(Qt,kt)});continue}else{if(E==="PAS"){const we=ue["details.location"]||"",Te=ue.apartmentId||"";we.toLowerCase().includes("rosenthaler")?(oe.apartmentId=we.slice(-3).trim(),oe.details.location=""):(oe.apartmentId=Te,oe.details.location=we)}else oe.apartmentId=ue.apartmentId,ue["details.location"]&&(oe.details.location=ue["details.location"]);for(const we in ue){if(we==="apartmentId"||we==="details.location")continue;const Te=we.split(".");let _e=oe;for(let ze=0;ze<Te.length-1;ze++)(typeof _e[Te[ze]]!="object"||_e[Te[ze]]===null)&&(_e[Te[ze]]={}),_e=_e[Te[ze]];const Be=Te[Te.length-1],Ge=ue[we];if(we==="tenants.tenant1.name"||we==="tenants.tenant2.name"){const ze=Ge?Ge.trim().split(/\s+/):[];let bt="",Me="";ze.length===2?(Me=ze[0],bt=ze[1]):ze.length>2?(Me=ze[0],bt=ze.slice(1).join(" ")):ze.length===1&&(bt=ze[0],Me="");const ke=Z(bt.split(" ")[0]||"");_e.name=Ge,_e.firstName=bt,_e.lastName=Me,_e.salutation=ke;continue}if(we==="details.area"){_e[Be]=W(Ge);continue}if(we.startsWith("rent.")||we==="contract.kautionHoehe"){_e[Be]=z(Ge);continue}if(we==="contract.kautionszahlungen"){try{if(Ge&&Ge.trim().startsWith("["))_e[Be]=JSON.parse(Ge);else if(Ge&&Ge.trim()){const ze=z(Ge);ze>0?_e[Be]=[{betrag:ze,datum:""}]:_e[Be]=[]}else _e[Be]=[]}catch{_e[Be]=[]}continue}if(we.startsWith("contract.")&&we.toLowerCase().includes("date")){const ze=Ge?new Date(Ge):null;_e[Be]=ze&&!isNaN(ze.getTime())?ze.toISOString().slice(0,10):"";continue}if(["meterReadings.wasserzaehlerNrDigital","meterReadings.wasserzaehlerNrAnalog","meterReadings.heizungNr","meterReadings.stromNr"].includes(we)){_e[Be]=Ge||"";continue}if(["meterReadings.wasserzaehlerStandDigital","meterReadings.wasserzaehlerStandAnalog","meterReadings.heizungStand","meterReadings.stromStand"].includes(we)){_e[Be]=z(Ge);continue}_e[Be]=Ge??""}let Ie=(oe.apartmentId||"").toString().trim();if(!Ie)V.push({rowIndex:de+4,reason:"Keine Wohnungs-ID erstellt werden konnte",sentence:"Keine Wohnungs-ID erstellt werden konnte",row:[...De],originalMappedData:{...ue}});else{oe.apartmentId=Ie;const we=oe.apartmentId,Te=yT[we];Te&&(oe.meterReadings.wasserzaehlerNrDigital||(oe.meterReadings.wasserzaehlerNrDigital=Te.wasserzaehlerNrDigital||""),oe.meterReadings.wasserzaehlerNrAnalog||(oe.meterReadings.wasserzaehlerNrAnalog=Te.wasserzaehlerNrAnalog||""),oe.meterReadings.heizungNr||(oe.meterReadings.heizungNr=Te.heizungNr||""),oe.meterReadings.stromNr||(oe.meterReadings.stromNr=Te.stromNr||""));const _e={propertyCode:E,apartmentId:oe.apartmentId,effectiveDate:pt.fromDate(ae),createdAt:pt.now(),changeType:"Importiert",data:oe},Be=wc(ce);te.set(Be,_e)}}}if(V.length>0){N(V.map(de=>({...de}))),b(!0),Ee(!1),ge("Es wurden fehlerhafte Zeilen gefunden. Bitte korrigieren.");return}try{await te.commit(),ge(`Import erfolgreich! ${M.length} Datenstze wurden geschrieben.`),alert("Import abgeschlossen!"),s(Ae)}catch(de){Se("Fehler beim Schreiben in die Datenbank: "+de.message)}finally{Ee(!1)}V.length>0&&(N(V.map(de=>({...de}))),b(!0))},X=async()=>{b(!1),Ee(!0);const V=Yv(r),K=`propertyManagement/${n}/users/${e}/tenantRecords`,ae=Qc(r,K);let te=0;for(const me of C){let ce={details:{},tenants:{},contract:{},payment:{},rent:{},meterReadings:{},notes:""};if(Object.entries(me.originalMappedData).forEach(([oe,ue])=>{oe==="apartmentId"&&(ce.apartmentId=ue),oe==="details.location"&&(ce.details.location=ue)}),!ce.apartmentId)continue;const de={propertyCode:E,apartmentId:ce.apartmentId,effectiveDate:pt.fromDate(new Date(x(Ae))),createdAt:pt.now(),changeType:"Importiert (manuell korrigiert)",data:ce},De=wc(ae);V.set(De,de),te++}await V.commit(),Ee(!1),ge(`${te} korrigierte Datenstze wurden importiert.`),N([]),b(!1)};return Ye.useEffect(()=>{if(y){const V=y.match(/^\d{4}-\d{2}-\d{2}/);V&&k(V[0]);const K=y.match(/\b(TRI|PAS|RITA)\b$/i);K&&T(K[1].toUpperCase())}else k(""),T("")},[y]),R.jsxs("div",{className:"mb-10 p-6 sm:p-8 bg-gray-800 text-gray-200 rounded-xl shadow-2xl border border-gray-700",children:[R.jsxs("div",{className:"flex justify-between items-center border-b border-gray-600 pb-4 mb-6",children:[R.jsx("h2",{className:"text-3xl font-semibold text-white",children:"Google Sheet Import"}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx("button",{onClick:U,disabled:re||M.length===0,className:"px-5 py-2 text-sm bg-emerald-700 hover:bg-emerald-600 text-white font-semibold rounded-lg disabled:bg-gray-500",children:re?"Importiere...":"Daten importieren"}),R.jsx("button",{onClick:()=>s(Ae||new Date().toISOString().split("T")[0]),className:"px-5 py-2 text-sm bg-rose-700 hover:bg-rose-600 text-white font-semibold rounded-lg",children:"Abbrechen"})]})]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[R.jsx("button",{onClick:le,disabled:re,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-700 w-full sm:w-auto",children:re?"Lade...":"1. Tabellenbltter laden"}),d.length>0&&R.jsxs("select",{value:y,onChange:V=>p(V.target.value),className:"block w-full p-2 border border-gray-600 bg-gray-700 rounded-md shadow-sm",children:[R.jsx("option",{value:"",children:"-- 2. Tabellenblatt auswhlen --"}),d.map(V=>R.jsx("option",{value:V.title,children:V.title},V.title))]}),y&&R.jsx("button",{onClick:Ue,disabled:!y||re,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-700 w-full sm:w-auto",children:"3. Daten fr Mapping laden"})]}),Pe&&R.jsx("p",{className:"text-red-400 text-sm mt-1",children:Pe}),y&&R.jsx("div",{className:"p-3 bg-gray-700 border border-gray-600 rounded-lg",children:R.jsxs("p",{className:"text-sm text-gray-300",children:["Erkannt aus dem Blattnamen:",R.jsx("span",{className:"font-bold text-blue-400 ml-2",children:dN[E]||"..."}),R.jsxs("span",{className:"font-bold text-blue-400 ml-2",children:["(",Ae||"Kein Datum erkannt",")"]})]})}),A.length>0&&M.length>0&&R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"mb-2",children:[R.jsx("label",{className:"block text-base font-medium text-gray-300 mb-1",children:"Stichtagsdatum fr Import"}),R.jsx("input",{type:"date",className:"bg-gray-800 border border-gray-600 rounded px-3 py-2 text-gray-200",value:Ae,onChange:V=>k(V.target.value)}),R.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"(Wird fr alle importierten Datenstze verwendet)"})]}),R.jsx("label",{className:"block text-base font-medium text-gray-300",children:"4. Spalten zuordnen"}),R.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:A.map((V,K)=>{if(!V.trim()&&M.every(te=>!te[K]))return null;const ae=Object.entries(ee).filter(([te,me])=>me&&Number(te)!==K).map(([te,me])=>me);return R.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg border border-gray-600 flex items-center justify-between gap-6",children:[R.jsxs("div",{style:{width:"280px"},className:"flex-shrink-0",children:[R.jsx("p",{className:"font-bold text-blue-400 truncate",title:V||`Spalte ${K+1}`,children:V&&V.trim()?V:`Spalte ${K+1}`}),R.jsx("div",{className:"mt-1 text-xs text-gray-400 bg-gray-900 p-2 rounded border border-dashed border-gray-500 h-16 overflow-y-auto",children:M.slice(0,3).map((te,me)=>R.jsx("p",{className:"truncate",children:te[K]||R.jsx("span",{className:"italic text-gray-500",children:"leer"})},me))})]}),R.jsx("div",{style:{width:"280px"},className:"flex-shrink-0",children:R.jsxs("select",{value:ee[K]||"",onChange:te=>G(K,te.target.value),className:"block w-full p-2 border border-gray-600 bg-gray-900 text-gray-200 rounded-md shadow-sm",children:[R.jsx("option",{value:"",children:"-- Nicht importieren --"}),fN.filter(te=>!ae.includes(te.key)||ee[K]===te.key).map(te=>R.jsx("option",{value:te.key,children:te.label},te.key))]})})]},K)})})]}),be&&R.jsx("p",{className:"mt-2 text-sm font-medium",children:be}),R.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-600",children:[R.jsx("button",{onClick:U,disabled:re||M.length===0,className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-700 disabled:cursor-not-allowed",children:re?"Importiere...":"Daten importieren"}),R.jsx("button",{onClick:()=>s(Ae||new Date().toISOString().split("T")[0]),className:"px-8 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Abbrechen"})]})]}),I&&R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-8 w-full max-w-2xl",children:[R.jsx("h3",{className:"text-lg font-bold text-red-400 mb-4",children:"Fehlerhafte Zeilen  bitte korrigieren"}),R.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:C.map((V,K)=>R.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded p-4 flex flex-col gap-2",children:[R.jsxs("div",{className:"text-xs text-gray-400",children:["Zeile im Sheet: ",V.rowIndex,"  Grund: ",V.reason]}),R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("label",{className:"text-sm",children:"Wohnungs-ID:"}),R.jsx("input",{type:"text",value:V.originalMappedData.apartmentId||"",onChange:ae=>{const te=[...C];te[K].originalMappedData.apartmentId=ae.target.value,N(te)},className:"bg-gray-700 border border-gray-500 rounded px-2 py-1 text-gray-200"})]}),R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("label",{className:"text-sm",children:"Lage:"}),R.jsx("input",{type:"text",value:V.originalMappedData["details.location"]||"",onChange:ae=>{const te=[...C];te[K].originalMappedData["details.location"]=ae.target.value,N(te)},className:"bg-gray-700 border border-gray-500 rounded px-2 py-1 text-gray-200"})]}),R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("label",{className:"text-sm",children:"Mieter 1 Name:"}),R.jsx("input",{type:"text",value:V.originalMappedData["tenants.tenant1.name"]||"",readOnly:!0,className:"bg-gray-700 border border-gray-500 rounded px-2 py-1 text-gray-400 cursor-not-allowed"})]}),R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("label",{className:"text-sm",children:"Kaltmiete:"}),R.jsx("input",{type:"text",value:V.originalMappedData["rent.base"]||"",readOnly:!0,className:"bg-gray-700 border border-gray-500 rounded px-2 py-1 text-gray-400 cursor-not-allowed"})]}),R.jsx("div",{className:"flex justify-end mt-2",children:R.jsx("button",{onClick:()=>{const ae=C.filter((te,me)=>me!==K);N(ae)},className:"btn btn-danger text-xs",children:"Datensatz verwerfen"})})]},K))}),R.jsxs("div",{className:"flex gap-4 mt-6",children:[R.jsx("button",{onClick:X,className:"btn btn-success",children:"Korrigierte Zeilen importieren"}),R.jsx("button",{onClick:()=>b(!1),className:"btn btn-danger",children:"Abbrechen"})]})]})})]})},gN={apiKey:"AIzaSyDKCUfRQAldZXFjF6PT_qcInBewvHmnKFU",authDomain:"immobiliendaten-9ce02.firebaseapp.com",projectId:"immobiliendaten-9ce02",storageBucket:"immobiliendaten-9ce02.firebasestorage.app",messagingSenderId:"260402835458",appId:"1:260402835458:web:617a310f512c6779d2f71b"},gc={TRI:{name:"Triftstrae",hasHouseNumbers:!0},PAS:{name:"Pasewalker Str.",hasHouseNumbers:!1},RITA:{name:"Rosenthaler Str.",hasHouseNumbers:!1},"TRI-P":{name:"Parkpltze Triftstrae",hasHouseNumbers:!1}},pN=(r,e)=>r.sort((n,s)=>{if(e==="TRI"){const d=parseInt(n.data.details.houseNumber||"0"),g=parseInt(s.data.details.houseNumber||"0");if(d!==g)return d-g}const l=(n.data.details.location||"").replace("EG","0").replace("OG",""),u=(s.data.details.location||"").replace("EG","0").replace("OG","");return l.localeCompare(u)});function yN(){const[r,e]=Ye.useState(null),[n,s]=Ye.useState(null),[l,u]=Ye.useState(null),[d,g]=Ye.useState({}),[y,p]=Ye.useState(!0),[A,D]=Ye.useState(new Date().toISOString().split("T")[0]),[M,Q]=Ye.useState(!1),[ee,he]=Ye.useState(void 0),[re,Ee]=Ye.useState(!1),[be,ge]=Ye.useState(!1);Ye.useEffect(()=>{const z=o0(gN);e(zw(z)),s(z2(z))},[]),Ye.useEffect(()=>{if(r){const z=w1(r,W=>{u(W)});return()=>z()}},[r]);const Pe=Ye.useCallback(async()=>{if(!n||!l)return;p(!0);const z=`propertyManagement/${n.app.options.appId}/users/${l.uid}/tenantRecords`,W=Qc(n,z),x=pt.fromDate(new Date(A)),U=X2(W,$2("effectiveDate","<=",x)),X=await nN(U),V=[];X.forEach(me=>{V.push({id:me.id,...me.data()})});const K=new Map;for(const me of V){const ce=`${me.propertyCode}-${me.apartmentId}`,de=K.get(ce);(!de||me.effectiveDate.toMillis()>de.effectiveDate.toMillis())&&K.set(ce,me)}const ae=Array.from(K.values()),te={};for(const me of Object.keys(gc)){const ce=ae.filter(de=>de.propertyCode===me);te[me]=pN(ce,me)}g(te),p(!1)},[n,l,A]);Ye.useEffect(()=>{l&&n&&Pe()},[l,n,A,Pe]);const Se=async()=>{if(!r)return;const z=new or;await K1(r,z).catch(W=>console.error(W))},Ae=async()=>{r&&await R1(r)},k=()=>{he(void 0),Ee(!1),ge(!1),Q(!0)},E=z=>{he(z),Ee(!1),Q(!0)},T=z=>{he(z),Ee(!0),Q(!0)},I=z=>{D(z),ge(!1)},b=async z=>{if(!n||!l)return;const W={area:parseFloat(z.formArea)||0,houseNumber:z.formHouseNumber||"",location:z.formPosition||"",persons:parseInt(z.formPersons)||0,stellplatz1:z.formStellplatz1||"",stellplatz2:z.formStellplatz2||"",stellplatz3:z.formStellplatz3||"",stellplatz4:z.formStellplatz4||""},x={tenant1:{name:`${z.tenant1Salutation} ${z.tenant1FirstName} ${z.tenant1LastName}`.trim(),phone:z.tenant1Phone||"",email:z.tenant1Email||""},tenant2:z.tenant2FirstName||z.tenant2LastName?{name:`${z.tenant2Salutation} ${z.tenant2FirstName} ${z.tenant2LastName}`.trim(),phone:z.tenant2Phone||"",email:z.tenant2Email||""}:void 0},U={contractDate:z.formContractDate||"",moveInDate:z.formMoveInDate||"",terminationDate:z.formTerminationDate||"",contractEndDate:z.formContractEndDate||"",kautionHoehe:parseFloat(z.formKautionHoehe)||0,kautionszahlungen:(z.formKautionszahlungen||[]).map(oe=>({betrag:parseFloat(oe.betrag)||0,datum:oe.datum||""}))},X={iban:z.formIban||"",directDebitMandateDate:z.formDirectDebitMandateDate||"",mandateReference:z.formMandateReference||""},V={base:parseFloat(z.formRentBase)||0,utilities:parseFloat(z.formRentUtilities)||0,heating:parseFloat(z.formRentHeating)||0,parking:parseFloat(z.formRentParking)||0,total:(parseFloat(z.formRentBase)||0)+(parseFloat(z.formRentUtilities)||0)+(parseFloat(z.formRentHeating)||0)+(parseFloat(z.formRentParking)||0)},K={wasserzaehlerNrDigital:z.formWasserzaehlerNrDigital||"",wasserzaehlerStandDigital:parseFloat(z.formWasserzaehlerStandDigital)||0,wasserzaehlerNrAnalog:z.formWasserzaehlerNrAnalog||"",wasserzaehlerStandAnalog:parseFloat(z.formWasserzaehlerStandAnalog)||0,heizungNr:z.formHeizungNr||"",heizungStand:parseFloat(z.formHeizungStand)||0,stromNr:z.formStromNr||"",stromStand:parseFloat(z.formStromStand)||0},ae=z.formNotes||"",te={details:W,tenants:x,contract:U,payment:X,rent:V,meterReadings:K,notes:ae},me=`propertyManagement/${n.app.options.appId}/users/${l.uid}/tenantRecords`,ce=Qc(n,me),de=z.formEffectiveDate?pt.fromDate(new Date(z.formEffectiveDate)):pt.now(),De={propertyCode:z.selectedProperty||"TRI",apartmentId:z.formApartmentId,effectiveDate:de,data:te};await iN(ce,De),await Pe()},[C,N]=Ye.useState({}),le=(z,W)=>{N(x=>{const U=x[z];return U&&U.key===W?{...x,[z]:{key:W,direction:U.direction==="asc"?"desc":"asc"}}:{...x,[z]:{key:W,direction:"asc"}}})};function Ue(z){if(!z)return"";const W=z.trim().split(/\s+/);return W.length===1?W[0]:W[W.length-1]}function G(z,W){var x,U,X;if(W==="tenants.tenant1.name"){const V=((X=(U=(x=z==null?void 0:z.data)==null?void 0:x.tenants)==null?void 0:U.tenant1)==null?void 0:X.name)||"";return Ue(V).toLowerCase()}return W.split(".").reduce((V,K)=>V&&V[K],(z==null?void 0:z.data)??z)}const Z=(z,W)=>{const x=C[z];let U=[...W];return x&&U.sort((X,V)=>{if(x.key==="apartmentId"){const te=de=>{const De=de.match(/P(\d+)/i);if(De)return parseInt(De[1],10);const oe=parseInt(de.replace(/\D/g,""));return isNaN(oe)?de:oe},me=te(X.apartmentId),ce=te(V.apartmentId);return typeof me=="number"&&typeof ce=="number"?x.direction==="asc"?me-ce:ce-me:x.direction==="asc"?String(me).localeCompare(String(ce)):String(ce).localeCompare(String(me))}const K=G(X,x.key),ae=G(V,x.key);return typeof K=="number"&&typeof ae=="number"?x.direction==="asc"?K-ae:ae-K:x.direction==="asc"?String(K||"").localeCompare(String(ae||"")):String(ae||"").localeCompare(String(K||""))}),U};return!r||!n?R.jsx("div",{className:"text-center p-10",children:"Dienste werden initialisiert..."}):l?R.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[R.jsxs("header",{className:"mb-8 p-6 bg-gray-800 border border-gray-700 rounded-xl shadow-lg flex justify-between items-center",children:[R.jsx("h1",{className:"text-3xl font-bold text-white",children:"Immobilienverwaltung"}),R.jsxs("div",{children:[R.jsx("p",{className:"text-right text-gray-400",children:l.email}),R.jsx("button",{onClick:Ae,className:"text-sm text-blue-400 hover:underline font-semibold",children:"Abmelden"})]})]}),M?R.jsx(oN,{selectedProperty:"TRI",onCancel:()=>Q(!1),recordToUpdate:ee,isTenantChangeMode:re,onSave:b}):be?R.jsx(mN,{db:n,userId:l.uid,appId:n.app.options.appId,onImportComplete:I}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"mb-6 p-6 bg-gray-800 border border-gray-700 rounded-xl shadow-lg",children:R.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"font-semibold text-gray-300 mr-2",children:"Datenstand vom:"}),R.jsx("input",{type:"date",value:A,onChange:z=>D(z.target.value),className:"p-2 border border-gray-600 bg-gray-700 text-white rounded-md shadow-sm"})]}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx("button",{onClick:k,className:"btn btn-success",children:"Neuen Datensatz"}),R.jsx("button",{onClick:()=>ge(!0),className:"btn btn-special",children:"Daten importieren"})]})]})}),y?R.jsx("p",{className:"text-center p-10",children:"Lade Daten..."}):R.jsx("div",{className:"space-y-8",children:["TRI","TRI-P","PAS","RITA"].map(z=>d[z]&&R.jsxs("div",{className:"p-4 sm:p-6 bg-gray-800 border border-gray-700 rounded-xl shadow-lg",children:[R.jsx("h2",{className:"block-title",children:gc[z].name}),R.jsx("div",{className:"overflow-x-auto bg-gray-800 border border-gray-700 rounded-xl shadow-lg",children:R.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[R.jsx("thead",{className:"bg-gray-700",children:R.jsxs("tr",{children:[gc[z].hasHouseNumbers&&R.jsx("th",{className:"th-style cursor-pointer",onClick:()=>le(z,"details.houseNumber"),children:"Hausnr."}),R.jsx("th",{className:"th-style cursor-pointer",onClick:()=>le(z,"apartmentId"),children:"Wohnung"}),R.jsx("th",{className:"th-style cursor-pointer",onClick:()=>le(z,"details.location"),children:"Lage"}),R.jsx("th",{className:"th-style cursor-pointer",onClick:()=>le(z,"tenants.tenant1.name"),children:"Mieter 1"}),R.jsx("th",{className:"th-style cursor-pointer text-right",onClick:()=>le(z,"details.area"),children:"Flche"}),R.jsx("th",{className:"th-style cursor-pointer text-right",onClick:()=>le(z,"rent.total"),children:"Gesamtmiete"}),R.jsx("th",{className:"th-style cursor-pointer",onClick:()=>le(z,"details.stellplatz1"),children:"Stellpltze"}),R.jsx("th",{className:"th-style cursor-pointer text-right",onClick:()=>le(z,"contract.kautionszahlungen"),children:"Kaution"}),R.jsx("th",{className:"th-style text-center",children:"Aktionen"})]})}),R.jsx("tbody",{className:"divide-y divide-gray-700",children:Z(z,d[z]).map(W=>{var X,V,K,ae,te,me,ce,de,De;const x=(V=(X=W.data)==null?void 0:X.details)==null?void 0:V.area,U=(ae=(K=W.data)==null?void 0:K.rent)==null?void 0:ae.total;return R.jsxs("tr",{className:"hover:bg-gray-700/50",children:[gc[z].hasHouseNumbers&&R.jsx("td",{className:"td-style",children:((te=W.data.details)==null?void 0:te.houseNumber)||"-"}),R.jsx("td",{className:"td-style font-medium text-white",children:W.apartmentId}),R.jsx("td",{className:"td-style text-gray-400",children:((me=W.data.details)==null?void 0:me.location)||"-"}),R.jsx("td",{className:"td-style",children:(()=>{var xe;const oe=(xe=W.data.tenants)==null?void 0:xe.tenant1;if(!oe)return"N/A";const ue=(oe.name||"").trim().split(/\s+/);let Ke="",je="";return ue.length===2?(Ke=ue[0],je=ue[1]):ue.length>2?(Ke=ue.slice(0,-1).join(" "),je=ue[ue.length-1]):ue.length===1&&(Ke=ue[0],je=""),`${Ke} ${je}`.trim()})()}),R.jsx("td",{className:"td-style text-right",children:typeof x=="number"?`${x.toFixed(2)} m`:"-"}),R.jsx("td",{className:"td-style text-right font-semibold",children:typeof U=="number"?`${U.toFixed(2)} `:"-"}),R.jsx("td",{className:"td-style text-gray-400",children:[(ce=W.data.details)==null?void 0:ce.stellplatz1,(de=W.data.details)==null?void 0:de.stellplatz2,(De=W.data.details)==null?void 0:De.stellplatz3].filter(Boolean).join(", ")||"-"}),R.jsx("td",{className:"td-style text-right",children:(()=>{var ue;const oe=(ue=W.data.contract)==null?void 0:ue.kautionszahlungen;return Array.isArray(oe)&&oe.length>0?`${oe.reduce((je,xe)=>typeof xe=="object"&&xe!==null?je+(parseFloat(String(xe.betrag))||0):typeof xe=="number"||typeof xe=="string"?je+(parseFloat(xe)||0):je,0).toFixed(2)}  (${oe.length} Rate${oe.length>1?"n":""})`:"-"})()}),R.jsxs("td",{className:"td-style text-center space-x-2",children:[R.jsx("button",{onClick:()=>E(W),className:"btn btn-edit",children:"Details"}),R.jsx("button",{onClick:()=>T(W),className:"btn btn-primary",children:"Mieterwechsel"})]})]},W.id)})})]})})]},z))})]})]}):R.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:R.jsxs("div",{className:"p-10 bg-gray-800 border border-gray-700 rounded-xl shadow-2xl text-center",children:[R.jsx("h1",{className:"text-2xl font-bold mb-4 text-white",children:"Bitte anmelden"}),R.jsx("button",{onClick:Se,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Mit Google anmelden"})]})})}Wb.createRoot(document.getElementById("root")).render(R.jsx(Ye.StrictMode,{children:R.jsx(yN,{})}));
